"use strict";var pP=Object.create;var Fi=Object.defineProperty;var mP=Object.getOwnPropertyDescriptor;var hP=Object.getOwnPropertyNames;var gP=Object.getPrototypeOf,yP=Object.prototype.hasOwnProperty;var E=(e,t)=>()=>(e&&(t=e(e=0)),t);var P=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ye=(e,t)=>{for(var r in t)Fi(e,r,{get:t[r],enumerable:!0})},ag=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hP(t))!yP.call(e,o)&&o!==r&&Fi(e,o,{get:()=>t[o],enumerable:!(n=mP(t,o))||n.enumerable});return e};var _=(e,t,r)=>(r=e!=null?pP(gP(e)):{},ag(t||!e||!e.__esModule?Fi(r,"default",{value:e,enumerable:!0}):r,e)),G=e=>ag(Fi({},"__esModule",{value:!0}),e);var Nr=P(de=>{"use strict";de.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(de.HttpAuthLocation||(de.HttpAuthLocation={}));de.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(de.HttpApiKeyAuthLocation||(de.HttpApiKeyAuthLocation={}));de.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(de.EndpointURLScheme||(de.EndpointURLScheme={}));de.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(de.AlgorithmId||(de.AlgorithmId={}));var SP=e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>de.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>de.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},EP=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},wP=e=>SP(e),_P=e=>EP(e);de.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(de.FieldPosition||(de.FieldPosition={}));var bP="__smithy_context";de.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(de.IniSectionType||(de.IniSectionType={}));de.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(de.RequestHandlerProtocol||(de.RequestHandlerProtocol={}));de.SMITHY_CONTEXT_KEY=bP;de.getDefaultClientConfiguration=wP;de.resolveDefaultRuntimeConfig=_P});var ce=P(Dr=>{"use strict";var TP=Nr(),AP=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),xP=e=>({httpHandler:e.httpHandler()}),vd=class{name;kind;values;constructor({name:t,kind:r=TP.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},Id=class{entries={};encoding;constructor({fields:t=[],encoding:r="utf-8"}){t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},Pd=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=RP(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function RP(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var Od=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function CP(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Dr.Field=vd;Dr.Fields=Id;Dr.HttpRequest=Pd;Dr.HttpResponse=Od;Dr.getHttpHandlerExtensionConfiguration=AP;Dr.isValidHostname=CP;Dr.resolveHttpHandlerRuntimeConfig=xP});var to=P(as=>{"use strict";var vP=ce();function IP(e){return e}var cg=e=>t=>async r=>{if(!vP.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},ug={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},PP=e=>({applyToStack:t=>{t.add(cg(e),ug)}});as.getHostHeaderPlugin=PP;as.hostHeaderMiddleware=cg;as.hostHeaderMiddlewareOptions=ug;as.resolveHostHeaderConfig=IP});var ro=P(Li=>{"use strict";var dg=()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:u}=a,m=c??t.inputFilterSensitiveLog,l=u??t.outputFilterSensitiveLog,{$metadata:g,...h}=n.output;return i?.info?.({clientName:o,commandName:s,input:m(r.input),output:l(h),metadata:g}),n}catch(n){let{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,u=c??t.inputFilterSensitiveLog;throw i?.error?.({clientName:o,commandName:s,input:u(r.input),error:n,metadata:n.$metadata}),n}},lg={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},OP=e=>({applyToStack:t=>{t.add(dg(),lg)}});Li.getLoggerPlugin=OP;Li.loggerMiddleware=dg;Li.loggerMiddlewareOptions=lg});var fg={};Ye(fg,{InvokeStore:()=>$d,InvokeStoreBase:()=>us});var cs,Nd,us,Dd,kd,$d,pg=E(()=>{cs={REQUEST_ID:Symbol.for("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol.for("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol.for("_AWS_LAMBDA_TENANT_ID")},Nd=["true","1"].includes(process.env?.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA??"");Nd||(globalThis.awslambda=globalThis.awslambda||{});us=class{static PROTECTED_KEYS=cs;isProtectedKey(t){return Object.values(cs).includes(t)}getRequestId(){return this.get(cs.REQUEST_ID)??"-"}getXRayTraceId(){return this.get(cs.X_RAY_TRACE_ID)}getTenantId(){return this.get(cs.TENANT_ID)}},Dd=class extends us{currentContext;getContext(){return this.currentContext}hasContext(){return this.currentContext!==void 0}get(t){return this.currentContext?.[t]}set(t,r){if(this.isProtectedKey(t))throw new Error(`Cannot modify protected Lambda context field: ${String(t)}`);this.currentContext=this.currentContext||{},this.currentContext[t]=r}run(t,r){return this.currentContext=t,r()}},kd=class e extends us{als;static async create(){let t=new e,r=await import("node:async_hooks");return t.als=new r.AsyncLocalStorage,t}getContext(){return this.als.getStore()}hasContext(){return this.als.getStore()!==void 0}get(t){return this.als.getStore()?.[t]}set(t,r){if(this.isProtectedKey(t))throw new Error(`Cannot modify protected Lambda context field: ${String(t)}`);let n=this.als.getStore();if(!n)throw new Error("No context available");n[t]=r}run(t,r){return this.als.run(t,r)}};(function(e){let t=null;async function r(){return t||(t=(async()=>{let o="AWS_LAMBDA_MAX_CONCURRENCY"in process.env?await kd.create():new Dd;return!Nd&&globalThis.awslambda?.InvokeStore?globalThis.awslambda.InvokeStore:(!Nd&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=o),o)})()),t}e.getInstanceAsync=r,e._testing=process.env.AWS_LAMBDA_BENCHMARK_MODE==="1"?{reset:()=>{t=null,globalThis.awslambda?.InvokeStore&&delete globalThis.awslambda.InvokeStore,globalThis.awslambda={}}}:void 0})($d||($d={}))});var mg=P(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.recursionDetectionMiddleware=void 0;var NP=(pg(),G(fg)),DP=ce(),Md="X-Amzn-Trace-Id",kP="AWS_LAMBDA_FUNCTION_NAME",$P="_X_AMZN_TRACE_ID",MP=()=>e=>async t=>{let{request:r}=t;if(!DP.HttpRequest.isInstance(r))return e(t);let n=Object.keys(r.headers??{}).find(m=>m.toLowerCase()===Md.toLowerCase())??Md;if(r.headers.hasOwnProperty(n))return e(t);let o=process.env[kP],s=process.env[$P],c=(await NP.InvokeStore.getInstanceAsync())?.getXRayTraceId()??s,u=m=>typeof m=="string"&&m.length>0;return u(o)&&u(c)&&(r.headers[Md]=c),e({...t,request:r})};Ui.recursionDetectionMiddleware=MP});var no=P(qi=>{"use strict";var Fd=mg(),FP={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},LP=e=>({applyToStack:t=>{t.add(Fd.recursionDetectionMiddleware(),FP)}});qi.getRecursionDetectionPlugin=LP;Object.keys(Fd).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(qi,e)&&Object.defineProperty(qi,e,{enumerable:!0,get:function(){return Fd[e]}})})});var Ld,UP,hg=E(()=>{Ld=_(Nr()),UP=e=>e[Ld.SMITHY_CONTEXT_KEY]||(e[Ld.SMITHY_CONTEXT_KEY]={})});var Xe=P(Ud=>{"use strict";var gg=Nr(),qP=e=>e[gg.SMITHY_CONTEXT_KEY]||(e[gg.SMITHY_CONTEXT_KEY]={}),HP=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};Ud.getSmithyContext=qP;Ud.normalizeProvider=HP});var yg,Sg=E(()=>{yg=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let o of e)o.schemeId.split("#")[1]===n&&r.push(o);for(let n of e)r.find(({schemeId:o})=>o===n.schemeId)||r.push(n);return r}});function jP(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var Eg,ds,Hi=E(()=>{Eg=_(Xe());Sg();ds=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=yg(s,i),c=jP(e.httpAuthSchemes),u=(0,Eg.getSmithyContext)(n),m=[];for(let l of a){let g=c.get(l.schemeId);if(!g){m.push(`HttpAuthScheme \`${l.schemeId}\` was not enabled for this service.`);continue}let h=g.identityProvider(await t.identityProviderConfigProvider(e));if(!h){m.push(`HttpAuthScheme \`${l.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:y={},signingProperties:A={}}=l.propertiesExtractor?.(e,n)||{};l.identityProperties=Object.assign(l.identityProperties||{},y),l.signingProperties=Object.assign(l.signingProperties||{},A),u.selectedHttpAuthScheme={httpAuthOption:l,identity:await h(l.identityProperties),signer:g.signer};break}if(!u.selectedHttpAuthScheme)throw new Error(m.join(`
`));return r(o)}});var wg,An,_g=E(()=>{Hi();wg={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},An=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(ds(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),wg)}})});var Hd=P(oo=>{"use strict";var BP=ce(),bg=(e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(BP.HttpResponse.isInstance(s)){let{headers:c={}}=s,u=Object.entries(c);i.$metadata={httpStatusCode:s.statusCode,requestId:qd(/^x-[\w-]+-request-?id$/,u),extendedRequestId:qd(/^x-[\w-]+-id-2$/,u),cfId:qd(/^x-[\w-]+-cf-id$/,u)}}}catch{}}throw i}},qd=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],Tg=(e,t)=>(r,n)=>async o=>{let s=e,i=n.endpointV2?.url&&s.urlParser?async()=>s.urlParser(n.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:i});return r({...o,request:a})},Ag={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},xg={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function zP(e,t,r){return{applyToStack:n=>{n.add(bg(e,r),Ag),n.add(Tg(e,t),xg)}}}oo.deserializerMiddleware=bg;oo.deserializerMiddlewareOption=Ag;oo.getSerdePlugin=zP;oo.serializerMiddleware=Tg;oo.serializerMiddlewareOption=xg});var Rg,Cg,VP,vg=E(()=>{Rg=_(Hd());Hi();Cg={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Rg.serializerMiddlewareOption.name},VP=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(ds(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Cg)}})});var Ig=E(()=>{Hi();_g();vg()});var Pg,Og,WP,GP,jd,Bd=E(()=>{Pg=_(ce()),Og=_(Xe()),WP=e=>t=>{throw t},GP=(e,t)=>{},jd=e=>(t,r)=>async n=>{if(!Pg.HttpRequest.isInstance(n.request))return t(n);let s=(0,Og.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=s,u=await t({...n,request:await c.sign(n.request,a,i)}).catch((c.errorHandler||WP)(i));return(c.successHandler||GP)(u.response,i),u}});var Ng,xn,Dg=E(()=>{Bd();Ng={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},xn=e=>({applyToStack:t=>{t.addRelativeTo(jd(e),Ng)}})});var kg=E(()=>{Bd();Dg()});var kr,$g=E(()=>{kr=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function Mg(e,t,r,n,o){return async function*(i,a,...c){let u=a,m=i.startingToken??u[r],l=!0,g;for(;l;){if(u[r]=m,o&&(u[o]=u[o]??i.pageSize),i.client instanceof e)g=await KP(t,i.client,a,i.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield g;let h=m;m=YP(g,n),l=!!(m&&(!i.stopOnSameToken||m!==h))}return void 0}}var KP,YP,Fg=E(()=>{KP=async(e,t,r,n=s=>s,...o)=>{let s=new e(r);return s=n(s)??s,await t.send(s,...o)};YP=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var zd=P(Lg=>{"use strict";var XP=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";Lg.isArrayBuffer=XP});var so=P(Wd=>{"use strict";var JP=zd(),Vd=require("buffer"),QP=(e,t=0,r=e.byteLength-t)=>{if(!JP.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Vd.Buffer.from(e,t,r)},ZP=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Vd.Buffer.from(e,t):Vd.Buffer.from(e)};Wd.fromArrayBuffer=QP;Wd.fromString=ZP});var Ug=P(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.fromBase64=void 0;var eO=so(),tO=/^[A-Za-z0-9+/]*={0,2}$/,rO=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!tO.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,eO.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};ji.fromBase64=rO});var Ce=P(Bi=>{"use strict";var qg=so(),Hg=e=>{let t=qg.fromString(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},nO=e=>typeof e=="string"?Hg(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),oO=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return qg.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};Bi.fromUtf8=Hg;Bi.toUint8Array=nO;Bi.toUtf8=oO});var jg=P(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.toBase64=void 0;var sO=so(),iO=Ce(),aO=e=>{let t;if(typeof e=="string"?t=(0,iO.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,sO.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};zi.toBase64=aO});var ve=P(ls=>{"use strict";var Bg=Ug(),zg=jg();Object.keys(Bg).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ls,e)&&Object.defineProperty(ls,e,{enumerable:!0,get:function(){return Bg[e]}})});Object.keys(zg).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ls,e)&&Object.defineProperty(ls,e,{enumerable:!0,get:function(){return zg[e]}})})});var Kd=P(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.ChecksumStream=void 0;var cO=ve(),uO=require("stream"),Gd=class extends uO.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=s??cO.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};Vi.ChecksumStream=Gd});var mr=P(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.isBlob=io.isReadableStream=void 0;var dO=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);io.isReadableStream=dO;var lO=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);io.isBlob=lO});var Vg=P(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.ChecksumStream=void 0;var fO=typeof ReadableStream=="function"?ReadableStream:function(){},Yd=class extends fO{};Wi.ChecksumStream=Yd});var Wg=P(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.createChecksumStream=void 0;var pO=ve(),mO=mr(),hO=Vg(),gO=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{if(!(0,mO.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let s=o??pO.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(c,u){t.update(c),u.enqueue(c)},async flush(c){let u=await t.digest(),m=s(u);if(e!==m){let l=new Error(`Checksum mismatch: expected "${e}" but received "${m}" in response header "${n}".`);c.error(l)}else c.terminate()}});r.pipeThrough(i);let a=i.readable;return Object.setPrototypeOf(a,hO.ChecksumStream.prototype),a};Gi.createChecksumStream=gO});var Gg=P(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});Xd.createChecksumStream=wO;var yO=mr(),SO=Kd(),EO=Wg();function wO(e){return typeof ReadableStream=="function"&&(0,yO.isReadableStream)(e.source)?(0,EO.createChecksumStream)(e):new SO.ChecksumStream(e)}});var Qd=P(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.ByteArrayCollector=void 0;var Jd=class{allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};Ki.ByteArrayCollector=Jd});var Jg=P(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.createBufferedReadable=void 0;hr.createBufferedReadableStream=Kg;hr.merge=Yg;hr.flush=Yi;hr.sizeOf=ao;hr.modeOf=Xg;var _O=Qd();function Kg(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new _O.ByteArrayCollector(u=>new Uint8Array(u))],a=-1,c=async u=>{let{value:m,done:l}=await n.read(),g=m;if(l){if(a!==-1){let h=Yi(i,a);ao(h)>0&&u.enqueue(h)}u.close()}else{let h=Xg(g,!1);if(a!==h&&(a>=0&&u.enqueue(Yi(i,a)),a=h),a===-1){u.enqueue(g);return}let y=ao(g);s+=y;let A=ao(i[a]);if(y>=t&&A===0)u.enqueue(g);else{let R=Yg(i,a,g);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${y} is below threshold of ${t}, automatically buffering.`)),R>=t?u.enqueue(Yi(i,a)):await c(u)}}};return new ReadableStream({pull:c})}hr.createBufferedReadable=Kg;function Yg(e,t,r){switch(t){case 0:return e[0]+=r,ao(e[0]);case 1:case 2:return e[t].push(r),ao(e[t])}}function Yi(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function ao(e){return e?.byteLength??e?.length??0}function Xg(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var Zg=P(Zd=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});Zd.createBufferedReadable=AO;var bO=require("node:stream"),Qg=Qd(),gr=Jg(),TO=mr();function AO(e,t,r){if((0,TO.isReadableStream)(e))return(0,gr.createBufferedReadableStream)(e,t,r);let n=new bO.Readable({read(){}}),o=!1,s=0,i=["",new Qg.ByteArrayCollector(c=>new Uint8Array(c)),new Qg.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let u=(0,gr.modeOf)(c,!0);if(a!==u&&(a>=0&&n.push((0,gr.flush)(i,a)),a=u),a===-1){n.push(c);return}let m=(0,gr.sizeOf)(c);s+=m;let l=(0,gr.sizeOf)(i[a]);if(m>=t&&l===0)n.push(c);else{let g=(0,gr.merge)(i,a,c);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${m} is below threshold of ${t}, automatically buffering.`)),g>=t&&n.push((0,gr.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,gr.flush)(i,a);(0,gr.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var ey=P(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.getAwsChunkedEncodingStream=void 0;var xO=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&n!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,u=e.getReader();return new ReadableStream({async pull(m){let{value:l,done:g}=await u.read();if(g){if(m.enqueue(`0\r
`),a){let h=r(await c);m.enqueue(`${s}:${h}\r
`),m.enqueue(`\r
`)}m.close()}else m.enqueue(`${(n(l)||0).toString(16)}\r
${l}\r
`)}})};Xi.getAwsChunkedEncodingStream=xO});var ty=P(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.getAwsChunkedEncodingStream=IO;var RO=require("node:stream"),CO=ey(),vO=mr();function IO(e,t){let r=e,n=e;if((0,vO.isReadableStream)(n))return(0,CO.getAwsChunkedEncodingStream)(n,t);let{base64Encoder:o,bodyLengthChecker:s,checksumAlgorithmFn:i,checksumLocationName:a,streamHasher:c}=t,u=o!==void 0&&i!==void 0&&a!==void 0&&c!==void 0,m=u?c(i,r):void 0,l=new RO.Readable({read:()=>{}});return r.on("data",g=>{let h=s(g)||0;h!==0&&(l.push(`${h.toString(16)}\r
`),l.push(g),l.push(`\r
`))}),r.on("end",async()=>{if(l.push(`0\r
`),u){let g=o(await m);l.push(`${a}:${g}\r
`),l.push(`\r
`)}l.push(null)}),l}});var ry=P(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.headStream=PO;async function PO(e,t){let r=0,n=[],o=e.getReader(),s=!1;for(;!s;){let{done:c,value:u}=await o.read();if(u&&(n.push(u),r+=u?.byteLength??0),r>=t)break;s=c}o.releaseLock();let i=new Uint8Array(Math.min(t,r)),a=0;for(let c of n){if(c.byteLength>i.byteLength-a){i.set(c.subarray(0,i.byteLength-a),a);break}else i.set(c,a);a+=c.length}return i}});var ny=P(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.headStream=void 0;var OO=require("stream"),NO=ry(),DO=mr(),kO=(e,t)=>(0,DO.isReadableStream)(e)?(0,NO.headStream)(e,t):new Promise((r,n)=>{let o=new rl;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});Ji.headStream=kO;var rl=class extends OO.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(t,r,n){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){let o=this.bytesBuffered-this.limit,s=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=s.subarray(0,s.byteLength-o),this.emit("finish")}n()}}});var ol=P(nl=>{"use strict";var oy=e=>encodeURIComponent(e).replace(/[!'()*]/g,$O),$O=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,MO=e=>e.split("/").map(oy).join("/");nl.escapeUri=oy;nl.escapeUriPath=MO});var il=P(sy=>{"use strict";var sl=ol();function FO(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=sl.escapeUri(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${sl.escapeUri(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${sl.escapeUri(n)}`),t.push(o)}}return t.join("&")}sy.buildQueryString=FO});var $r=P(fs=>{"use strict";var uy=ce(),dy=il(),Qi=require("http"),Zi=require("https"),ly=require("stream"),al=require("http2"),LO=["ECONNRESET","EPIPE","ETIMEDOUT"],fy=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},Je={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},iy=1e3,UO=(e,t,r=0)=>{if(!r)return-1;let n=o=>{let s=Je.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-o),i=a=>{a?.connecting?a.on("connect",()=>{Je.clearTimeout(s)}):Je.clearTimeout(s)};e.socket?i(e.socket):e.on("socket",i)};return r<2e3?(n(0),0):Je.setTimeout(n.bind(null,iy),iy)},qO=(e,t,r=0,n,o)=>r?Je.setTimeout(()=>{let s=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let i=Object.assign(new Error(s),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(i),t(i)}else s+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",o?.warn?.(s)},r):-1,HO=3e3,jO=(e,{keepAlive:t,keepAliveMsecs:r},n=HO)=>{if(t!==!0)return-1;let o=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})};return n===0?(o(),0):Je.setTimeout(o,n)},ay=3e3,BO=(e,t,r=0)=>{let n=o=>{let s=r-o,i=()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)};return 0<r&&r<6e3?(n(0),0):Je.setTimeout(n.bind(null,r===0?0:ay),ay)},cy=6e3;async function py(e,t,r=cy,n=!1){let o=t.headers??{},s=o.Expect||o.expect,i=-1,a=!0;!n&&s==="100-continue"&&(a=await Promise.race([new Promise(c=>{i=Number(Je.setTimeout(()=>c(!0),Math.max(cy,r)))}),new Promise(c=>{e.on("continue",()=>{Je.clearTimeout(i),c(!0)}),e.on("response",()=>{Je.clearTimeout(i),c(!1)}),e.on("error",()=>{Je.clearTimeout(i),c(!1)})})])),a&&zO(e,t.body)}function zO(e,t){if(t instanceof ly.Readable){t.pipe(e);return}if(t){let r=Buffer.isBuffer(t);if(r||typeof t=="string"){r&&t.byteLength===0?e.end():e.end(t);return}let o=t;if(typeof o=="object"&&o.buffer&&typeof o.byteOffset=="number"&&typeof o.byteLength=="number"){e.end(Buffer.from(o.buffer,o.byteOffset,o.byteLength));return}e.end(Buffer.from(t));return}e.end()}var VO=0,cl=class e{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(t){return typeof t?.handle=="function"?t:new e(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let c in o){let u=o[c]?.length??0,m=s[c]?.length??0;if(u>=i&&m>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${u} and ${m} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a,throwOnRequestTimeout:c,logger:u}=t||{},m=!0,l=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:o,socketAcquisitionWarningTimeout:s,throwOnRequestTimeout:c,httpAgent:i instanceof Qi.Agent||typeof i?.destroy=="function"?(this.externalAgent=!0,i):new Qi.Agent({keepAlive:m,maxSockets:l,...i}),httpsAgent:a instanceof Zi.Agent||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new Zi.Agent({keepAlive:m,maxSockets:l,...a}),logger:u}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i=this.config,a,c=[],u=async Y=>{await a,c.forEach(Je.clearTimeout),o(Y)},m=async Y=>{await a,c.forEach(Je.clearTimeout),s(Y)};if(r?.aborted){let Y=new Error("Request aborted");Y.name="AbortError",m(Y);return}let l=t.protocol==="https:",g=t.headers??{},h=(g.Expect??g.expect)==="100-continue",y=l?i.httpsAgent:i.httpAgent;h&&!this.externalAgent&&(y=new(l?Zi.Agent:Qi.Agent)({keepAlive:!1,maxSockets:1/0})),c.push(Je.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(y,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let A=dy.buildQueryString(t.query||{}),R;if(t.username!=null||t.password!=null){let Y=t.username??"",W=t.password??"";R=`${Y}:${W}`}let v=t.path;A&&(v+=`?${A}`),t.fragment&&(v+=`#${t.fragment}`);let O=t.hostname??"";O[0]==="["&&O.endsWith("]")?O=t.hostname.slice(1,-1):O=t.hostname;let N={headers:t.headers,host:O,method:t.method,path:v,port:t.port,agent:y,auth:R},j=(l?Zi.request:Qi.request)(N,Y=>{let W=new uy.HttpResponse({statusCode:Y.statusCode||-1,reason:Y.statusMessage,headers:fy(Y.headers),body:Y});u({response:W})});if(j.on("error",Y=>{LO.includes(Y.code)?m(Object.assign(Y,{name:"TimeoutError"})):m(Y)}),r){let Y=()=>{j.destroy();let W=new Error("Request aborted");W.name="AbortError",m(W)};if(typeof r.addEventListener=="function"){let W=r;W.addEventListener("abort",Y,{once:!0}),j.once("close",()=>W.removeEventListener("abort",Y))}else r.onabort=Y}let J=n??i.requestTimeout;c.push(UO(j,m,i.connectionTimeout)),c.push(qO(j,m,J,i.throwOnRequestTimeout,i.logger??console)),c.push(BO(j,m,i.socketTimeout));let be=N.agent;typeof be=="object"&&"keepAlive"in be&&c.push(jO(j,{keepAlive:be.keepAlive,keepAliveMsecs:be.keepAliveMsecs})),a=py(j,t,J,this.externalAgent).catch(Y=>(c.forEach(Je.clearTimeout),s(Y)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},ul=class{sessions=[];constructor(t){this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},dl=class{constructor(t){if(this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(t,r){let n=this.getUrlString(t),o=this.sessionCache.get(n);if(o){let c=o.poll();if(c&&!this.config.disableConcurrency)return c}let s=al.connect(n);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),s.unref();let i=()=>{s.destroy(),this.deleteSession(n,s)};s.on("goaway",i),s.on("error",i),s.on("frameError",i),s.on("close",()=>this.deleteSession(n,s)),r.requestTimeout&&s.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(n)||new ul;return a.offerLast(s),this.sessionCache.set(n,a),s}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){let n=this.getUrlString(t);this.sessionCache.get(n)?.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},ll=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new dl({});static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((a,c)=>{let u=!1,m,l=async Z=>{await m,a(Z)},g=async Z=>{await m,c(Z)};if(r?.aborted){u=!0;let Z=new Error("Request aborted");Z.name="AbortError",g(Z);return}let{hostname:h,method:y,port:A,protocol:R,query:v}=t,O="";if(t.username!=null||t.password!=null){let Z=t.username??"",Te=t.password??"";O=`${Z}:${Te}@`}let N=`${R}//${O}${h}${A?`:${A}`:""}`,L={destination:new URL(N)},j=this.connectionManager.lease(L,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),J=Z=>{s&&this.destroySession(j),u=!0,g(Z)},be=dy.buildQueryString(v||{}),Y=t.path;be&&(Y+=`?${be}`),t.fragment&&(Y+=`#${t.fragment}`);let W=j.request({...t.headers,[al.constants.HTTP2_HEADER_PATH]:Y,[al.constants.HTTP2_HEADER_METHOD]:y});if(j.ref(),W.on("response",Z=>{let Te=new uy.HttpResponse({statusCode:Z[":status"]||-1,headers:fy(Z),body:W});u=!0,l({response:Te}),s&&(j.close(),this.connectionManager.deleteSession(N,j))}),i&&W.setTimeout(i,()=>{W.close();let Z=new Error(`Stream timed out because of no activity for ${i} ms`);Z.name="TimeoutError",J(Z)}),r){let Z=()=>{W.close();let Te=new Error("Request aborted");Te.name="AbortError",J(Te)};if(typeof r.addEventListener=="function"){let Te=r;Te.addEventListener("abort",Z,{once:!0}),W.once("close",()=>Te.removeEventListener("abort",Z))}else r.onabort=Z}W.on("frameError",(Z,Te,$t)=>{J(new Error(`Frame type id ${Z} in stream id ${$t} has failed with code ${Te}.`))}),W.on("error",J),W.on("aborted",()=>{J(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${W.rstCode}.`))}),W.on("close",()=>{j.unref(),s&&j.destroy(),u||J(new Error("Unexpected error: http2 request did not get a response"))}),m=py(W,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},fl=class extends ly.Writable{bufferedBytes=[];_write(t,r,n){this.bufferedBytes.push(t),n()}},WO=e=>GO(e)?KO(e):new Promise((t,r)=>{let n=new fl;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),GO=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function KO(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}fs.DEFAULT_REQUEST_TIMEOUT=VO;fs.NodeHttp2Handler=ll;fs.NodeHttpHandler=cl;fs.streamCollector=WO});var gy=P(ta=>{"use strict";var my=ce(),YO=il(),XO=ve();function hy(e,t){return new Request(e,t)}function JO(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}var ea={supported:void 0},pl=class e{config;configProvider;static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),ea.supported===void 0&&(ea.supported=typeof Request<"u"&&"keepalive"in hy("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let O=new Error("Request aborted");return O.name="AbortError",Promise.reject(O)}let a=t.path,c=YO.buildQueryString(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let u="";if(t.username!=null||t.password!=null){let O=t.username??"",N=t.password??"";u=`${O}:${N}@`}let{port:m,method:l}=t,g=`${t.protocol}//${u}${t.hostname}${m?`:${m}`:""}${a}`,h=l==="GET"||l==="HEAD"?void 0:t.body,y={body:h,headers:new Headers(t.headers),method:l,credentials:i};this.config?.cache&&(y.cache=this.config.cache),h&&(y.duplex="half"),typeof AbortController<"u"&&(y.signal=r),ea.supported&&(y.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(y,this.config.requestInit(t));let A=()=>{},R=hy(g,y),v=[fetch(R).then(O=>{let N=O.headers,L={};for(let J of N.entries())L[J[0]]=J[1];return O.body!=null?{response:new my.HttpResponse({headers:L,reason:O.statusText,statusCode:O.status,body:O.body})}:O.blob().then(J=>({response:new my.HttpResponse({headers:L,reason:O.statusText,statusCode:O.status,body:J})}))}),JO(o)];return r&&v.push(new Promise((O,N)=>{let L=()=>{let j=new Error("Request aborted");j.name="AbortError",N(j)};if(typeof r.addEventListener=="function"){let j=r;j.addEventListener("abort",L,{once:!0}),A=()=>j.removeEventListener("abort",L)}else r.onabort=L})),Promise.race(v).finally(A)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},QO=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):ZO(e):eN(e);async function ZO(e){let t=await tN(e),r=XO.fromBase64(t);return new Uint8Array(r)}async function eN(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}function tN(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}ta.FetchHttpHandler=pl;ta.keepAliveSupport=ea;ta.streamCollector=QO});var gl=P(hl=>{"use strict";var yy={},ml={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),yy[e]=t,ml[t]=e}function rN(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in ml)t[r/2]=ml[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function nN(e){let t="";for(let r=0;r<e.byteLength;r++)t+=yy[e[r]];return t}hl.fromHex=rN;hl.toHex=nN});var _y=P(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.sdkStreamMixin=void 0;var oN=gy(),sN=ve(),iN=gl(),aN=Ce(),Sy=mr(),Ey="The stream has already been transformed.",cN=e=>{if(!wy(e)&&!(0,Sy.isReadableStream)(e)){let o=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let t=!1,r=async()=>{if(t)throw new Error(Ey);return t=!0,await(0,oN.streamCollector)(e)},n=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async o=>{let s=await r();if(o==="base64")return(0,sN.toBase64)(s);if(o==="hex")return(0,iN.toHex)(s);if(o===void 0||o==="utf8"||o==="utf-8")return(0,aN.toUtf8)(s);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(s);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(Ey);if(t=!0,wy(e))return n(e);if((0,Sy.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};ra.sdkStreamMixin=cN;var wy=e=>typeof Blob=="function"&&e instanceof Blob});var Ty=P(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.sdkStreamMixin=void 0;var uN=$r(),dN=so(),yl=require("stream"),lN=_y(),by="The stream has already been transformed.",fN=e=>{if(!(e instanceof yl.Readable))try{return(0,lN.sdkStreamMixin)(e)}catch{let o=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let t=!1,r=async()=>{if(t)throw new Error(by);return t=!0,await(0,uN.streamCollector)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async n=>{let o=await r();return n===void 0||Buffer.isEncoding(n)?(0,dN.fromArrayBuffer)(o.buffer,o.byteOffset,o.byteLength).toString(n):new TextDecoder(n).decode(o)},transformToWebStream:()=>{if(t)throw new Error(by);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof yl.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,yl.Readable.toWeb(e)}})};na.sdkStreamMixin=fN});var Ay=P(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.splitStream=pN;async function pN(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var Cy=P(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.splitStream=hN;var xy=require("stream"),mN=Ay(),Ry=mr();async function hN(e){if((0,Ry.isReadableStream)(e)||(0,Ry.isBlob)(e))return(0,mN.splitStream)(e);let t=new xy.PassThrough,r=new xy.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var oa=P(Ie=>{"use strict";var vy=ve(),Iy=Ce(),Py=Kd(),Oy=Gg(),Ny=Zg(),Dy=ty(),ky=ny(),$y=Ty(),My=Cy(),Fy=mr(),wl=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(vy.fromBase64(t)):e.mutate(Iy.fromUtf8(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?vy.toBase64(this):Iy.toUtf8(this)}};Object.defineProperty(Ie,"isBlob",{enumerable:!0,get:function(){return Fy.isBlob}});Object.defineProperty(Ie,"isReadableStream",{enumerable:!0,get:function(){return Fy.isReadableStream}});Ie.Uint8ArrayBlobAdapter=wl;Object.keys(Py).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ie,e)&&Object.defineProperty(Ie,e,{enumerable:!0,get:function(){return Py[e]}})});Object.keys(Oy).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ie,e)&&Object.defineProperty(Ie,e,{enumerable:!0,get:function(){return Oy[e]}})});Object.keys(Ny).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ie,e)&&Object.defineProperty(Ie,e,{enumerable:!0,get:function(){return Ny[e]}})});Object.keys(Dy).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ie,e)&&Object.defineProperty(Ie,e,{enumerable:!0,get:function(){return Dy[e]}})});Object.keys(ky).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ie,e)&&Object.defineProperty(Ie,e,{enumerable:!0,get:function(){return ky[e]}})});Object.keys($y).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ie,e)&&Object.defineProperty(Ie,e,{enumerable:!0,get:function(){return $y[e]}})});Object.keys(My).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ie,e)&&Object.defineProperty(Ie,e,{enumerable:!0,get:function(){return My[e]}})})});var sa,St,ia=E(()=>{sa=_(oa()),St=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return sa.Uint8ArrayBlobAdapter.mutate(e);if(!e)return sa.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return sa.Uint8ArrayBlobAdapter.mutate(await r)}});function Xt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var aa=E(()=>{});var Mt,_l=E(()=>{Mt=e=>typeof e=="function"?e():e});var ps,ca=E(()=>{ps=(e,t,r,n,o)=>({name:t,namespace:e,traits:r,input:n,output:o})});var Ly,Uy,qy,bl,Hy=E(()=>{Ly=_(ce()),Uy=_(Xe());ca();qy=e=>(t,r)=>async n=>{let{response:o}=await t(n),{operationSchema:s}=(0,Uy.getSmithyContext)(r),[,i,a,c,u,m]=s??[];try{let l=await e.protocol.deserializeResponse(ps(i,a,c,u,m),{...e,...r},o);return{response:o,output:l}}catch(l){if(Object.defineProperty(l,"$response",{value:o,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in l)){let g="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{l.message+=`
  `+g}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(g):r.logger?.warn?.(g)}typeof l.$responseBodyText<"u"&&l.$response&&(l.$response.body=l.$responseBodyText);try{if(Ly.HttpResponse.isInstance(o)){let{headers:h={}}=o,y=Object.entries(h);l.$metadata={httpStatusCode:o.statusCode,requestId:bl(/^x-[\w-]+-request-?id$/,y),extendedRequestId:bl(/^x-[\w-]+-id-2$/,y),cfId:bl(/^x-[\w-]+-cf-id$/,y)}}}catch{}}throw l}},bl=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var jy,By,zy=E(()=>{jy=_(Xe());ca();By=e=>(t,r)=>async n=>{let{operationSchema:o}=(0,jy.getSmithyContext)(r),[,s,i,a,c,u]=o??[],m=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,l=await e.protocol.serializeRequest(ps(s,i,a,c,u),n.input,{...e,...r,endpoint:m});return t({...n,request:l})}});function Rn(e){return{applyToStack:t=>{t.add(By(e),Wy),t.add(qy(e),Vy),e.protocol.setSerdeContext(e)}}}var Vy,Wy,Gy=E(()=>{Hy();zy();Vy={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Wy={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Ae,Mr=E(()=>{Ae=class{name;namespace;traits;static assign(t,r){return Object.assign(t,r)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var ua,gN,Ky=E(()=>{Mr();ua=class e extends Ae{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},gN=(e,t,r,n)=>Ae.assign(new ua,{name:t,namespace:e,traits:r,valueSchema:n})});var da,yN,Yy=E(()=>{Mr();da=class e extends Ae{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},yN=(e,t,r,n,o)=>Ae.assign(new da,{name:t,namespace:e,traits:r,keySchema:n,valueSchema:o})});var la,SN,Xy=E(()=>{Mr();la=class e extends Ae{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},SN=(e,t,r,n,o)=>Ae.assign(new la,{name:t,namespace:e,traits:r,input:n,output:o})});var co,EN,Tl=E(()=>{Mr();co=class e extends Ae{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},EN=(e,t,r,n,o)=>Ae.assign(new co,{name:t,namespace:e,traits:r,memberNames:n,memberList:o})});var fa,wN,Jy=E(()=>{Mr();Tl();fa=class e extends co{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},wN=(e,t,r,n,o,s)=>Ae.assign(new fa,{name:t,namespace:e,traits:r,memberNames:n,memberList:o,ctor:null})});function Jt(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[n]=1);return t}var Al=E(()=>{});function ms(e,t){if(e instanceof F)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=F;return new r(e,t)}var Qy,F,xl,Zy,eS=E(()=>{_l();Al();Qy={it:Symbol.for("@smithy/nor-struct-it")},F=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){this.ref=t,this.memberName=r;let n=[],o=t,s=t;for(this._isMemberSchema=!1;xl(o);)n.push(o[1]),o=o[0],s=Mt(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,Jt(a))}}else this.memberTraits=0;if(s instanceof e){let i=this.memberTraits;Object.assign(this,s),this.memberTraits=Object.assign({},i,s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??s.memberName;return}if(this.schema=Mt(s),Zy(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(s),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}static of(t){let r=Mt(t);if(r instanceof e)return r;if(xl(r)){let[n,o]=r;if(n instanceof e)return Object.assign(n.getMergedTraits(),Jt(o)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(r)}getSchema(){let t=this.schema;return Array.isArray(t)&&t[0]===0?t[4]:t}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t[0]===1}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t[0]===2}isStructSchema(){let t=this.getSchema();if(typeof t!="object")return!1;let r=t[0];return r===3||r===-3||r===4}isUnionSchema(){let t=this.getSchema();return typeof t!="object"?!1:t[0]===4}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){return!!this.getMergedTraits().idempotencyToken}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Jt(this.memberTraits)}getOwnTraits(){return Jt(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),o=t?15:n[4]??0;return ms([o,0],"key")}getValueSchema(){let t=this.getSchema(),[r,n,o]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],s=typeof t=="number"?63&t:t&&typeof t=="object"&&(n||o)?t[3+t[0]]:r?15:void 0;if(s!=null)return ms([s,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(t)){let n=r[4].indexOf(t),o=r[5][n];return ms(xl(o)?o:[o,0],t)}if(this.isDocumentSchema())return ms([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema(),r=t[4].length,n=t[Qy.it];if(n&&r===n.length){yield*n;return}n=Array(r);for(let o=0;o<r;++o){let s=t[4][o],i=ms([t[5][o],0],s);yield n[o]=[s,i]}t[Qy.it]=n}};xl=e=>Array.isArray(e)&&e.length===2,Zy=e=>Array.isArray(e)&&e.length>=5});var hs,_N,bN,tS=E(()=>{Mr();hs=class e extends Ae{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},_N=(e,t,r,n)=>Ae.assign(new hs,{name:t,namespace:e,traits:n,schemaRef:r}),bN=(e,t,r,n)=>Ae.assign(new hs,{name:t,namespace:e,traits:r,schemaRef:n})});var TN,rS=E(()=>{TN={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var se,nS=E(()=>{se=class e{namespace;schemas;exceptions;static registries=new Map;constructor(t,r=new Map,n=new Map){this.namespace=t,this.schemas=r,this.exceptions=n}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}copyFrom(t){let{schemas:r,exceptions:n}=this;for(let[o,s]of t.schemas)r.has(o)||r.set(o,s);for(let[o,s]of t.exceptions)n.has(o)||n.set(o,s)}register(t,r){let n=this.normalizeShapeId(t);for(let o of[this,e.for(n.split("#")[0])])o.schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){let n=t,o=n[1];for(let s of[this,e.for(o)])s.schemas.set(o+"#"+n[2],n),s.exceptions.set(n,r)}getErrorCtor(t){let r=t;return this.exceptions.has(r)?this.exceptions.get(r):e.for(r[1]).exceptions.get(r)}getBaseException(){for(let t of this.exceptions.keys())if(Array.isArray(t)){let[,r,n]=t,o=r+"#"+n;if(o.startsWith("smithy.ts.sdk.synthetic.")&&o.endsWith("ServiceException"))return t}}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}}});var uo={};Ye(uo,{ErrorSchema:()=>fa,ListSchema:()=>ua,MapSchema:()=>da,NormalizedSchema:()=>F,OperationSchema:()=>la,SCHEMA:()=>TN,Schema:()=>Ae,SimpleSchema:()=>hs,StructureSchema:()=>co,TypeRegistry:()=>se,deref:()=>Mt,deserializerMiddlewareOption:()=>Vy,error:()=>wN,getSchemaSerdePlugin:()=>Rn,isStaticSchema:()=>Zy,list:()=>gN,map:()=>yN,op:()=>SN,operation:()=>ps,serializerMiddlewareOption:()=>Wy,sim:()=>_N,simAdapter:()=>bN,struct:()=>EN,translateTraits:()=>Jt});var ee=E(()=>{_l();Gy();Ky();Yy();Xy();ca();Jy();eS();Mr();tS();Tl();rS();Al();nS()});var AN,oS=E(()=>{AN=(e,t,r=n=>n)=>e});var xN,RN,gs,CN,pa,ys,vN,Rl,Cl,vl,Il,IN,PN,sS,ON,NN,ha,DN,Pl,kN,lo,Ol,$N,MN,FN,iS,aS,LN,UN,Cn,Nl,ma,Ss,Dl=E(()=>{xN=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},RN=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Ss.warn(ma(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&Ss.warn(ma(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},gs=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Ss.warn(ma(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},CN=Math.ceil(34028234663852886e22),pa=e=>{let t=gs(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>CN)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},ys=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},vN=ys,Rl=e=>Il(e,32),Cl=e=>Il(e,16),vl=e=>Il(e,8),Il=(e,t)=>{let r=ys(e);if(r!==void 0&&IN(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},IN=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},PN=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},sS=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},ON=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Ss.warn(ma(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},NN=e=>{if(e==null)return;let t=sS(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},ha=e=>gs(typeof e=="string"?lo(e):e),DN=ha,Pl=e=>pa(typeof e=="string"?lo(e):e),kN=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,lo=e=>{let t=e.match(kN);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Ol=e=>typeof e=="string"?iS(e):gs(e),$N=Ol,MN=Ol,FN=e=>typeof e=="string"?iS(e):pa(e),iS=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},aS=e=>ys(typeof e=="string"?lo(e):e),LN=aS,UN=e=>Rl(typeof e=="string"?lo(e):e),Cn=e=>Cl(typeof e=="string"?lo(e):e),Nl=e=>vl(typeof e=="string"?lo(e):e),ma=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Ss={warn:console.warn}});function ws(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,u=s<10?`0${s}`:`${s}`,m=i<10?`0${i}`:`${i}`,l=a<10?`0${a}`:`${a}`;return`${qN[n]}, ${c} ${$l[r]} ${t} ${u}:${m}:${l} GMT`}var qN,$l,HN,jN,BN,Ml,zN,VN,WN,Fl,Ll,Es,GN,KN,YN,kl,XN,JN,QN,Qt,ZN,eD,fo,cS=E(()=>{Dl();qN=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],$l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];HN=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),jN=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=HN.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,u]=t,m=Cn(fo(n)),l=Qt(o,"month",1,12),g=Qt(s,"day",1,31);return Es(m,l,g,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u})},BN=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Ml=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=BN.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,u,m]=t,l=Cn(fo(n)),g=Qt(o,"month",1,12),h=Qt(s,"day",1,31),y=Es(l,g,h,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u});return m.toUpperCase()!="Z"&&y.setTime(y.getTime()-eD(m)),y},zN=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),VN=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),WN=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Fl=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=zN.exec(e);if(t){let[r,n,o,s,i,a,c,u]=t;return Es(Cn(fo(s)),kl(o),Qt(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u})}if(t=VN.exec(e),t){let[r,n,o,s,i,a,c,u]=t;return YN(Es(GN(s),kl(o),Qt(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u}))}if(t=WN.exec(e),t){let[r,n,o,s,i,a,c,u]=t;return Es(Cn(fo(u)),kl(n),Qt(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},Ll=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=ha(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},Es=(e,t,r,n)=>{let o=t-1;return JN(e,o,r),new Date(Date.UTC(e,o,r,Qt(n.hours,"hour",0,23),Qt(n.minutes,"minute",0,59),Qt(n.seconds,"seconds",0,60),ZN(n.fractionalMilliseconds)))},GN=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Cn(fo(e));return r<t?r+100:r},KN=50*365*24*60*60*1e3,YN=e=>e.getTime()-new Date().getTime()>KN?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,kl=e=>{let t=$l.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},XN=[31,28,31,30,31,30,31,31,30,31,30,31],JN=(e,t,r)=>{let n=XN[t];if(t===1&&QN(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${$l[t]} in ${e}: ${r}`)},QN=e=>e%4===0&&(e%100!==0||e%400===0),Qt=(e,t,r,n)=>{let o=Nl(fo(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},ZN=e=>e==null?0:Pl("0."+e)*1e3,eD=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},fo=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var _s={};Ye(_s,{__addDisposableResource:()=>DS,__assign:()=>ga,__asyncDelegator:()=>xS,__asyncGenerator:()=>AS,__asyncValues:()=>RS,__await:()=>po,__awaiter:()=>SS,__classPrivateFieldGet:()=>PS,__classPrivateFieldIn:()=>NS,__classPrivateFieldSet:()=>OS,__createBinding:()=>Sa,__decorate:()=>lS,__disposeResources:()=>kS,__esDecorate:()=>pS,__exportStar:()=>wS,__extends:()=>uS,__generator:()=>ES,__importDefault:()=>IS,__importStar:()=>vS,__makeTemplateObject:()=>CS,__metadata:()=>yS,__param:()=>fS,__propKey:()=>hS,__read:()=>Hl,__rest:()=>dS,__rewriteRelativeImportExtension:()=>$S,__runInitializers:()=>mS,__setFunctionName:()=>gS,__spread:()=>_S,__spreadArray:()=>TS,__spreadArrays:()=>bS,__values:()=>ya,default:()=>nD});function uS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ul(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function dS(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function lS(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function fS(e,t){return function(r,n){t(r,n,e)}}function pS(e,t,r,n,o,s){function i(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,m=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),l,g=!1,h=r.length-1;h>=0;h--){var y={};for(var A in n)y[A]=A==="access"?{}:n[A];for(var A in n.access)y.access[A]=n.access[A];y.addInitializer=function(v){if(g)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(v||null))};var R=(0,r[h])(a==="accessor"?{get:m.get,set:m.set}:m[c],y);if(a==="accessor"){if(R===void 0)continue;if(R===null||typeof R!="object")throw new TypeError("Object expected");(l=i(R.get))&&(m.get=l),(l=i(R.set))&&(m.set=l),(l=i(R.init))&&o.unshift(l)}else(l=i(R))&&(a==="field"?o.unshift(l):m[c]=l)}u&&Object.defineProperty(u,n.name,m),g=!0}function mS(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function hS(e){return typeof e=="symbol"?e:"".concat(e)}function gS(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function yS(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function SS(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(m){try{u(n.next(m))}catch(l){i(l)}}function c(m){try{u(n.throw(m))}catch(l){i(l)}}function u(m){m.done?s(m.value):o(m.value).then(a,c)}u((n=n.apply(e,t||[])).next())})}function ES(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(m){return c([u,m])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(s=u[0]&2?o.return:u[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,u[1])).done)return s;switch(o=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(m){u=[6,m],o=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function wS(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Sa(t,e,r)}function ya(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hl(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function _S(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Hl(arguments[t]));return e}function bS(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function TS(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function po(e){return this instanceof po?(this.v=e,this):new po(e)}function AS(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(h){return function(y){return Promise.resolve(y).then(h,l)}}function a(h,y){n[h]&&(o[h]=function(A){return new Promise(function(R,v){s.push([h,A,R,v])>1||c(h,A)})},y&&(o[h]=y(o[h])))}function c(h,y){try{u(n[h](y))}catch(A){g(s[0][3],A)}}function u(h){h.value instanceof po?Promise.resolve(h.value.v).then(m,l):g(s[0][2],h)}function m(h){c("next",h)}function l(h){c("throw",h)}function g(h,y){h(y),s.shift(),s.length&&c(s[0][0],s[0][1])}}function xS(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:po(e[o](i)),done:!1}:s?s(i):i}:s}}function RS(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ya=="function"?ya(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},i)}}function CS(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function vS(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=ql(e),n=0;n<r.length;n++)r[n]!=="default"&&Sa(t,e,r[n]);return tD(t,e),t}function IS(e){return e&&e.__esModule?e:{default:e}}function PS(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function OS(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function NS(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function DS(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function kS(e){function t(s){e.error=e.hasError?new rD(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(o,function(i){return t(i),o()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function $S(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,s,i){return n?t?".jsx":".js":o&&(!s||!i)?r:o+s+"."+i.toLowerCase()+"js"}):e}var Ul,ga,Sa,tD,ql,rD,nD,bs=E(()=>{Ul=function(e,t){return Ul=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Ul(e,t)};ga=function(){return ga=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ga.apply(this,arguments)};Sa=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});tD=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},ql=function(e){return ql=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},ql(e)};rD=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};nD={__extends:uS,__assign:ga,__rest:dS,__decorate:lS,__param:fS,__esDecorate:pS,__runInitializers:mS,__propKey:hS,__setFunctionName:gS,__metadata:yS,__awaiter:SS,__generator:ES,__createBinding:Sa,__exportStar:wS,__values:ya,__read:Hl,__spread:_S,__spreadArrays:bS,__spreadArray:TS,__await:po,__asyncGenerator:AS,__asyncDelegator:xS,__asyncValues:RS,__makeTemplateObject:CS,__importStar:vS,__importDefault:IS,__classPrivateFieldGet:PS,__classPrivateFieldSet:OS,__classPrivateFieldIn:NS,__addDisposableResource:DS,__disposeResources:kS,__rewriteRelativeImportExtension:$S}});var FS=P(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.randomUUID=void 0;var oD=(bs(),G(_s)),MS=oD.__importDefault(require("crypto"));Ea.randomUUID=MS.default.randomUUID.bind(MS.default)});var jl=P(US=>{"use strict";var LS=FS(),Le=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),sD=()=>{if(LS.randomUUID)return LS.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,Le[e[0]]+Le[e[1]]+Le[e[2]]+Le[e[3]]+"-"+Le[e[4]]+Le[e[5]]+"-"+Le[e[6]]+Le[e[7]]+"-"+Le[e[8]]+Le[e[9]]+"-"+Le[e[10]]+Le[e[11]]+Le[e[12]]+Le[e[13]]+Le[e[14]]+Le[e[15]]};US.v4=sD});var Et,qS=E(()=>{Et=_(jl())});var Qe,HS=E(()=>{Qe=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};Qe.from=e=>e&&typeof e=="object"&&(e instanceof Qe||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?Qe(String(e)):Qe(JSON.stringify(e));Qe.fromObject=Qe.from});function Bl(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var jS=E(()=>{});function yr(e,t,r){let n=Number(e);if(n<t||n>r)throw new Error(`Value ${n} out of range [${t}, ${r}]`)}var zl,Vl,Wl,BS,zS,iD,aD,cD,uD,dD,mo,Gl,Kl,VS=E(()=>{zl="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",Vl="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",Wl="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",BS="(\\d?\\d)",zS="(\\d{4})",iD=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),aD=new RegExp(`^${zl}, ${BS} ${Vl} ${zS} ${Wl} GMT$`),cD=new RegExp(`^${zl}, ${BS}-${Vl}-(\\d\\d) ${Wl} GMT$`),uD=new RegExp(`^${zl} ${Vl} ( [1-9]|\\d\\d) ${Wl} ${zS}$`),dD=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],mo=e=>{if(e==null)return;let t=NaN;if(typeof e=="number")t=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(t*1e3))},Gl=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let t=iD.exec(e);if(!t)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,r,n,o,s,i,a,,c,u]=t;yr(n,1,12),yr(o,1,31),yr(s,0,23),yr(i,0,59),yr(a,0,60);let m=new Date(Date.UTC(Number(r),Number(n)-1,Number(o),Number(s),Number(i),Number(a),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(m.setUTCFullYear(Number(r)),u.toUpperCase()!="Z"){let[,l,g,h]=/([+-])(\d\d):(\d\d)/.exec(u)||[void 0,"+",0,0],y=l==="-"?1:-1;m.setTime(m.getTime()+y*(Number(g)*60*60*1e3+Number(h)*60*1e3))}return m},Kl=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let t,r,n,o,s,i,a,c;if((c=aD.exec(e))?[,t,r,n,o,s,i,a]=c:(c=cD.exec(e))?([,t,r,n,o,s,i,a]=c,n=(Number(n)+1900).toString()):(c=uD.exec(e))&&([,r,t,o,s,i,a,n]=c),n&&i){let u=Date.UTC(Number(n),dD.indexOf(r),Number(t),Number(o),Number(s),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);yr(t,1,31),yr(o,0,23),yr(s,0,59),yr(i,0,60);let m=new Date(u);return m.setUTCFullYear(Number(n)),m}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function Yl(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}var WS=E(()=>{});var Ts,GS=E(()=>{Ts=e=>{let t=e.length,r=[],n=!1,o,s=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(s,i)),s=i+1);break;default:}o=a}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function Xl(e){return new le(String(e),"bigDecimal")}var KS,le,YS=E(()=>{KS=/^-?\d*(\.\d+)?$/,le=class e{string;type;constructor(t,r){if(this.string=t,this.type=r,!KS.test(t))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return e.prototype.isPrototypeOf(t)||r.type==="bigDecimal"&&KS.test(r.string)}}});var XS={};Ye(XS,{LazyJsonString:()=>Qe,NumericValue:()=>le,_parseEpochTimestamp:()=>mo,_parseRfc3339DateTimeWithOffset:()=>Gl,_parseRfc7231DateTime:()=>Kl,copyDocumentWithTransform:()=>AN,dateToUtcString:()=>ws,expectBoolean:()=>RN,expectByte:()=>vl,expectFloat32:()=>pa,expectInt:()=>vN,expectInt32:()=>Rl,expectLong:()=>ys,expectNonNull:()=>PN,expectNumber:()=>gs,expectObject:()=>sS,expectShort:()=>Cl,expectString:()=>ON,expectUnion:()=>NN,generateIdempotencyToken:()=>Et.v4,handleFloat:()=>$N,limitedParseDouble:()=>Ol,limitedParseFloat:()=>MN,limitedParseFloat32:()=>FN,logger:()=>Ss,nv:()=>Xl,parseBoolean:()=>xN,parseEpochTimestamp:()=>Ll,parseRfc3339DateTime:()=>jN,parseRfc3339DateTimeWithOffset:()=>Ml,parseRfc7231DateTime:()=>Fl,quoteHeader:()=>Bl,splitEvery:()=>Yl,splitHeader:()=>Ts,strictParseByte:()=>Nl,strictParseDouble:()=>ha,strictParseFloat:()=>DN,strictParseFloat32:()=>Pl,strictParseInt:()=>LN,strictParseInt32:()=>UN,strictParseLong:()=>aS,strictParseShort:()=>Cn});var Ze=E(()=>{oS();cS();qS();HS();Dl();jS();VS();WS();GS();YS()});var et,ho=E(()=>{et=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var wa,Jl,JS=E(()=>{wa=_(Ce()),Jl=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:o,defaultContentType:s}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=o,this.defaultContentType=s}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let o=this.marshaller,s=r.getEventStreamMember(),i=r.getMemberSchema(s),a=this.serializer,c=this.defaultContentType,u=Symbol("initialRequestMarker"),m={async*[Symbol.asyncIterator](){if(n){let l={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:c}};a.write(r,n);let g=a.flush();yield{[u]:!0,headers:l,body:g}}for await(let l of t)yield l}};return o.serialize(m,l=>{if(l[u])return{headers:l.headers,body:l.body};let g=Object.keys(l).find(O=>O!=="__type")??"",{additionalHeaders:h,body:y,eventType:A,explicitPayloadContentType:R}=this.writeEventBody(g,i,l);return{headers:{":event-type":{type:"string",value:A},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:R??c},...h},body:y}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){let o=this.marshaller,s=r.getEventStreamMember(),a=r.getMemberSchema(s).getMemberSchemas(),c=Symbol("initialResponseMarker"),u=o.deserialize(t.body,async g=>{let h=Object.keys(g).find(A=>A!=="__type")??"",y=g[h].body;if(h==="initial-response"){let A=await this.deserializer.read(r,y);return delete A[s],{[c]:!0,...A}}else if(h in a){let A=a[h];if(A.isStructSchema()){let R={},v=!1;for(let[O,N]of A.structIterator()){let{eventHeader:L,eventPayload:j}=N.getMergedTraits();if(v=v||!!(L||j),j)N.isBlobSchema()?R[O]=y:N.isStringSchema()?R[O]=(this.serdeContext?.utf8Encoder??wa.toUtf8)(y):N.isStructSchema()&&(R[O]=await this.deserializer.read(N,y));else if(L){let J=g[h].headers[O]?.value;J!=null&&(N.isNumericSchema()?J&&typeof J=="object"&&"bytes"in J?R[O]=BigInt(J.toString()):R[O]=Number(J):R[O]=J)}}if(v)return{[h]:R};if(y.byteLength===0)return{[h]:{}}}return{[h]:await this.deserializer.read(A,y)}}else return{$unknown:g}}),m=u[Symbol.asyncIterator](),l=await m.next();if(l.done)return u;if(l.value?.[c]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[g,h]of Object.entries(l.value))n[g]=h}return{async*[Symbol.asyncIterator](){for(l?.value?.[c]||(yield l.value);;){let{done:g,value:h}=await m.next();if(g)break;yield h}}}}writeEventBody(t,r,n){let o=this.serializer,s=t,i=null,a,c=r.getSchema()[4].includes(t),u={};if(c){let g=r.getMemberSchema(t);if(g.isStructSchema()){for(let[h,y]of g.structIterator()){let{eventHeader:A,eventPayload:R}=y.getMergedTraits();if(R)i=h;else if(A){let v=n[t][h],O="binary";y.isNumericSchema()?(-2)**31<=v&&v<=2**31-1?O="integer":O="long":y.isTimestampSchema()?O="timestamp":y.isStringSchema()?O="string":y.isBooleanSchema()&&(O="boolean"),v!=null&&(u[h]={type:O,value:v},delete n[t][h])}}if(i!==null){let h=g.getMemberSchema(i);h.isBlobSchema()?a="application/octet-stream":h.isStringSchema()&&(a="text/plain"),o.write(h,n[t][i])}else o.write(g,n[t])}else if(g.isUnitSchema())o.write(g,{});else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[g,h]=n[t];s=g,o.write(15,h)}let m=o.flush();return{body:typeof m=="string"?(this.serdeContext?.utf8Decoder??wa.fromUtf8)(m):m,eventType:s,explicitPayloadContentType:a,additionalHeaders:u}}}});var QS={};Ye(QS,{EventStreamSerde:()=>Jl});var ZS=E(()=>{JS()});var _a,vn,ba=E(()=>{ee();_a=_(ce());ho();vn=class extends et{options;compositeErrorRegistry;constructor(t){super(),this.options=t,this.compositeErrorRegistry=se.for(t.defaultNamespace);for(let r of t.errorTypeRegistries??[])this.compositeErrorRegistry.copyFrom(r)}getRequestType(){return _a.HttpRequest}getResponseType(){return _a.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0,t.query||(t.query={});for(let[n,o]of r.url.searchParams.entries())t.query[n]=o;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){if(this.serdeContext?.disableHostPrefix)return;let o=F.of(r.input),s=Jt(r.traits??{});if(s.endpoint){let i=s.endpoint?.[0];if(typeof i=="string"){let a=[...o.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let u=n[c];if(typeof u!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);i=i.replace(`{${c}}`,u)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(ZS(),QS));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,o,s){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var eE,tE,In,rE=E(()=>{ee();Ze();eE=_(ce()),tE=_(oa());ia();aa();ba();In=class extends vn{async serializeRequest(t,r,n){let o={...r??{}},s=this.serializer,i={},a={},c=await n.endpoint(),u=F.of(t?.input),m=u.getSchema(),l=!1,g,h=new eE.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(h,c),this.setHostPrefix(h,t,o);let y=Jt(t.traits);if(y.http){h.method=y.http[0];let[A,R]=y.http[1].split("?");h.path=="/"?h.path=A:h.path+=A;let v=new URLSearchParams(R??"");Object.assign(i,Object.fromEntries(v))}}for(let[y,A]of u.structIterator()){let R=A.getMergedTraits()??{},v=o[y];if(v==null&&!A.isIdempotencyToken()){if(R.httpLabel&&(h.path.includes(`{${y}+}`)||h.path.includes(`{${y}}`)))throw new Error(`No value provided for input HTTP label: ${y}.`);continue}if(R.httpPayload)A.isStreaming()?A.isStructSchema()?o[y]&&(g=await this.serializeEventStream({eventStream:o[y],requestSchema:u})):g=v:(s.write(A,v),g=s.flush()),delete o[y];else if(R.httpLabel){s.write(A,v);let O=s.flush();h.path.includes(`{${y}+}`)?h.path=h.path.replace(`{${y}+}`,O.split("/").map(Xt).join("/")):h.path.includes(`{${y}}`)&&(h.path=h.path.replace(`{${y}}`,Xt(O))),delete o[y]}else if(R.httpHeader)s.write(A,v),a[R.httpHeader.toLowerCase()]=String(s.flush()),delete o[y];else if(typeof R.httpPrefixHeaders=="string"){for(let[O,N]of Object.entries(v)){let L=R.httpPrefixHeaders+O;s.write([A.getValueSchema(),{httpHeader:L}],N),a[L.toLowerCase()]=s.flush()}delete o[y]}else R.httpQuery||R.httpQueryParams?(this.serializeQuery(A,v,i),delete o[y]):l=!0}return l&&o&&(s.write(m,o),g=s.flush()),h.headers=a,h.query=i,h.body=g,h}serializeQuery(t,r,n){let o=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,a]of Object.entries(r))if(!(i in n)){let c=t.getValueSchema();Object.assign(c.getMergedTraits(),{...s,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(c,a,n)}return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let c of r){o.write([t.getValueSchema(),s],c);let u=o.flush();(i||u!==void 0)&&a.push(u)}n[s.httpQuery]=a}else o.write([t,s],r),n[s.httpQuery]=o.flush()}async deserializeResponse(t,r,n){let o=this.deserializer,s=F.of(t.output),i={};if(n.statusCode>=300){let c=await St(n.body,r);throw c.byteLength>0&&Object.assign(i,await o.read(15,c)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in n.headers){let u=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=u}let a=await this.deserializeHttpMessage(s,r,n,i);if(a.length){let c=await St(n.body,r);if(c.byteLength>0){let u=await o.read(s,c);for(let m of a)u[m]!=null&&(i[m]=u[m])}}else a.discardResponseBody&&await St(n.body,r);return i.$metadata=this.deserializeMetadata(n),i}async deserializeHttpMessage(t,r,n,o,s){let i;o instanceof Set?i=s:i=o;let a=!0,c=this.deserializer,u=F.of(t),m=[];for(let[l,g]of u.structIterator()){let h=g.getMemberTraits();if(h.httpPayload){if(a=!1,g.isStreaming())g.isStructSchema()?i[l]=await this.deserializeEventStream({response:n,responseSchema:u}):i[l]=(0,tE.sdkStreamMixin)(n.body);else if(n.body){let A=await St(n.body,r);A.byteLength>0&&(i[l]=await c.read(g,A))}}else if(h.httpHeader){let y=String(h.httpHeader).toLowerCase(),A=n.headers[y];if(A!=null)if(g.isListSchema()){let R=g.getValueSchema();R.getMergedTraits().httpHeader=y;let v;R.isTimestampSchema()&&R.getSchema()===4?v=Yl(A,",",2):v=Ts(A);let O=[];for(let N of v)O.push(await c.read(R,N.trim()));i[l]=O}else i[l]=await c.read(g,A)}else if(h.httpPrefixHeaders!==void 0){i[l]={};for(let[y,A]of Object.entries(n.headers))if(y.startsWith(h.httpPrefixHeaders)){let R=g.getValueSchema();R.getMergedTraits().httpHeader=y,i[l][y.slice(h.httpPrefixHeaders.length)]=await c.read(R,A)}}else h.httpResponseCode?i[l]=n.statusCode:m.push(l)}return m.discardResponseBody=a,m}}});var nE,Sr,oE=E(()=>{ee();nE=_(ce());ia();ba();Sr=class extends vn{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},a=await n.endpoint(),c=F.of(t?.input),u=c.getSchema(),m,l=new nE.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(l,a),this.setHostPrefix(l,t,r));let g={...r};if(r){let h=c.getEventStreamMember();if(h){if(g[h]){let y={};for(let[A,R]of c.structIterator())A!==h&&g[A]&&(o.write(R,g[A]),y[A]=o.flush());m=await this.serializeEventStream({eventStream:g[h],requestSchema:c,initialRequest:y})}}else o.write(u,g),m=o.flush()}return l.headers=i,l.query=s,l.body=m,l.method="POST",l}async deserializeResponse(t,r,n){let o=this.deserializer,s=F.of(t.output),i={};if(n.statusCode>=300){let c=await St(n.body,r);throw c.byteLength>0&&Object.assign(i,await o.read(15,c)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in n.headers){let u=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=u}let a=s.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:n,responseSchema:s,initialResponseContainer:i});else{let c=await St(n.body,r);c.byteLength>0&&Object.assign(i,await o.read(s,c))}return i.$metadata=this.deserializeMetadata(n),i}}});var Ql,Zl=E(()=>{aa();Ql=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>Xt(a)).join("/"):Xt(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function ef(e,t){return new Ta(e,t)}var sE,Ta,iE=E(()=>{sE=_(ce());Zl();Ta=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,r){this.input=t,this.context=r}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new sE.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=Ql(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function at(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?6:s||r?5:void 0:void 0)??t.timestampFormat.default}var Aa=E(()=>{});var tf,aE,Pn,rf=E(()=>{ee();Ze();tf=_(ve()),aE=_(Ce());ho();Aa();Pn=class extends et{settings;constructor(t){super(),this.settings=t}read(t,r){let n=F.of(t);if(n.isListSchema())return Ts(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??tf.fromBase64)(r);if(n.isTimestampSchema())switch(at(n,this.settings)){case 5:return Gl(r);case 6:return Kl(r);case 7:return mo(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,s=r;if(o)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(o==="application/json"||o.endsWith("+json"))&&(s=Qe.from(s)),s}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new le(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??aE.toUtf8)((this.serdeContext?.base64Decoder??tf.fromBase64)(t))}}});var xa,On,cE=E(()=>{ee();xa=_(Ce());ho();rf();On=class extends et{codecDeserializer;stringDeserializer;constructor(t,r){super(),this.codecDeserializer=t,this.stringDeserializer=new Pn(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=F.of(t),o=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??xa.toUtf8;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(o.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??xa.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var nf,As,of=E(()=>{ee();Ze();nf=_(ve());ho();Aa();As=class extends et{settings;stringBuffer="";constructor(t){super(),this.settings=t}write(t,r){let n=F.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(at(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=ws(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??nf.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),u=n.getValueSchema().isTimestampSchema()?c:Bl(c);i!==""&&(i+=", "),i+=u}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,s=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(s=Qe.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??nf.toBase64)(s.toString());return}this.stringBuffer=r;break;default:n.isIdempotencyToken()?this.stringBuffer=(0,Et.v4)():this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var Nn,uE=E(()=>{ee();of();Nn=class{codecSerializer;stringSerializer;buffer;constructor(t,r,n=new As(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=F.of(t),o=n.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var dE={};Ye(dE,{FromStringShapeDeserializer:()=>Pn,HttpBindingProtocol:()=>In,HttpInterceptingShapeDeserializer:()=>On,HttpInterceptingShapeSerializer:()=>Nn,HttpProtocol:()=>vn,RequestBuilder:()=>Ta,RpcProtocol:()=>Sr,SerdeContext:()=>et,ToStringShapeSerializer:()=>As,collectBody:()=>St,determineTimestampFormat:()=>at,extendedEncodeURIComponent:()=>Xt,requestBuilder:()=>ef,resolvedPath:()=>Ql});var nt=E(()=>{ia();aa();rE();ba();oE();iE();Zl();rf();cE();uE();of();Aa();ho()});var lE=E(()=>{nt()});function lD(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var fE=E(()=>{});var Er,pE=E(()=>{Er=class{authSchemes=new Map;constructor(t){for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var mE,sf,af,hE=E(()=>{mE=_(ce()),sf=_(Nr()),af=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=mE.HttpRequest.clone(t);if(n.in===sf.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===sf.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var gE,cf,yE=E(()=>{gE=_(ce()),cf=class{async sign(t,r,n){let o=gE.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var Ft,SE=E(()=>{Ft=class{async sign(t,r,n){return t}}});var EE=E(()=>{hE();yE();SE()});var wE,fD,uf,Ra,df,_E=E(()=>{wE=e=>function(r){return Ra(r)&&r.expiration.getTime()-Date.now()<e},fD=3e5,uf=wE(3e5),Ra=e=>e.expiration!==void 0,df=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,a=!1,c=async u=>{s||(s=n(u));try{o=await s,i=!0,a=!1}finally{s=void 0}return o};return t===void 0?async u=>((!i||u?.forceRefresh)&&(o=await c(u)),o):async u=>((!i||u?.forceRefresh)&&(o=await c(u)),a?o:r(o)?(t(o)&&await c(u),o):(a=!0,o))}});var bE=E(()=>{pE();EE();_E()});var Fr={};Ye(Fr,{DefaultIdentityProviderConfig:()=>Er,EXPIRATION_MS:()=>fD,HttpApiKeyAuthSigner:()=>af,HttpBearerAuthSigner:()=>cf,NoAuthSigner:()=>Ft,createIsIdentityExpiredFunction:()=>wE,createPaginator:()=>Mg,doesIdentityRequireRefresh:()=>Ra,getHttpAuthSchemeEndpointRuleSetPlugin:()=>An,getHttpAuthSchemePlugin:()=>VP,getHttpSigningPlugin:()=>xn,getSmithyContext:()=>UP,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>wg,httpAuthSchemeMiddleware:()=>ds,httpAuthSchemeMiddlewareOptions:()=>Cg,httpSigningMiddleware:()=>jd,httpSigningMiddlewareOptions:()=>Ng,isIdentityExpired:()=>uf,memoizeIdentityProvider:()=>df,normalizeProvider:()=>kr,requestBuilder:()=>ef,setFeature:()=>lD});var Oe=E(()=>{hg();Ig();kg();$g();Fg();lE();fE();bE()});var wr=P(Dn=>{"use strict";var ff=Nr(),pf=class{capacity;data=new Map;parameters=[];constructor({size:t,params:r}){this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let o=this.data.keys(),s=0;for(;;){let{value:i,done:a}=o.next();if(this.data.delete(i),a||++s>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let o of n){let s=String(t[o]??"");if(s.includes("|;"))return!1;r+=s+"|;"}return r}},pD=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),TE=e=>pD.test(e)||e.startsWith("[")&&e.endsWith("]"),mD=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),hf=(e,t=!1)=>{if(!t)return mD.test(e);let r=e.split(".");for(let n of r)if(!hf(n))return!1;return!0},mf={},xs="endpoints";function Lr(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Lr(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Lr).join(", ")})`:JSON.stringify(e,null,2)}var Ue=class extends Error{constructor(t){super(t),this.name="EndpointError"}},hD=(e,t)=>e===t,gD=e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new Ue(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new Ue(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},AE=(e,t)=>gD(t).reduce((r,n)=>{if(typeof r!="object")throw new Ue(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),yD=e=>e!=null,SD=e=>!e,lf={[ff.EndpointURLScheme.HTTP]:80,[ff.EndpointURLScheme.HTTPS]:443},ED=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:g,port:h,protocol:y="",path:A="",query:R={}}=e,v=new URL(`${y}//${g}${h?`:${h}`:""}${A}`);return v.search=Object.entries(R).map(([O,N])=>`${O}=${N}`).join("&"),v}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(ff.EndpointURLScheme).includes(c))return null;let u=TE(o),m=r.includes(`${n}:${lf[c]}`)||typeof e=="string"&&e.includes(`${n}:${lf[c]}`),l=`${n}${m?`:${lf[c]}`:""}`;return{scheme:c,authority:l,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:u}},wD=(e,t)=>e===t,_D=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),bD=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),TD={booleanEquals:hD,getAttr:AE,isSet:yD,isValidHostLabel:hf,not:SD,parseURL:ED,stringEquals:wD,substring:_D,uriEncode:bD},xE=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[c,u]=a.split("#");r.push(AE(n[c],u))}else r.push(n[a]);o=i+1}return r.join("")},AD=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],Ca=(e,t,r)=>{if(typeof e=="string")return xE(e,r);if(e.fn)return CE.callFunction(e,r);if(e.ref)return AD(e,r);throw new Ue(`'${t}': ${String(e)} is not a string, function or reference.`)},RE=({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:CE.evaluateExpression(s,"arg",r)),o=e.split(".");return o[0]in mf&&o[1]!=null?mf[o[0]][o[1]](...n):TD[e](...n)},CE={evaluateExpression:Ca,callFunction:RE},xD=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new Ue(`'${e}' is already defined in Reference Record.`);let n=RE(t,r);return r.logger?.debug?.(`${xs} evaluateCondition: ${Lr(t)} = ${Lr(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},gf=(e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=xD(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${xs} assign: ${s.name} := ${Lr(s.value)}`))}return{result:!0,referenceRecord:r}},RD=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=Ca(s,"Header value entry",t);if(typeof i!="string")throw new Ue(`Header '${n}' value '${i}' is not a string`);return i})}),{}),vE=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:PE.getEndpointProperty(o,t)}),{}),IE=(e,t)=>{if(Array.isArray(e))return e.map(r=>IE(r,t));switch(typeof e){case"string":return xE(e,t);case"object":if(e===null)throw new Ue(`Unexpected endpoint property: ${e}`);return PE.getEndpointProperties(e,t);case"boolean":return e;default:throw new Ue(`Unexpected endpoint property type: ${typeof e}`)}},PE={getEndpointProperty:IE,getEndpointProperties:vE},CD=(e,t)=>{let r=Ca(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Ue(`Endpoint URL must be a string, got ${typeof r}`)},vD=(e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=gf(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:c,headers:u}=n;return t.logger?.debug?.(`${xs} Resolving endpoint from template: ${Lr(n)}`),{...u!=null&&{headers:RD(u,i)},...c!=null&&{properties:vE(c,i)},url:CD(a,i)}},ID=(e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=gf(r,t);if(o)throw new Ue(Ca(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},OE=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=vD(r,t);if(n)return n}else if(r.type==="error")ID(r,t);else if(r.type==="tree"){let n=NE.evaluateTreeRule(r,t);if(n)return n}else throw new Ue(`Unknown endpoint rule: ${r}`);throw new Ue("Rules evaluation failed")},PD=(e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=gf(r,t);if(o)return NE.evaluateRules(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},NE={evaluateRules:OE,evaluateTreeRule:PD},OD=(e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${xs} Initial EndpointParams: ${Lr(r)}`);let i=Object.entries(o).filter(([,u])=>u.default!=null).map(([u,m])=>[u,m.default]);if(i.length>0)for(let[u,m]of i)r[u]=r[u]??m;let a=Object.entries(o).filter(([,u])=>u.required).map(([u])=>u);for(let u of a)if(r[u]==null)throw new Ue(`Missing required parameter: '${u}'`);let c=OE(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${xs} Resolved endpoint: ${Lr(c)}`),c};Dn.EndpointCache=pf;Dn.EndpointError=Ue;Dn.customEndpointFunctions=mf;Dn.isIpAddress=TE;Dn.isValidHostLabel=hf;Dn.resolveEndpoint=OD});var kE=P(DE=>{"use strict";function ND(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}DE.parseQueryString=ND});var Zt=P(ME=>{"use strict";var DD=kE(),$E=e=>{if(typeof e=="string")return $E(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=DD.parseQueryString(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}};ME.parseUrl=$E});var yo=P(Lt=>{"use strict";var go=wr(),kD=Zt(),LE=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!LE(r))return!1;return!0}return!(!go.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||go.isIpAddress(e))},FE=":",$D="/",MD=e=>{let t=e.split(FE);if(t.length<6)return null;let[r,n,o,s,i,...a]=t;if(r!=="arn"||n===""||o===""||a.join(FE)==="")return null;let c=a.map(u=>u.split($D)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:c}},FD=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"AWS European Sovereign Cloud (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],LD="1.1",UE={partitions:FD,version:LD},qE=UE,HE="",jE=e=>{let{partitions:t}=qE;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},BE=(e,t="")=>{qE=e,HE=t},UD=()=>{BE(UE,"")},qD=()=>HE,zE={isVirtualHostableS3Bucket:LE,parseArn:MD,partition:jE};go.customEndpointFunctions.aws=zE;var HD=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>VE(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},VE=e=>kD.parseUrl(e.url);Object.defineProperty(Lt,"EndpointError",{enumerable:!0,get:function(){return go.EndpointError}});Object.defineProperty(Lt,"isIpAddress",{enumerable:!0,get:function(){return go.isIpAddress}});Object.defineProperty(Lt,"resolveEndpoint",{enumerable:!0,get:function(){return go.resolveEndpoint}});Lt.awsEndpointFunctions=zE;Lt.getUserAgentPrefix=qD;Lt.partition=jE;Lt.resolveDefaultAwsRegionalEndpointsConfig=HD;Lt.setPartitionInfo=BE;Lt.toEndpointV1=VE;Lt.useDefaultPartitionInfo=UD});var va,Ur,WE=E(()=>{va={warningEmitted:!1},Ur=e=>{e&&!va.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<20&&(va.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${e} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}});function qr(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var GE=E(()=>{});function KE(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var YE=E(()=>{});function XE(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var JE=E(()=>{});var er={};Ye(er,{emitWarningIfUnsupportedVersion:()=>Ur,setCredentialFeature:()=>qr,setFeature:()=>KE,setTokenFeature:()=>XE,state:()=>va});var ct=E(()=>{WE();GE();YE();JE()});var QE,yf,ZE=E(()=>{QE=_(ce()),yf=e=>QE.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var So,Sf=E(()=>{So=e=>new Date(Date.now()+e)});var ew,tw=E(()=>{Sf();ew=(e,t)=>Math.abs(So(t).getTime()-e)>=3e5});var Ef,rw=E(()=>{tw();Ef=(e,t)=>{let r=Date.parse(e);return ew(r,t)?r-Date.now():t}});var wf=E(()=>{ZE();Sf();rw()});var nw,Rs,Eo,qe,_f,bf=E(()=>{nw=_(ce());wf();Rs=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Eo=async e=>{let t=Rs("context",e.context),r=Rs("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await Rs("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}},qe=class{async sign(t,r,n){if(!nw.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await Eo(n),{config:s,signer:i}=o,{signingRegion:a,signingName:c}=o,u=n.context;if(u?.authSchemes?.length??!1){let[l,g]=u.authSchemes;l?.name==="sigv4a"&&g?.name==="sigv4"&&(a=g?.signingRegion??a,c=g?.signingName??c)}return await i.sign(t,{signingDate:So(s.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??yf(r.$response);if(n){let o=Rs("config",t.config),s=o.systemClockOffset;o.systemClockOffset=Ef(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=yf(t);if(n){let o=Rs("config",r.config);o.systemClockOffset=Ef(n,o.systemClockOffset)}}},_f=qe});var ow,Cs,sw=E(()=>{ow=_(ce());wf();bf();Cs=class extends qe{async sign(t,r,n){if(!ow.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}=await Eo(n),m=(await o.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await s.sign(t,{signingDate:So(o.systemClockOffset),signingRegion:m,signingService:c})}}});var Tf,iw=E(()=>{Tf=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Ia,Af=E(()=>{Ia=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var aw,cw,Hr,uw=E(()=>{iw();Af();aw="AWS_AUTH_SCHEME_PREFERENCE",cw="auth_scheme_preference",Hr={environmentVariableSelector:(e,t)=>{if(t?.signingName&&Ia(t.signingName)in e)return["httpBearerAuth"];if(aw in e)return Tf(e[aw])},configFileSelector:e=>{if(cw in e)return Tf(e[cw])},default:[]}});var He=P(kn=>{"use strict";var wo=class e extends Error{name="ProviderError";tryNextLink;constructor(t,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(t),this.tryNextLink=o,Object.setPrototypeOf(this,e.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},xf=class e extends wo{name="CredentialsProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},Rf=class e extends wo{name="TokenProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},jD=(...e)=>async()=>{if(e.length===0)throw new wo("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},BD=e=>()=>Promise.resolve(e),zD=(e,t,r)=>{let n,o,s,i=!1,a=async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n};return t===void 0?async c=>((!s||c?.forceRefresh)&&(n=await a()),n):async c=>((!s||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};kn.CredentialsProviderError=xf;kn.ProviderError=wo;kn.TokenProviderError=Rf;kn.chain=jD;kn.fromStatic=BD;kn.memoize=zD});var Cf,dw,lw,fw=E(()=>{Oe();Cf=_(He()),dw=e=>(e.sigv4aSigningRegionSet=kr(e.sigv4aSigningRegionSet),e),lw={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new Cf.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new Cf.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var Mw=P(K=>{"use strict";var jr=gl(),$n=Ce(),VD=zd(),gw=ce(),pw=Xe(),Pa=ol(),yw="X-Amz-Algorithm",Sw="X-Amz-Credential",Df="X-Amz-Date",Ew="X-Amz-SignedHeaders",ww="X-Amz-Expires",kf="X-Amz-Signature",$f="X-Amz-Security-Token",WD="X-Amz-Region-Set",Mf="authorization",Ff=Df.toLowerCase(),_w="date",bw=[Mf,Ff,_w],Tw=kf.toLowerCase(),$a="x-amz-content-sha256",Aw=$f.toLowerCase(),GD="host",xw={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Rw=/^proxy-/,Cw=/^sec-/,KD=[/^proxy-/i,/^sec-/i],Oa="AWS4-HMAC-SHA256",YD="AWS4-ECDSA-P256-SHA256",vw="AWS4-HMAC-SHA256-PAYLOAD",Iw="UNSIGNED-PAYLOAD",Pw=50,Lf="aws4_request",Ow=3600*24*7,_o={},Na=[],Da=(e,t,r)=>`${e}/${t}/${r}/${Lf}`,Nw=async(e,t,r,n,o)=>{let s=await mw(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${jr.toHex(s)}:${t.sessionToken}`;if(i in _o)return _o[i];for(Na.push(i);Na.length>Pw;)delete _o[Na.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,Lf])a=await mw(e,a,c);return _o[i]=a},XD=()=>{Na.length=0,Object.keys(_o).forEach(e=>{delete _o[e]})},mw=(e,t,r)=>{let n=new e(t);return n.update($n.toUint8Array(r)),n.digest()},vf=({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in xw||t?.has(s)||Rw.test(s)||Cw.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},ka=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===$a)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||VD.isArrayBuffer(t)){let n=new r;return n.update($n.toUint8Array(t)),jr.toHex(await n.digest())}return Iw},If=class{format(t){let r=[];for(let s of Object.keys(t)){let i=$n.fromUtf8(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[s]))}let n=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),o=0;for(let s of r)n.set(s,o),o+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(t.value,3),i;case"string":let a=$n.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let u=new Uint8Array(c.buffer);return u.set(a,3),u;case"timestamp":let m=new Uint8Array(9);return m[0]=8,m.set(Pf.fromNumber(t.value.valueOf()).bytes,1),m;case"uuid":if(!JD.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let l=new Uint8Array(17);return l[0]=9,l.set(jr.fromHex(t.value.replace(/\-/g,"")),1),l}}},JD=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Pf=class e{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&hw(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&hw(t),parseInt(jr.toHex(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function hw(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var Dw=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},kw=(e,t={})=>{let{headers:r,query:n={}}=gw.HttpRequest.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}},Of=e=>{e=gw.HttpRequest.clone(e);for(let t of Object.keys(e.headers))bw.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},$w=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===Tw)continue;let o=Pa.escapeUri(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${Pa.escapeUri(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,a)=>i.concat([`${o}=${Pa.escapeUri(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},QD=e=>ZD(e).toISOString().replace(/\.\d{3}Z$/,"Z"),ZD=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,Ma=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){this.service=o,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=pw.normalizeProvider(n),this.credentialProvider=pw.normalizeProvider(r)}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${$w(t)}
${o.map(s=>`${s}:${r[s]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n,o){let s=new this.sha256;s.update($n.toUint8Array(n));let i=await s.digest();return`${o}
${t}
${r}
${jr.toHex(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let s of t.split("/"))s?.length!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return Pa.escapeUri(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=QD(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}},Nf=class extends Ma{headerFormatter=new If;constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){super({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i})}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:c,signingRegion:u,signingService:m}=r,l=await this.credentialProvider();this.validateResolvedCredentials(l);let g=u??await this.regionProvider(),{longDate:h,shortDate:y}=this.formatDate(n);if(o>Ow)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let A=Da(y,g,m??this.service),R=kw(Of(t),{unhoistableHeaders:i,hoistableHeaders:c});l.sessionToken&&(R.query[$f]=l.sessionToken),R.query[yw]=Oa,R.query[Sw]=`${l.accessKeyId}/${A}`,R.query[Df]=h,R.query[ww]=o.toString(10);let v=vf(R,s,a);return R.query[Ew]=this.getCanonicalHeaderList(v),R.query[kf]=await this.getSignature(h,A,this.getSigningKey(l,g,y,m),this.createCanonicalRequest(R,v,await ka(t,this.sha256))),R}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:s,signingService:i}){let a=s??await this.regionProvider(),{shortDate:c,longDate:u}=this.formatDate(n),m=Da(c,a,i??this.service),l=await ka({headers:{},body:r},this.sha256),g=new this.sha256;g.update(t);let h=jr.toHex(await g.digest()),y=[vw,u,m,o,h,l].join(`
`);return this.signString(y,{signingDate:n,signingRegion:a,signingService:i})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),c=new this.sha256(await this.getSigningKey(s,i,a,o));return c.update($n.toUint8Array(t)),jr.toHex(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:s,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=s??await this.regionProvider(),u=Of(t),{longDate:m,shortDate:l}=this.formatDate(r),g=Da(l,c,i??this.service);u.headers[Ff]=m,a.sessionToken&&(u.headers[Aw]=a.sessionToken);let h=await ka(u,this.sha256);!Dw($a,u.headers)&&this.applyChecksum&&(u.headers[$a]=h);let y=vf(u,o,n),A=await this.getSignature(m,g,this.getSigningKey(a,c,l,i),this.createCanonicalRequest(u,y,h));return u.headers[Mf]=`${Oa} Credential=${a.accessKeyId}/${g}, SignedHeaders=${this.getCanonicalHeaderList(y)}, Signature=${A}`,u}async getSignature(t,r,n,o){let s=await this.createStringToSign(t,r,o,Oa),i=new this.sha256(await n);return i.update($n.toUint8Array(s)),jr.toHex(await i.digest())}getSigningKey(t,r,n,o){return Nw(this.sha256,t,n,r,o||this.service)}},ek={SignatureV4a:null};K.ALGORITHM_IDENTIFIER=Oa;K.ALGORITHM_IDENTIFIER_V4A=YD;K.ALGORITHM_QUERY_PARAM=yw;K.ALWAYS_UNSIGNABLE_HEADERS=xw;K.AMZ_DATE_HEADER=Ff;K.AMZ_DATE_QUERY_PARAM=Df;K.AUTH_HEADER=Mf;K.CREDENTIAL_QUERY_PARAM=Sw;K.DATE_HEADER=_w;K.EVENT_ALGORITHM_IDENTIFIER=vw;K.EXPIRES_QUERY_PARAM=ww;K.GENERATED_HEADERS=bw;K.HOST_HEADER=GD;K.KEY_TYPE_IDENTIFIER=Lf;K.MAX_CACHE_SIZE=Pw;K.MAX_PRESIGNED_TTL=Ow;K.PROXY_HEADER_PATTERN=Rw;K.REGION_SET_PARAM=WD;K.SEC_HEADER_PATTERN=Cw;K.SHA256_HEADER=$a;K.SIGNATURE_HEADER=Tw;K.SIGNATURE_QUERY_PARAM=kf;K.SIGNED_HEADERS_QUERY_PARAM=Ew;K.SignatureV4=Nf;K.SignatureV4Base=Ma;K.TOKEN_HEADER=Aw;K.TOKEN_QUERY_PARAM=$f;K.UNSIGNABLE_PATTERNS=KD;K.UNSIGNED_PAYLOAD=Iw;K.clearCredentialCache=XD;K.createScope=Da;K.getCanonicalHeaders=vf;K.getCanonicalQuery=$w;K.getPayloadHash=ka;K.getSigningKey=Nw;K.hasHeader=Dw;K.moveHeadersToQuery=kw;K.prepareRequest=Of;K.signatureV4aContainer=ek});function tk(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=df(t,uf,Ra):r?n=kr(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function rk(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var Uf,_r,Fw,Lw=E(()=>{ct();Oe();Uf=_(Mw()),_r=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(u){u&&u!==t&&u!==n&&(r=!0),t=u;let m=tk(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),l=rk(e,m);if(r&&!l.attributed){let g=typeof t=="object"&&t!==null;n=async h=>{let A=await l(h);return g&&(!A.$source||Object.keys(A.$source).length===0)?qr(A,"CREDENTIALS_CODE","e"):A},n.memoized=l.memoized,n.configBound=l.configBound,n.attributed=!0}else n=l},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=kr(e.signer):e.regionInfoProvider?a=()=>kr(e.region)().then(async u=>[await e.regionInfoProvider(u,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},u]).then(([u,m])=>{let{signingRegion:l,signingService:g}=u;e.signingRegion=e.signingRegion||l||m,e.signingName=e.signingName||g||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},y=e.signerConstructor||Uf.SignatureV4;return new y(h)}):a=async u=>{u=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await kr(e.region)(),properties:{}},u);let m=u.signingRegion,l=u.signingName;e.signingRegion=e.signingRegion||m,e.signingName=e.signingName||l||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},h=e.signerConstructor||Uf.SignatureV4;return new h(g)},Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:a})},Fw=_r});var Uw=E(()=>{bf();sw();uw();fw();Lw()});var qw={};Ye(qw,{AWSSDKSigV4Signer:()=>_f,AwsSdkSigV4ASigner:()=>Cs,AwsSdkSigV4Signer:()=>qe,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Hr,NODE_SIGV4A_CONFIG_OPTIONS:()=>lw,getBearerTokenEnvKey:()=>Ia,resolveAWSSDKSigV4Config:()=>Fw,resolveAwsSdkSigV4AConfig:()=>dw,resolveAwsSdkSigV4Config:()=>_r,validateSigningProperties:()=>Eo});var qf=E(()=>{Uw();Af()});function Br(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function Fa(e){return e[Hf]=!0,e}var Hf,La=E(()=>{Hf=Symbol("@smithy/core/cbor::tagSymbol")});function Bw(e){ue=e,Tr=new DataView(ue.buffer,ue.byteOffset,ue.byteLength)}function tr(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(ue[e]&224)>>5,n=ue[e]&31;switch(r){case 0:case 1:case 6:let o,s;if(n<24)o=n,s=1;else switch(n){case 24:case 25:case 26:case 27:let i=Vw[n],a=i+1;if(s=a,t-e<a)throw new Error(`countLength ${i} greater than remaining buf len.`);let c=e+1;i===1?o=ue[c]:i===2?o=Tr.getUint16(c):i===4?o=Tr.getUint32(c):o=Tr.getBigUint64(c);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return X=s,jf(o);if(r===1){let i;return typeof o=="bigint"?i=BigInt(-1)-o:i=-1-o,X=s,jf(i)}else if(n===2||n===3){let i=Os(e+s,t),a=BigInt(0),c=e+s+X;for(let u=c;u<c+i;++u)a=a<<BigInt(8)|BigInt(ue[u]);return X=s+X+i,n===3?-a-BigInt(1):a}else if(n===4){let i=tr(e+s,t),[a,c]=i,u=c<0?-1:1,m="0".repeat(Math.abs(a)+1)+String(BigInt(u)*BigInt(c)),l,g=c<0?"-":"";return l=a===0?m:m.slice(0,m.length+a)+"."+m.slice(a),l=l.replace(/^0+/g,""),l===""&&(l="0"),l[0]==="."&&(l="0"+l),l=g+l,X=s+X,Xl(l)}else{let i=tr(e+s,t);return X=s+X,Fa({tag:jf(o),value:i})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return uk(e,t);case 5:return mk(e,t);case 4:return fk(e,t);case 2:return dk(e,t)}else switch(r){case 3:return ck(e,t);case 5:return pk(e,t);case 4:return lk(e,t);case 2:return Kf(e,t)}default:return hk(e,t)}}function zw(e,t,r){return sk&&e.constructor?.name==="Buffer"?e.toString("utf-8",t,r):Hw?Hw.decode(e.subarray(t,r)):(0,jw.toUtf8)(e.subarray(t,r))}function ik(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function ak(e,t){let r=e>>7,n=(e&124)>>2,o=(e&3)<<8|t,s=r===0?1:-1,i,a;if(n===0){if(o===0)return 0;i=Math.pow(2,-14),a=0}else{if(n===31)return o===0?s*(1/0):NaN;i=Math.pow(2,n-15),a=1}return a+=o/1024,s*(i*a)}function Os(e,t){let r=ue[e]&31;if(r<24)return X=1,r;if(r===24||r===25||r===26||r===27){let n=Vw[r];if(X=n+1,t-e<X)throw new Error(`countLength ${n} greater than remaining buf len.`);let o=e+1;return n===1?ue[o]:n===2?Tr.getUint16(o):n===4?Tr.getUint32(o):ik(Tr.getBigUint64(o))}throw new Error(`unexpected minor value ${r}.`)}function ck(e,t){let r=Os(e,t),n=X;if(e+=n,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let o=zw(ue,e,e+r);return X=n+r,o}function uk(e,t){e+=1;let r=[];for(let n=e;e<t;){if(ue[e]===255){let c=Br(r.length);return c.set(r,0),X=e-n+2,zw(c,0,c.length)}let o=(ue[e]&224)>>5,s=ue[e]&31;if(o!==3)throw new Error(`unexpected major type ${o} in indefinite string.`);if(s===31)throw new Error("nested indefinite string.");let i=Kf(e,t);e+=X;for(let c=0;c<i.length;++c)r.push(i[c])}throw new Error("expected break marker.")}function Kf(e,t){let r=Os(e,t),n=X;if(e+=n,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let o=ue.subarray(e,e+r);return X=n+r,o}function dk(e,t){e+=1;let r=[];for(let n=e;e<t;){if(ue[e]===255){let c=Br(r.length);return c.set(r,0),X=e-n+2,c}let o=(ue[e]&224)>>5,s=ue[e]&31;if(o!==2)throw new Error(`unexpected major type ${o} in indefinite string.`);if(s===31)throw new Error("nested indefinite string.");let i=Kf(e,t);e+=X;for(let c=0;c<i.length;++c)r.push(i[c])}throw new Error("expected break marker.")}function lk(e,t){let r=Os(e,t),n=X;e+=n;let o=e,s=Array(r);for(let i=0;i<r;++i){let a=tr(e,t),c=X;s[i]=a,e+=c}return X=n+(e-o),s}function fk(e,t){e+=1;let r=[];for(let n=e;e<t;){if(ue[e]===255)return X=e-n+2,r;let o=tr(e,t);e+=X,r.push(o)}throw new Error("expected break marker.")}function pk(e,t){let r=Os(e,t),n=X;e+=n;let o=e,s={};for(let i=0;i<r;++i){if(e>=t)throw new Error("unexpected end of map payload.");let a=(ue[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let c=tr(e,t);e+=X;let u=tr(e,t);e+=X,s[c]=u}return X=n+(e-o),s}function mk(e,t){e+=1;let r=e,n={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(ue[e]===255)return X=e-r+2,n;let o=(ue[e]&224)>>5;if(o!==3)throw new Error(`unexpected major type ${o} for map key.`);let s=tr(e,t);e+=X;let i=tr(e,t);e+=X,n[s]=i}throw new Error("expected break marker.")}function hk(e,t){let r=ue[e]&31;switch(r){case 21:case 20:return X=1,r===21;case 22:return X=1,null;case 23:return X=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return X=3,ak(ue[e+1],ue[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return X=5,Tr.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return X=9,Tr.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function jf(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var jw,ok,sk,ue,Tr,Hw,X,Vw,Ww=E(()=>{Ze();jw=_(Ce());La();ok=typeof TextDecoder<"u",sk=typeof Buffer<"u",ue=Br(0),Tr=new DataView(ue.buffer,ue.byteOffset,ue.byteLength),Hw=ok?new TextDecoder:null,X=0;Vw={24:1,25:2,26:4,27:8}});function Xf(e){H.byteLength-q<e&&(q<16e6?qa(Math.max(H.byteLength*4,H.byteLength+e)):qa(H.byteLength+e+16e6))}function Jf(){let e=Br(q);return e.set(H.subarray(0,q),0),q=0,e}function qa(e){let t=H;H=Br(e),t&&(t.copy?t.copy(H,0,0,t.byteLength):H.set(t,0)),Rr=new DataView(H.buffer,H.byteOffset,H.byteLength)}function xr(e,t){t<24?H[q++]=e<<5|t:t<256?(H[q++]=e<<5|24,H[q++]=t):t<65536?(H[q++]=e<<5|25,Rr.setUint16(q,t),q+=2):t<2**32?(H[q++]=e<<5|26,Rr.setUint32(q,t),q+=4):(H[q++]=e<<5|27,Rr.setBigUint64(q,typeof t=="bigint"?t:BigInt(t)),q+=8)}function Yw(e){let t=[e];for(;t.length;){let r=t.pop();if(Xf(typeof r=="string"?r.length*4:64),typeof r=="string"){if(Gw)xr(3,Buffer.byteLength(r)),q+=H.write(r,q);else{let n=(0,Kw.fromUtf8)(r);xr(3,n.byteLength),H.set(n,q),q+=n.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let n=r>=0,o=n?0:1,s=n?r:-r-1;s<24?H[q++]=o<<5|s:s<256?(H[q++]=o<<5|24,H[q++]=s):s<65536?(H[q++]=o<<5|25,H[q++]=s>>8,H[q++]=s):s<4294967296?(H[q++]=o<<5|26,Rr.setUint32(q,s),q+=4):(H[q++]=o<<5|27,Rr.setBigUint64(q,BigInt(s)),q+=8);continue}H[q++]=251,Rr.setFloat64(q,r),q+=8;continue}else if(typeof r=="bigint"){let n=r>=0,o=n?0:1,s=n?r:-r-BigInt(1),i=Number(s);if(i<24)H[q++]=o<<5|i;else if(i<256)H[q++]=o<<5|24,H[q++]=i;else if(i<65536)H[q++]=o<<5|25,H[q++]=i>>8,H[q++]=i&255;else if(i<4294967296)H[q++]=o<<5|26,Rr.setUint32(q,i),q+=4;else if(s<BigInt("18446744073709551616"))H[q++]=o<<5|27,Rr.setBigUint64(q,s),q+=8;else{let a=s.toString(2),c=new Uint8Array(Math.ceil(a.length/8)),u=s,m=0;for(;c.byteLength-++m>=0;)c[c.byteLength-m]=Number(u&BigInt(255)),u>>=BigInt(8);Xf(c.byteLength*2),H[q++]=n?194:195,Gw?xr(2,Buffer.byteLength(c)):xr(2,c.byteLength),H.set(c,q),q+=c.byteLength}continue}else if(r===null){H[q++]=246;continue}else if(typeof r=="boolean"){H[q++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let n=r.length-1;n>=0;--n)t.push(r[n]);xr(4,r.length);continue}else if(typeof r.byteLength=="number"){Xf(r.length*2),xr(2,r.length),H.set(r,q),q+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof le){let o=r.string.indexOf("."),s=o===-1?0:o-r.string.length+1,i=BigInt(r.string.replace(".",""));H[q++]=196,t.push(i),t.push(s),xr(4,2);continue}if(r[Hf])if("tag"in r&&"value"in r){t.push(r.value),xr(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let n=Object.keys(r);for(let o=n.length-1;o>=0;--o){let s=n[o];t.push(r[s]),t.push(s)}xr(5,n.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var Kw,Gw,gk,H,Rr,q,Xw=E(()=>{Ze();Kw=_(Ce());La();Gw=typeof Buffer<"u",gk=2048,H=Br(gk),Rr=new DataView(H.buffer,H.byteOffset,H.byteLength),q=0});var Qf,Jw=E(()=>{Ww();Xw();Qf={deserialize(e){return Bw(e),tr(0,e.length)},serialize(e){try{return Yw(e),Jf()}catch(t){throw Jf(),t}},resizeEncodingBuffer(e){qa(e)}}});var Ha,ja,Ba=E(()=>{La();Ha=e=>Fa({tag:1,value:e.getTime()/1e3}),ja=(e,t)=>{let r=o=>{let s=o;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s};if(t.__type!==void 0)return r(t.__type);let n=Object.keys(t).find(o=>o.toLowerCase()==="code");if(n&&t[n]!==void 0)return r(t[n])}});var tp,za,Zf,ep,rp=E(()=>{nt();ee();Ze();Ze();tp=_(ve());Jw();Ba();za=class extends et{createSerializer(){let t=new Zf;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new ep;return t.setSerdeContext(this.serdeContext),t}},Zf=class extends et{value;write(t,r){this.value=this.serialize(t,r)}serialize(t,r){let n=F.of(t);if(r==null)return n.isIdempotencyToken()?(0,Et.v4)():r;if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??tp.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?Ha(new Date(Number(r)/1e3|0)):Ha(r);if(typeof r=="function"||typeof r=="object"){let o=r;if(n.isListSchema()&&Array.isArray(o)){let i=!!n.getMergedTraits().sparse,a=[],c=0;for(let u of o){let m=this.serialize(n.getValueSchema(),u);(m!=null||i)&&(a[c++]=m)}return a}if(o instanceof Date)return Ha(o);let s={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse;for(let a of Object.keys(o)){let c=this.serialize(n.getValueSchema(),o[a]);(c!=null||i)&&(s[a]=c)}}else if(n.isStructSchema()){for(let[a,c]of n.structIterator()){let u=this.serialize(c,o[a]);u!=null&&(s[a]=u)}if(n.isUnionSchema()&&Array.isArray(o.$unknown)){let[a,c]=o.$unknown;s[a]=c}else if(typeof o.__type=="string")for(let[a,c]of Object.entries(o))a in s||(s[a]=this.serialize(15,c))}else if(n.isDocumentSchema())for(let i of Object.keys(o))s[i]=this.serialize(n.getValueSchema(),o[i]);else if(n.isBigDecimalSchema())return o;return s}return r}flush(){let t=Qf.serialize(this.value);return this.value=void 0,t}},ep=class extends et{read(t,r){let n=Qf.deserialize(r);return this.readValue(t,n)}readValue(t,r){let n=F.of(t);if(n.isTimestampSchema()){if(typeof r=="number")return mo(r);if(typeof r=="object"&&r.tag===1&&"value"in r)return mo(r.value)}if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??tp.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let s=[],i=n.getValueSchema(),a=!!n.getMergedTraits().sparse;for(let c of r){let u=this.readValue(i,c);(u!=null||a)&&s.push(u)}return s}let o={};if(n.isMapSchema()){let s=!!n.getMergedTraits().sparse,i=n.getValueSchema();for(let a of Object.keys(r)){let c=this.readValue(i,r[a]);(c!=null||s)&&(o[a]=c)}}else if(n.isStructSchema()){let s=n.isUnionSchema(),i;s&&(i=new Set(Object.keys(r).filter(a=>a!=="__type")));for(let[a,c]of n.structIterator())s&&i.delete(a),r[a]!=null&&(o[a]=this.readValue(c,r[a]));if(s&&i?.size===1&&Object.keys(o).length===0){let a=i.values().next().value;o.$unknown=[a,r[a]]}else if(typeof r.__type=="string")for(let[a,c]of Object.entries(r))a in o||(o[a]=c)}else if(r instanceof le)return r;return o}else return r}}});var Qw,Va,Zw=E(()=>{nt();ee();ee();Qw=_(Xe());rp();Ba();Va=class extends Sr{codec=new za;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:t,errorTypeRegistries:r}){super({defaultNamespace:t,errorTypeRegistries:r})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);if(Object.assign(o.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),Mt(t.input)==="unit")delete o.body,delete o.headers["content-type"];else{o.body||(this.serializer.write(15,{}),o.body=this.serializer.flush());try{o.headers["content-length"]=String(o.body.byteLength)}catch{}}let{service:s,operation:i}=(0,Qw.getSmithyContext)(n),a=`/service/${s}/operation/${i}`;return o.path.endsWith("/")?o.path+=a.slice(1):o.path+=a,o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=ja(n,o)??"Unknown",a={$metadata:s,$fault:n.statusCode<=500?"client":"server"},c=this.options.defaultNamespace;i.includes("#")&&([c]=i.split("#"));let u=this.compositeErrorRegistry,m=se.for(c);u.copyFrom(m);let l;try{l=u.getSchema(i)}catch{o.Message&&(o.message=o.Message);let O=se.for("smithy.ts.sdk.synthetic."+c);u.copyFrom(O);let N=u.getBaseException();if(N){let L=u.getErrorCtor(N);throw Object.assign(new L({name:i}),a,o)}throw Object.assign(new Error(i),a,o)}let g=F.of(l),h=u.getErrorCtor(l),y=o.message??o.Message??"Unknown",A=new h(y),R={};for(let[v,O]of g.structIterator())R[v]=this.deserializer.readValue(O,o[v]);throw Object.assign(A,a,{$fault:g.getMergedTraits().error,message:y},R)}getDefaultContentType(){return"application/cbor"}}});var e_=E(()=>{Ba();Zw();rp()});var o_=P(n_=>{"use strict";var Mn=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},Gr=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,np=()=>{let e=[],t=[],r=!1,n=new Set,o=l=>l.sort((g,h)=>t_[h.step]-t_[g.step]||r_[h.priority||"normal"]-r_[g.priority||"normal"]),s=l=>{let g=!1,h=y=>{let A=Mn(y.name,y.aliases);if(A.includes(l)){g=!0;for(let R of A)n.delete(R);return!1}return!0};return e=e.filter(h),t=t.filter(h),g},i=l=>{let g=!1,h=y=>{if(y.middleware===l){g=!0;for(let A of Mn(y.name,y.aliases))n.delete(A);return!1}return!0};return e=e.filter(h),t=t.filter(h),g},a=l=>(e.forEach(g=>{l.add(g.middleware,{...g})}),t.forEach(g=>{l.addRelativeTo(g.middleware,{...g})}),l.identifyOnResolve?.(m.identifyOnResolve()),l),c=l=>{let g=[];return l.before.forEach(h=>{h.before.length===0&&h.after.length===0?g.push(h):g.push(...c(h))}),g.push(l),l.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?g.push(h):g.push(...c(h))}),g},u=(l=!1)=>{let g=[],h=[],y={};return e.forEach(R=>{let v={...R,before:[],after:[]};for(let O of Mn(v.name,v.aliases))y[O]=v;g.push(v)}),t.forEach(R=>{let v={...R,before:[],after:[]};for(let O of Mn(v.name,v.aliases))y[O]=v;h.push(v)}),h.forEach(R=>{if(R.toMiddleware){let v=y[R.toMiddleware];if(v===void 0){if(l)return;throw new Error(`${R.toMiddleware} is not found when adding ${Gr(R.name,R.aliases)} middleware ${R.relation} ${R.toMiddleware}`)}R.relation==="after"&&v.after.push(R),R.relation==="before"&&v.before.push(R)}}),o(g).map(c).reduce((R,v)=>(R.push(...v),R),[])},m={add:(l,g={})=>{let{name:h,override:y,aliases:A}=g,R={step:"initialize",priority:"normal",middleware:l,...g},v=Mn(h,A);if(v.length>0){if(v.some(O=>n.has(O))){if(!y)throw new Error(`Duplicate middleware name '${Gr(h,A)}'`);for(let O of v){let N=e.findIndex(j=>j.name===O||j.aliases?.some(J=>J===O));if(N===-1)continue;let L=e[N];if(L.step!==R.step||R.priority!==L.priority)throw new Error(`"${Gr(L.name,L.aliases)}" middleware with ${L.priority} priority in ${L.step} step cannot be overridden by "${Gr(h,A)}" middleware with ${R.priority} priority in ${R.step} step.`);e.splice(N,1)}}for(let O of v)n.add(O)}e.push(R)},addRelativeTo:(l,g)=>{let{name:h,override:y,aliases:A}=g,R={middleware:l,...g},v=Mn(h,A);if(v.length>0){if(v.some(O=>n.has(O))){if(!y)throw new Error(`Duplicate middleware name '${Gr(h,A)}'`);for(let O of v){let N=t.findIndex(j=>j.name===O||j.aliases?.some(J=>J===O));if(N===-1)continue;let L=t[N];if(L.toMiddleware!==R.toMiddleware||L.relation!==R.relation)throw new Error(`"${Gr(L.name,L.aliases)}" middleware ${L.relation} "${L.toMiddleware}" middleware cannot be overridden by "${Gr(h,A)}" middleware ${R.relation} "${R.toMiddleware}" middleware.`);t.splice(N,1)}}for(let O of v)n.add(O)}t.push(R)},clone:()=>a(np()),use:l=>{l.applyToStack(m)},remove:l=>typeof l=="string"?s(l):i(l),removeByTag:l=>{let g=!1,h=y=>{let{tags:A,name:R,aliases:v}=y;if(A&&A.includes(l)){let O=Mn(R,v);for(let N of O)n.delete(N);return g=!0,!1}return!0};return e=e.filter(h),t=t.filter(h),g},concat:l=>{let g=a(np());return g.use(l),g.identifyOnResolve(r||g.identifyOnResolve()||(l.identifyOnResolve?.()??!1)),g},applyToStack:a,identify:()=>u(!0).map(l=>{let g=l.step??l.relation+" "+l.toMiddleware;return Gr(l.name,l.aliases)+" - "+g}),identifyOnResolve(l){return typeof l=="boolean"&&(r=l),r},resolve:(l,g)=>{for(let h of u().map(y=>y.middleware).reverse())l=h(l,g);return r&&console.log(m.identify()),l}};return m},t_={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},r_={high:3,normal:2,low:1};n_.constructStack=np});var B=P(ie=>{"use strict";var a_=o_(),fp=(nt(),G(dE)),sp=Nr(),yk=(ee(),G(uo)),s_=(Ze(),G(XS)),ip=class{config;middlewareStack=a_.constructStack();initConfig;handlers;constructor(t){this.config=t;let{protocol:r,protocolSettings:n}=t;n&&typeof r=="function"&&(t.protocol=new r(n))}send(t,r,n){let o=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,i=o===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(t.constructor)?a=c.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,o),c.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)a(t).then(c=>s(null,c.output),c=>s(c)).catch(()=>{});else return a(t).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},op="***SensitiveInformation***";function ap(e,t){if(t==null)return t;let r=yk.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return op;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return op}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return op}else if(r.isStructSchema()&&typeof t=="object"){let n=t,o={};for(let[s,i]of r.structIterator())n[s]!=null&&(o[s]=ap(i,n[s]));return o}return t}var Wa=class{middlewareStack=a_.constructStack();schema;static classBuilder(){return new cp}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:u,additionalContext:m,CommandCtor:l}){for(let R of o.bind(this)(l,t,r,n))this.middlewareStack.use(R);let g=t.concat(this.middlewareStack),{logger:h}=r,y={logger:h,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[sp.SMITHY_CONTEXT_KEY]:{commandInstance:this,...u},...m},{requestHandler:A}=r;return g.resolve(R=>A.handle(R.request,n||{}),y)}},cp=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends Wa{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.input=n??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(n,o,s){let i=t._operationSchema,a=i?.[4]??i?.input,c=i?.[5]??i?.output;return this.resolveMiddlewareWithContext(n,o,s,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(i?ap.bind(null,a):u=>u),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(i?ap.bind(null,c):u=>u),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}},Sk="***SensitiveInformation***",Ek=(e,t,r)=>{for(let[s,i]of Object.entries(e)){let a=async function(u,m,l){let g=new i(u);if(typeof m=="function")this.send(g,m);else if(typeof l=="function"){if(typeof m!="object")throw new Error(`Expected http options but got ${typeof m}`);this.send(g,m||{},l)}else return this.send(g,m)},c=(s[0].toLowerCase()+s.slice(1)).replace(/Command$/,"");t.prototype[c]=a}let{paginators:n={},waiters:o={}}=r??{};for(let[s,i]of Object.entries(n))t.prototype[s]===void 0&&(t.prototype[s]=function(a={},c,...u){return i({...c,client:this},a,...u)});for(let[s,i]of Object.entries(o))t.prototype[s]===void 0&&(t.prototype[s]=async function(a={},c,...u){let m=c;return typeof c=="number"&&(m={maxWaitTime:c}),i({...m,client:this},a,...u)})},up=class e extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return e.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===e?e.isInstance(t):e.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},c_=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},u_=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=_k(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw c_(i,t)},wk=e=>({output:t,parsedBody:r,errorCode:n})=>{u_({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},_k=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),bk=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},i_=!1,Tk=e=>{e&&!i_&&parseInt(e.substring(1,e.indexOf(".")))<16&&(i_=!0)},Ak=e=>{let t=[];for(let r in sp.AlgorithmId){let n=sp.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},xk=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},Rk=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),Ck=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},d_=e=>Object.assign(Ak(e),Rk(e)),vk=d_,Ik=e=>Object.assign(xk(e),Ck(e)),Pk=e=>Array.isArray(e)?e:[e],l_=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=l_(e[r]));return e},Ok=e=>e!=null,dp=class{trace(){}debug(){}info(){}warn(){}error(){}};function f_(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,kk(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}p_(n,null,s,i)}return n}var Nk=e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},Dk=(e,t)=>{let r={};for(let n in t)p_(r,e,t,n);return r},kk=(e,t,r)=>f_(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),p_=(e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=$k,c=Mk,u=n]=i;(typeof a=="function"&&a(t[u])||typeof a!="function"&&a)&&(e[n]=c(t[u]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},$k=e=>e!=null,Mk=e=>e,Fk=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},Lk=e=>e.toISOString().replace(".000Z","Z"),lp=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(lp);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=lp(e[r]));return t}return e};Object.defineProperty(ie,"collectBody",{enumerable:!0,get:function(){return fp.collectBody}});Object.defineProperty(ie,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return fp.extendedEncodeURIComponent}});Object.defineProperty(ie,"resolvedPath",{enumerable:!0,get:function(){return fp.resolvedPath}});ie.Client=ip;ie.Command=Wa;ie.NoOpLogger=dp;ie.SENSITIVE_STRING=Sk;ie.ServiceException=up;ie._json=lp;ie.convertMap=Nk;ie.createAggregatedClient=Ek;ie.decorateServiceException=c_;ie.emitWarningIfUnsupportedVersion=Tk;ie.getArrayIfSingleItem=Pk;ie.getDefaultClientConfiguration=vk;ie.getDefaultExtensionConfiguration=d_;ie.getValueFromTextNode=l_;ie.isSerializableHeaderValue=Ok;ie.loadConfigsForDefaultMode=bk;ie.map=f_;ie.resolveDefaultRuntimeConfig=Ik;ie.serializeDateTime=Lk;ie.serializeFloat=Fk;ie.take=Dk;ie.throwDefaultError=u_;ie.withBaseException=wk;Object.keys(s_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ie,e)&&Object.defineProperty(ie,e,{enumerable:!0,get:function(){return s_[e]}})})});var pp,wt,To=E(()=>{ee();pp=_(B()),wt=class{queryCompat;constructor(t=!1){this.queryCompat=t}resolveRestContentType(t,r){let n=r.getMemberSchemas(),o=Object.values(n).find(s=>!!s.getMergedTraits().httpPayload);if(o){let s=o.getMergedTraits().mediaType;return s||(o.isStringSchema()?"text/plain":o.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(i=>{let{httpQuery:a,httpQueryParams:c,httpHeader:u,httpLabel:m,httpPrefixHeaders:l}=i.getMergedTraits();return!a&&!c&&!u&&!m&&l===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,o,s,i){let a=r,c=t;t.includes("#")&&([a,c]=t.split("#"));let u={$metadata:s,$fault:n.statusCode<500?"client":"server"},m=se.for(a);try{return{errorSchema:i?.(m,c)??m.getSchema(t),errorMetadata:u}}catch{o.message=o.message??o.Message??"UnknownError";let g=se.for("smithy.ts.sdk.synthetic."+a),h=g.getBaseException();if(h){let y=g.getErrorCtor(h)??Error;throw this.decorateServiceException(Object.assign(new y({name:c}),u),o)}throw this.decorateServiceException(Object.assign(new Error(c),u),o)}}decorateServiceException(t,r={}){if(this.queryCompat){let n=t.Message??r.Message,o=(0,pp.decorateServiceException)(t,r);n&&(o.message=n),o.Error={...o.Error,Type:o.Error.Type,Code:o.Error.Code,Message:o.Error.message??o.Error.Message??n};let s=o.$metadata.requestId;return s&&(o.RequestId=s),o}return(0,pp.decorateServiceException)(t,r)}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[o,s]=n.split(";"),i=Object.entries(t),a={Code:o,Type:s};Object.assign(t,a);for(let[c,u]of i)a[c==="message"?"Message":c]=u;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}findQueryCompatibleError(t,r){try{return t.getSchema(r)}catch{return t.find(o=>F.of(o).getMergedTraits().awsQueryError?.[0]===r)}}}});var Ga,m_=E(()=>{e_();ee();To();Ga=class extends Va{awsQueryCompatible;mixin;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r,this.mixin=new wt(this.awsQueryCompatible)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(o.headers["x-amzn-query-mode"]="true"),o}async handleError(t,r,n,o,s){this.awsQueryCompatible&&this.mixin.setQueryCompatError(o,n);let i=(()=>{let y=n.headers["x-amzn-query-error"];return y&&this.awsQueryCompatible?y.split(";")[0]:ja(n,o)??"Unknown"})(),{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),u=F.of(a),m=o.message??o.Message??"Unknown",l=se.for(a[1]).getErrorCtor(a)??Error,g=new l(m),h={};for(let[y,A]of u.structIterator())o[y]!=null&&(h[y]=this.deserializer.readValue(A,o[y]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(o,h),this.mixin.decorateServiceException(Object.assign(g,c,{$fault:u.getMergedTraits().error,message:m},h),o)}}});var h_,g_,y_,S_=E(()=>{h_=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},g_=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},y_=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var je,Kr=E(()=>{je=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var Ao,mp=E(()=>{Ao=class{from;to;keys;constructor(t,r){this.from=t,this.to=r,this.keys=new Set(Object.keys(this.from).filter(n=>n!=="__type"))}mark(t){this.keys.delete(t)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){let t=this.keys.values().next().value,r=this.from[t];this.to.$unknown=[t,r]}}}});function E_(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new le(n,"bigDecimal"):BigInt(n)}return t}var w_=E(()=>{Ze()});var __,b_,Ka,hp=E(()=>{__=_(B()),b_=_(Ce()),Ka=(e,t)=>(0,__.collectBody)(e,t).then(r=>(t?.utf8Encoder??b_.toUtf8)(r))});var Ns,T_,xo,Ds=E(()=>{hp();Ns=(e,t)=>Ka(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),T_=async(e,t)=>{let r=await Ns(e,t);return r.message=r.message??r.Message,r},xo=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}}});var A_,Ro,gp=E(()=>{nt();ee();Ze();A_=_(ve());Kr();mp();w_();Ds();Ro=class extends je{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,E_):await Ns(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",o=F.of(t);if(n){if(o.isStructSchema()){let i=r,a=o.isUnionSchema(),c={},u,{jsonName:m}=this.settings;m&&(u={});let l;a&&(l=new Ao(i,c));for(let[g,h]of o.structIterator()){let y=g;m&&(y=h.getMergedTraits().jsonName??y,u[y]=g),a&&l.mark(y),i[y]!=null&&(c[g]=this._read(h,i[y]))}if(a)l.writeUnknown();else if(typeof i.__type=="string")for(let[g,h]of Object.entries(i)){let y=m?u[g]??g:g;y in c||(c[y]=h)}return c}if(Array.isArray(r)&&o.isListSchema()){let i=o.getValueSchema(),a=[],c=!!o.getMergedTraits().sparse;for(let u of r)(c||u!=null)&&a.push(this._read(i,u));return a}if(o.isMapSchema()){let i=o.getValueSchema(),a={},c=!!o.getMergedTraits().sparse;for(let[u,m]of Object.entries(r))(c||m!=null)&&(a[u]=this._read(i,m));return a}}if(o.isBlobSchema()&&typeof r=="string")return(0,A_.fromBase64)(r);let s=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof r=="string"&&s)return s==="application/json"||s.endsWith("+json")?Qe.from(r):r;if(o.isTimestampSchema()&&r!=null)switch(at(o,this.settings)){case 5:return Ml(r);case 6:return Fl(r);case 7:return Ll(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(o.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(o.isBigDecimalSchema()&&r!=null){if(r instanceof le)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new le(i.string,i.type):new le(String(r),"bigDecimal")}if(o.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(o.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof le?i[a]=c:i[a]=this._read(o,c);return i}else return structuredClone(r);return r}}});var x_,Ya,R_=E(()=>{Ze();x_="\u039D",Ya=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof le){let n=`${x_+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${x_+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var yp,Co,Sp=E(()=>{nt();ee();Ze();yp=_(ve());Kr();R_();Co=class extends je{settings;buffer;useReplacer=!1;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=F.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=F.of(t).getName(!0))}flush(){let{rootSchema:t,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,t?.isStructSchema()||t?.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let n=new Ya;return n.replaceInJson(JSON.stringify(this.buffer,n.createReplacer(),0))}return this.buffer}_write(t,r,n){let o=r!==null&&typeof r=="object",s=F.of(t);if(o){if(s.isStructSchema()){let i=r,a={},{jsonName:c}=this.settings,u;c&&(u={});for(let[m,l]of s.structIterator()){let g=this._write(l,i[m],s);if(g!==void 0){let h=m;c&&(h=l.getMergedTraits().jsonName??m,u[m]=h),a[h]=g}}if(s.isUnionSchema()&&Object.keys(a).length===0){let{$unknown:m}=i;if(Array.isArray(m)){let[l,g]=m;a[l]=this._write(15,g)}}else if(typeof i.__type=="string")for(let[m,l]of Object.entries(i)){let g=c?u[m]??m:m;g in a||(a[g]=this._write(15,l))}return a}if(Array.isArray(r)&&s.isListSchema()){let i=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let u of r)(c||u!=null)&&a.push(this._write(i,u));return a}if(s.isMapSchema()){let i=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[u,m]of Object.entries(r))(c||m!=null)&&(a[u]=this._write(i,m));return a}if(r instanceof Uint8Array&&(s.isBlobSchema()||s.isDocumentSchema()))return s===this.rootSchema?r:(this.serdeContext?.base64Encoder??yp.toBase64)(r);if(r instanceof Date&&(s.isTimestampSchema()||s.isDocumentSchema()))switch(at(s,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return ws(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof le&&(this.useReplacer=!0)}if(!(r===null&&n?.isStructSchema())){if(s.isStringSchema()){if(typeof r>"u"&&s.isIdempotencyToken())return(0,Et.v4)();let i=s.getMergedTraits().mediaType;return r!=null&&i&&(i==="application/json"||i.endsWith("+json"))?Qe.from(r):r}if(typeof r=="number"&&s.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&s.isBlobSchema())return s===this.rootSchema?r:(this.serdeContext?.base64Encoder??yp.toBase64)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),s.isDocumentSchema())if(o){let i=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof le?(this.useReplacer=!0,i[a]=c):i[a]=this._write(s,c);return i}else return structuredClone(r);return r}}}});var Yr,Xa=E(()=>{Kr();gp();Sp();Yr=class extends je{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Co(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Ro(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Xr,Ja=E(()=>{nt();ee();To();Xa();Ds();Xr=class extends Sr{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=o??new Yr({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n,this.mixin=new wt(this.awsQueryCompatible)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);return o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(o.headers["x-amzn-query-mode"]="true"),(Mt(t.input)==="unit"||!o.body)&&(o.body="{}"),o}getPayloadCodec(){return this.codec}async handleError(t,r,n,o,s){this.awsQueryCompatible&&this.mixin.setQueryCompatError(o,n);let i=xo(n,o)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),u=F.of(a),m=o.message??o.Message??"Unknown",l=se.for(a[1]).getErrorCtor(a)??Error,g=new l(m),h={};for(let[y,A]of u.structIterator())o[y]!=null&&(h[y]=this.codec.createDeserializer().readObject(A,o[y]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(o,h),this.mixin.decorateServiceException(Object.assign(g,c,{$fault:u.getMergedTraits().error,message:m},h),o)}}});var Qa,C_=E(()=>{Ja();Qa=class extends Xr{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var Za,v_=E(()=>{Ja();Za=class extends Xr{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var Jr,I_=E(()=>{nt();ee();To();Xa();Ds();Jr=class extends In{serializer;deserializer;codec;mixin=new wt;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new Yr(r),this.serializer=new Nn(this.codec.createSerializer(),r),this.deserializer=new On(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=F.of(t.input);if(!o.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);i&&(o.headers["content-type"]=i)}return o.body==null&&o.headers["content-type"]===this.getDefaultContentType()&&(o.body="{}"),o}async deserializeResponse(t,r,n){let o=await super.deserializeResponse(t,r,n),s=F.of(t.output);for(let[i,a]of s.structIterator())a.getMemberTraits().httpPayload&&!(i in o)&&(o[i]=null);return o}async handleError(t,r,n,o,s){let i=xo(n,o)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s),u=F.of(a),m=o.message??o.Message??"Unknown",l=se.for(a[1]).getErrorCtor(a)??Error,g=new l(m);await this.deserializeHttpMessage(a,r,n,o);let h={};for(let[y,A]of u.structIterator()){let R=A.getMergedTraits().jsonName??y;h[y]=this.codec.createDeserializer().readObject(A,o[R])}throw this.mixin.decorateServiceException(Object.assign(g,c,{$fault:u.getMergedTraits().error,message:m},h),o)}getDefaultContentType(){return"application/json"}}});var P_,O_,N_=E(()=>{P_=_(B()),O_=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,P_.expectUnion)(e)}});var k_=P((e6,D_)=>{(()=>{"use strict";var e={d:(p,d)=>{for(var f in d)e.o(d,f)&&!e.o(p,f)&&Object.defineProperty(p,f,{enumerable:!0,get:d[f]})},o:(p,d)=>Object.prototype.hasOwnProperty.call(p,d),r:p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{XMLBuilder:()=>Or,XMLParser:()=>oP,XMLValidator:()=>fP});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function o(p,d){let f=[],w=d.exec(p);for(;w;){let S=[];S.startIndex=d.lastIndex-w[0].length;let b=w.length;for(let C=0;C<b;C++)S.push(w[C]);f.push(S),w=d.exec(p)}return f}let s=function(p){return n.exec(p)!=null},i={allowBooleanAttributes:!1,unpairedTags:[]};function a(p,d){d=Object.assign({},i,d);let f=[],w=!1,S=!1;p[0]==="\uFEFF"&&(p=p.substr(1));for(let b=0;b<p.length;b++)if(p[b]==="<"&&p[b+1]==="?"){if(b+=2,b=u(p,b),b.err)return b}else{if(p[b]!=="<"){if(c(p[b]))continue;return v("InvalidChar","char '"+p[b]+"' is not expected.",N(p,b))}{let C=b;if(b++,p[b]==="!"){b=m(p,b);continue}{let I=!1;p[b]==="/"&&(I=!0,b++);let x="";for(;b<p.length&&p[b]!==">"&&p[b]!==" "&&p[b]!=="	"&&p[b]!==`
`&&p[b]!=="\r";b++)x+=p[b];if(x=x.trim(),x[x.length-1]==="/"&&(x=x.substring(0,x.length-1),b--),!s(x)){let $;return $=x.trim().length===0?"Invalid space after '<'.":"Tag '"+x+"' is an invalid name.",v("InvalidTag",$,N(p,b))}let D=h(p,b);if(D===!1)return v("InvalidAttr","Attributes for '"+x+"' have open quote.",N(p,b));let k=D.value;if(b=D.index,k[k.length-1]==="/"){let $=b-k.length;k=k.substring(0,k.length-1);let Q=A(k,d);if(Q!==!0)return v(Q.err.code,Q.err.msg,N(p,$+Q.err.line));w=!0}else if(I){if(!D.tagClosed)return v("InvalidTag","Closing tag '"+x+"' doesn't have proper closing.",N(p,b));if(k.trim().length>0)return v("InvalidTag","Closing tag '"+x+"' can't have attributes or invalid starting.",N(p,C));if(f.length===0)return v("InvalidTag","Closing tag '"+x+"' has not been opened.",N(p,C));{let $=f.pop();if(x!==$.tagName){let Q=N(p,$.tagStartPos);return v("InvalidTag","Expected closing tag '"+$.tagName+"' (opened in line "+Q.line+", col "+Q.col+") instead of closing tag '"+x+"'.",N(p,C))}f.length==0&&(S=!0)}}else{let $=A(k,d);if($!==!0)return v($.err.code,$.err.msg,N(p,b-k.length+$.err.line));if(S===!0)return v("InvalidXml","Multiple possible root nodes found.",N(p,b));d.unpairedTags.indexOf(x)!==-1||f.push({tagName:x,tagStartPos:C}),w=!0}for(b++;b<p.length;b++)if(p[b]==="<"){if(p[b+1]==="!"){b++,b=m(p,b);continue}if(p[b+1]!=="?")break;if(b=u(p,++b),b.err)return b}else if(p[b]==="&"){let $=R(p,b);if($==-1)return v("InvalidChar","char '&' is not expected.",N(p,b));b=$}else if(S===!0&&!c(p[b]))return v("InvalidXml","Extra text at the end",N(p,b));p[b]==="<"&&b--}}}return w?f.length==1?v("InvalidTag","Unclosed tag '"+f[0].tagName+"'.",N(p,f[0].tagStartPos)):!(f.length>0)||v("InvalidXml","Invalid '"+JSON.stringify(f.map((b=>b.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):v("InvalidXml","Start tag expected.",1)}function c(p){return p===" "||p==="	"||p===`
`||p==="\r"}function u(p,d){let f=d;for(;d<p.length;d++)if(!(p[d]!="?"&&p[d]!=" ")){let w=p.substr(f,d-f);if(d>5&&w==="xml")return v("InvalidXml","XML declaration allowed only at the start of the document.",N(p,d));if(p[d]=="?"&&p[d+1]==">"){d++;break}}return d}function m(p,d){if(p.length>d+5&&p[d+1]==="-"&&p[d+2]==="-"){for(d+=3;d<p.length;d++)if(p[d]==="-"&&p[d+1]==="-"&&p[d+2]===">"){d+=2;break}}else if(p.length>d+8&&p[d+1]==="D"&&p[d+2]==="O"&&p[d+3]==="C"&&p[d+4]==="T"&&p[d+5]==="Y"&&p[d+6]==="P"&&p[d+7]==="E"){let f=1;for(d+=8;d<p.length;d++)if(p[d]==="<")f++;else if(p[d]===">"&&(f--,f===0))break}else if(p.length>d+9&&p[d+1]==="["&&p[d+2]==="C"&&p[d+3]==="D"&&p[d+4]==="A"&&p[d+5]==="T"&&p[d+6]==="A"&&p[d+7]==="["){for(d+=8;d<p.length;d++)if(p[d]==="]"&&p[d+1]==="]"&&p[d+2]===">"){d+=2;break}}return d}let l='"',g="'";function h(p,d){let f="",w="",S=!1;for(;d<p.length;d++){if(p[d]===l||p[d]===g)w===""?w=p[d]:w!==p[d]||(w="");else if(p[d]===">"&&w===""){S=!0;break}f+=p[d]}return w===""&&{value:f,index:d,tagClosed:S}}let y=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function A(p,d){let f=o(p,y),w={};for(let S=0;S<f.length;S++){if(f[S][1].length===0)return v("InvalidAttr","Attribute '"+f[S][2]+"' has no space in starting.",L(f[S]));if(f[S][3]!==void 0&&f[S][4]===void 0)return v("InvalidAttr","Attribute '"+f[S][2]+"' is without value.",L(f[S]));if(f[S][3]===void 0&&!d.allowBooleanAttributes)return v("InvalidAttr","boolean attribute '"+f[S][2]+"' is not allowed.",L(f[S]));let b=f[S][2];if(!O(b))return v("InvalidAttr","Attribute '"+b+"' is an invalid name.",L(f[S]));if(w.hasOwnProperty(b))return v("InvalidAttr","Attribute '"+b+"' is repeated.",L(f[S]));w[b]=1}return!0}function R(p,d){if(p[++d]===";")return-1;if(p[d]==="#")return(function(w,S){let b=/\d/;for(w[S]==="x"&&(S++,b=/[\da-fA-F]/);S<w.length;S++){if(w[S]===";")return S;if(!w[S].match(b))break}return-1})(p,++d);let f=0;for(;d<p.length;d++,f++)if(!(p[d].match(/\w/)&&f<20)){if(p[d]===";")break;return-1}return d}function v(p,d,f){return{err:{code:p,msg:d,line:f.line||f,col:f.col}}}function O(p){return s(p)}function N(p,d){let f=p.substring(0,d).split(/\r?\n/);return{line:f.length,col:f[f.length-1].length+1}}function L(p){return p.startIndex+p[1].length}let j={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(p,d){return d},attributeValueProcessor:function(p,d){return d},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(p,d,f){return p},captureMetaData:!1},J;J=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class be{constructor(d){this.tagname=d,this.child=[],this[":@"]={}}add(d,f){d==="__proto__"&&(d="#__proto__"),this.child.push({[d]:f})}addChild(d,f){d.tagname==="__proto__"&&(d.tagname="#__proto__"),d[":@"]&&Object.keys(d[":@"]).length>0?this.child.push({[d.tagname]:d.child,":@":d[":@"]}):this.child.push({[d.tagname]:d.child}),f!==void 0&&(this.child[this.child.length-1][J]={startIndex:f})}static getMetaDataSymbol(){return J}}class Y{constructor(d){this.suppressValidationErr=!d}readDocType(d,f){let w={};if(d[f+3]!=="O"||d[f+4]!=="C"||d[f+5]!=="T"||d[f+6]!=="Y"||d[f+7]!=="P"||d[f+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{f+=9;let S=1,b=!1,C=!1,I="";for(;f<d.length;f++)if(d[f]!=="<"||C)if(d[f]===">"){if(C?d[f-1]==="-"&&d[f-2]==="-"&&(C=!1,S--):S--,S===0)break}else d[f]==="["?b=!0:I+=d[f];else{if(b&&Z(d,"!ENTITY",f)){let x,D;f+=7,[x,D,f]=this.readEntityExp(d,f+1,this.suppressValidationErr),D.indexOf("&")===-1&&(w[x]={regx:RegExp(`&${x};`,"g"),val:D})}else if(b&&Z(d,"!ELEMENT",f)){f+=8;let{index:x}=this.readElementExp(d,f+1);f=x}else if(b&&Z(d,"!ATTLIST",f))f+=8;else if(b&&Z(d,"!NOTATION",f)){f+=9;let{index:x}=this.readNotationExp(d,f+1,this.suppressValidationErr);f=x}else{if(!Z(d,"!--",f))throw new Error("Invalid DOCTYPE");C=!0}S++,I=""}if(S!==0)throw new Error("Unclosed DOCTYPE")}return{entities:w,i:f}}readEntityExp(d,f){f=W(d,f);let w="";for(;f<d.length&&!/\s/.test(d[f])&&d[f]!=='"'&&d[f]!=="'";)w+=d[f],f++;if(Te(w),f=W(d,f),!this.suppressValidationErr){if(d.substring(f,f+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(d[f]==="%")throw new Error("Parameter entities are not supported")}let S="";return[f,S]=this.readIdentifierVal(d,f,"entity"),[w,S,--f]}readNotationExp(d,f){f=W(d,f);let w="";for(;f<d.length&&!/\s/.test(d[f]);)w+=d[f],f++;!this.suppressValidationErr&&Te(w),f=W(d,f);let S=d.substring(f,f+6).toUpperCase();if(!this.suppressValidationErr&&S!=="SYSTEM"&&S!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${S}"`);f+=S.length,f=W(d,f);let b=null,C=null;if(S==="PUBLIC")[f,b]=this.readIdentifierVal(d,f,"publicIdentifier"),d[f=W(d,f)]!=='"'&&d[f]!=="'"||([f,C]=this.readIdentifierVal(d,f,"systemIdentifier"));else if(S==="SYSTEM"&&([f,C]=this.readIdentifierVal(d,f,"systemIdentifier"),!this.suppressValidationErr&&!C))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:w,publicIdentifier:b,systemIdentifier:C,index:--f}}readIdentifierVal(d,f,w){let S="",b=d[f];if(b!=='"'&&b!=="'")throw new Error(`Expected quoted string, found "${b}"`);for(f++;f<d.length&&d[f]!==b;)S+=d[f],f++;if(d[f]!==b)throw new Error(`Unterminated ${w} value`);return[++f,S]}readElementExp(d,f){f=W(d,f);let w="";for(;f<d.length&&!/\s/.test(d[f]);)w+=d[f],f++;if(!this.suppressValidationErr&&!s(w))throw new Error(`Invalid element name: "${w}"`);let S="";if(d[f=W(d,f)]==="E"&&Z(d,"MPTY",f))f+=4;else if(d[f]==="A"&&Z(d,"NY",f))f+=2;else if(d[f]==="("){for(f++;f<d.length&&d[f]!==")";)S+=d[f],f++;if(d[f]!==")")throw new Error("Unterminated content model")}else if(!this.suppressValidationErr)throw new Error(`Invalid Element Expression, found "${d[f]}"`);return{elementName:w,contentModel:S.trim(),index:f}}readAttlistExp(d,f){f=W(d,f);let w="";for(;f<d.length&&!/\s/.test(d[f]);)w+=d[f],f++;Te(w),f=W(d,f);let S="";for(;f<d.length&&!/\s/.test(d[f]);)S+=d[f],f++;if(!Te(S))throw new Error(`Invalid attribute name: "${S}"`);f=W(d,f);let b="";if(d.substring(f,f+8).toUpperCase()==="NOTATION"){if(b="NOTATION",d[f=W(d,f+=8)]!=="(")throw new Error(`Expected '(', found "${d[f]}"`);f++;let I=[];for(;f<d.length&&d[f]!==")";){let x="";for(;f<d.length&&d[f]!=="|"&&d[f]!==")";)x+=d[f],f++;if(x=x.trim(),!Te(x))throw new Error(`Invalid notation name: "${x}"`);I.push(x),d[f]==="|"&&(f++,f=W(d,f))}if(d[f]!==")")throw new Error("Unterminated list of notations");f++,b+=" ("+I.join("|")+")"}else{for(;f<d.length&&!/\s/.test(d[f]);)b+=d[f],f++;let I=["CDATA","ID","IDREF","IDREFS","ENTITY","ENTITIES","NMTOKEN","NMTOKENS"];if(!this.suppressValidationErr&&!I.includes(b.toUpperCase()))throw new Error(`Invalid attribute type: "${b}"`)}f=W(d,f);let C="";return d.substring(f,f+8).toUpperCase()==="#REQUIRED"?(C="#REQUIRED",f+=8):d.substring(f,f+7).toUpperCase()==="#IMPLIED"?(C="#IMPLIED",f+=7):[f,C]=this.readIdentifierVal(d,f,"ATTLIST"),{elementName:w,attributeName:S,attributeType:b,defaultValue:C,index:f}}}let W=(p,d)=>{for(;d<p.length&&/\s/.test(p[d]);)d++;return d};function Z(p,d,f){for(let w=0;w<d.length;w++)if(d[w]!==p[f+w+1])return!1;return!0}function Te(p){if(s(p))return p;throw new Error(`Invalid entity name ${p}`)}let $t=/^[-+]?0x[a-fA-F0-9]+$/,U0=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,q0={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},H0=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function eg(p){return typeof p=="function"?p:Array.isArray(p)?d=>{for(let f of p)if(typeof f=="string"&&d===f||f instanceof RegExp&&f.test(d))return!0}:()=>!1}class j0{constructor(d){if(this.options=d,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(f,w)=>rg(w,10,"&#")},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(f,w)=>rg(w,16,"&#x")}},this.addExternalEntities=B0,this.parseXml=K0,this.parseTextData=z0,this.resolveNameSpace=V0,this.buildAttributesMap=G0,this.isItStopNode=Q0,this.replaceEntitiesValue=X0,this.readStopNodeData=Z0,this.saveTextToParentTag=J0,this.addChild=Y0,this.ignoreAttributesFn=eg(this.options.ignoreAttributes),this.options.stopNodes&&this.options.stopNodes.length>0){this.stopNodesExact=new Set,this.stopNodesWildcard=new Set;for(let f=0;f<this.options.stopNodes.length;f++){let w=this.options.stopNodes[f];typeof w=="string"&&(w.startsWith("*.")?this.stopNodesWildcard.add(w.substring(2)):this.stopNodesExact.add(w))}}}}function B0(p){let d=Object.keys(p);for(let f=0;f<d.length;f++){let w=d[f];this.lastEntities[w]={regex:new RegExp("&"+w+";","g"),val:p[w]}}}function z0(p,d,f,w,S,b,C){if(p!==void 0&&(this.options.trimValues&&!w&&(p=p.trim()),p.length>0)){C||(p=this.replaceEntitiesValue(p));let I=this.options.tagValueProcessor(d,p,f,S,b);return I==null?p:typeof I!=typeof p||I!==p?I:this.options.trimValues||p.trim()===p?tg(p,this.options.parseTagValue,this.options.numberParseOptions):p}}function V0(p){if(this.options.removeNSPrefix){let d=p.split(":"),f=p.charAt(0)==="/"?"/":"";if(d[0]==="xmlns")return"";d.length===2&&(p=f+d[1])}return p}let W0=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function G0(p,d){if(this.options.ignoreAttributes!==!0&&typeof p=="string"){let f=o(p,W0),w=f.length,S={};for(let b=0;b<w;b++){let C=this.resolveNameSpace(f[b][1]);if(this.ignoreAttributesFn(C,d))continue;let I=f[b][4],x=this.options.attributeNamePrefix+C;if(C.length)if(this.options.transformAttributeName&&(x=this.options.transformAttributeName(x)),x==="__proto__"&&(x="#__proto__"),I!==void 0){this.options.trimValues&&(I=I.trim()),I=this.replaceEntitiesValue(I);let D=this.options.attributeValueProcessor(C,I,d);S[x]=D==null?I:typeof D!=typeof I||D!==I?D:tg(I,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(S[x]=!0)}if(!Object.keys(S).length)return;if(this.options.attributesGroupName){let b={};return b[this.options.attributesGroupName]=S,b}return S}}let K0=function(p){p=p.replace(/\r\n?/g,`
`);let d=new be("!xml"),f=d,w="",S="",b=new Y(this.options.processEntities);for(let C=0;C<p.length;C++)if(p[C]==="<")if(p[C+1]==="/"){let I=Tn(p,">",C,"Closing Tag is not closed."),x=p.substring(C+2,I).trim();if(this.options.removeNSPrefix){let $=x.indexOf(":");$!==-1&&(x=x.substr($+1))}this.options.transformTagName&&(x=this.options.transformTagName(x)),f&&(w=this.saveTextToParentTag(w,f,S));let D=S.substring(S.lastIndexOf(".")+1);if(x&&this.options.unpairedTags.indexOf(x)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${x}>`);let k=0;D&&this.options.unpairedTags.indexOf(D)!==-1?(k=S.lastIndexOf(".",S.lastIndexOf(".")-1),this.tagsNodeStack.pop()):k=S.lastIndexOf("."),S=S.substring(0,k),f=this.tagsNodeStack.pop(),w="",C=I}else if(p[C+1]==="?"){let I=Rd(p,C,!1,"?>");if(!I)throw new Error("Pi Tag is not closed.");if(w=this.saveTextToParentTag(w,f,S),!(this.options.ignoreDeclaration&&I.tagName==="?xml"||this.options.ignorePiTags)){let x=new be(I.tagName);x.add(this.options.textNodeName,""),I.tagName!==I.tagExp&&I.attrExpPresent&&(x[":@"]=this.buildAttributesMap(I.tagExp,S)),this.addChild(f,x,S,C)}C=I.closeIndex+1}else if(p.substr(C+1,3)==="!--"){let I=Tn(p,"-->",C+4,"Comment is not closed.");if(this.options.commentPropName){let x=p.substring(C+4,I-2);w=this.saveTextToParentTag(w,f,S),f.add(this.options.commentPropName,[{[this.options.textNodeName]:x}])}C=I}else if(p.substr(C+1,2)==="!D"){let I=b.readDocType(p,C);this.docTypeEntities=I.entities,C=I.i}else if(p.substr(C+1,2)==="!["){let I=Tn(p,"]]>",C,"CDATA is not closed.")-2,x=p.substring(C+9,I);w=this.saveTextToParentTag(w,f,S);let D=this.parseTextData(x,f.tagname,S,!0,!1,!0,!0);D==null&&(D=""),this.options.cdataPropName?f.add(this.options.cdataPropName,[{[this.options.textNodeName]:x}]):f.add(this.options.textNodeName,D),C=I+2}else{let I=Rd(p,C,this.options.removeNSPrefix),x=I.tagName,D=I.rawTagName,k=I.tagExp,$=I.attrExpPresent,Q=I.closeIndex;if(this.options.transformTagName){let te=this.options.transformTagName(x);k===x&&(k=te),x=te}f&&w&&f.tagname!=="!xml"&&(w=this.saveTextToParentTag(w,f,S,!1));let ae=f;ae&&this.options.unpairedTags.indexOf(ae.tagname)!==-1&&(f=this.tagsNodeStack.pop(),S=S.substring(0,S.lastIndexOf("."))),x!==d.tagname&&(S+=S?"."+x:x);let pe=C;if(this.isItStopNode(this.stopNodesExact,this.stopNodesWildcard,S,x)){let te="";if(k.length>0&&k.lastIndexOf("/")===k.length-1)x[x.length-1]==="/"?(x=x.substr(0,x.length-1),S=S.substr(0,S.length-1),k=x):k=k.substr(0,k.length-1),C=I.closeIndex;else if(this.options.unpairedTags.indexOf(x)!==-1)C=I.closeIndex;else{let yt=this.readStopNodeData(p,D,Q+1);if(!yt)throw new Error(`Unexpected end of ${D}`);C=yt.i,te=yt.tagContent}let it=new be(x);x!==k&&$&&(it[":@"]=this.buildAttributesMap(k,S)),te&&(te=this.parseTextData(te,x,S,!0,$,!0,!0)),S=S.substr(0,S.lastIndexOf(".")),it.add(this.options.textNodeName,te),this.addChild(f,it,S,pe)}else{if(k.length>0&&k.lastIndexOf("/")===k.length-1){if(x[x.length-1]==="/"?(x=x.substr(0,x.length-1),S=S.substr(0,S.length-1),k=x):k=k.substr(0,k.length-1),this.options.transformTagName){let it=this.options.transformTagName(x);k===x&&(k=it),x=it}let te=new be(x);x!==k&&$&&(te[":@"]=this.buildAttributesMap(k,S)),this.addChild(f,te,S,pe),S=S.substr(0,S.lastIndexOf("."))}else{let te=new be(x);this.tagsNodeStack.push(f),x!==k&&$&&(te[":@"]=this.buildAttributesMap(k,S)),this.addChild(f,te,S,pe),f=te}w="",C=Q}}else w+=p[C];return d.child};function Y0(p,d,f,w){this.options.captureMetaData||(w=void 0);let S=this.options.updateTag(d.tagname,f,d[":@"]);S===!1||(typeof S=="string"&&(d.tagname=S),p.addChild(d,w))}let X0=function(p){if(this.options.processEntities){for(let d in this.docTypeEntities){let f=this.docTypeEntities[d];p=p.replace(f.regx,f.val)}for(let d in this.lastEntities){let f=this.lastEntities[d];p=p.replace(f.regex,f.val)}if(this.options.htmlEntities)for(let d in this.htmlEntities){let f=this.htmlEntities[d];p=p.replace(f.regex,f.val)}p=p.replace(this.ampEntity.regex,this.ampEntity.val)}return p};function J0(p,d,f,w){return p&&(w===void 0&&(w=d.child.length===0),(p=this.parseTextData(p,d.tagname,f,!1,!!d[":@"]&&Object.keys(d[":@"]).length!==0,w))!==void 0&&p!==""&&d.add(this.options.textNodeName,p),p=""),p}function Q0(p,d,f,w){return!(!d||!d.has(w))||!(!p||!p.has(f))}function Tn(p,d,f,w){let S=p.indexOf(d,f);if(S===-1)throw new Error(w);return S+d.length-1}function Rd(p,d,f,w=">"){let S=(function($,Q,ae=">"){let pe,te="";for(let it=Q;it<$.length;it++){let yt=$[it];if(pe)yt===pe&&(pe="");else if(yt==='"'||yt==="'")pe=yt;else if(yt===ae[0]){if(!ae[1])return{data:te,index:it};if($[it+1]===ae[1])return{data:te,index:it}}else yt==="	"&&(yt=" ");te+=yt}})(p,d+1,w);if(!S)return;let b=S.data,C=S.index,I=b.search(/\s/),x=b,D=!0;I!==-1&&(x=b.substring(0,I),b=b.substring(I+1).trimStart());let k=x;if(f){let $=x.indexOf(":");$!==-1&&(x=x.substr($+1),D=x!==S.data.substr($+1))}return{tagName:x,tagExp:b,closeIndex:C,attrExpPresent:D,rawTagName:k}}function Z0(p,d,f){let w=f,S=1;for(;f<p.length;f++)if(p[f]==="<")if(p[f+1]==="/"){let b=Tn(p,">",f,`${d} is not closed`);if(p.substring(f+2,b).trim()===d&&(S--,S===0))return{tagContent:p.substring(w,f),i:b};f=b}else if(p[f+1]==="?")f=Tn(p,"?>",f+1,"StopNode is not closed.");else if(p.substr(f+1,3)==="!--")f=Tn(p,"-->",f+3,"StopNode is not closed.");else if(p.substr(f+1,2)==="![")f=Tn(p,"]]>",f,"StopNode is not closed.")-2;else{let b=Rd(p,f,">");b&&((b&&b.tagName)===d&&b.tagExp[b.tagExp.length-1]!=="/"&&S++,f=b.closeIndex)}}function tg(p,d,f){if(d&&typeof p=="string"){let w=p.trim();return w==="true"||w!=="false"&&(function(S,b={}){if(b=Object.assign({},q0,b),!S||typeof S!="string")return S;let C=S.trim();if(b.skipLike!==void 0&&b.skipLike.test(C))return S;if(S==="0")return 0;if(b.hex&&$t.test(C))return(function(x){if(parseInt)return parseInt(x,16);if(Number.parseInt)return Number.parseInt(x,16);if(window&&window.parseInt)return window.parseInt(x,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")})(C);if(C.search(/.+[eE].+/)!==-1)return(function(x,D,k){if(!k.eNotation)return x;let $=D.match(H0);if($){let Q=$[1]||"",ae=$[3].indexOf("e")===-1?"E":"e",pe=$[2],te=Q?x[pe.length+1]===ae:x[pe.length]===ae;return pe.length>1&&te?x:pe.length!==1||!$[3].startsWith(`.${ae}`)&&$[3][0]!==ae?k.leadingZeros&&!te?(D=($[1]||"")+$[3],Number(D)):x:Number(D)}return x})(S,C,b);{let x=U0.exec(C);if(x){let D=x[1]||"",k=x[2],$=((I=x[3])&&I.indexOf(".")!==-1&&((I=I.replace(/0+$/,""))==="."?I="0":I[0]==="."?I="0"+I:I[I.length-1]==="."&&(I=I.substring(0,I.length-1))),I),Q=D?S[k.length+1]===".":S[k.length]===".";if(!b.leadingZeros&&(k.length>1||k.length===1&&!Q))return S;{let ae=Number(C),pe=String(ae);if(ae===0||ae===-0)return ae;if(pe.search(/[eE]/)!==-1)return b.eNotation?ae:S;if(C.indexOf(".")!==-1)return pe==="0"||pe===$||pe===`${D}${$}`?ae:S;let te=k?$:C;return k?te===pe||D+te===pe?ae:S:te===pe||te===D+pe?ae:S}}return S}var I})(p,f)}return p!==void 0?p:""}function rg(p,d,f){let w=Number.parseInt(p,d);return w>=0&&w<=1114111?String.fromCodePoint(w):f+p+";"}let Cd=be.getMetaDataSymbol();function eP(p,d){return ng(p,d)}function ng(p,d,f){let w,S={};for(let b=0;b<p.length;b++){let C=p[b],I=tP(C),x="";if(x=f===void 0?I:f+"."+I,I===d.textNodeName)w===void 0?w=C[I]:w+=""+C[I];else{if(I===void 0)continue;if(C[I]){let D=ng(C[I],d,x),k=nP(D,d);C[Cd]!==void 0&&(D[Cd]=C[Cd]),C[":@"]?rP(D,C[":@"],x,d):Object.keys(D).length!==1||D[d.textNodeName]===void 0||d.alwaysCreateTextNode?Object.keys(D).length===0&&(d.alwaysCreateTextNode?D[d.textNodeName]="":D=""):D=D[d.textNodeName],S[I]!==void 0&&S.hasOwnProperty(I)?(Array.isArray(S[I])||(S[I]=[S[I]]),S[I].push(D)):d.isArray(I,x,k)?S[I]=[D]:S[I]=D}}}return typeof w=="string"?w.length>0&&(S[d.textNodeName]=w):w!==void 0&&(S[d.textNodeName]=w),S}function tP(p){let d=Object.keys(p);for(let f=0;f<d.length;f++){let w=d[f];if(w!==":@")return w}}function rP(p,d,f,w){if(d){let S=Object.keys(d),b=S.length;for(let C=0;C<b;C++){let I=S[C];w.isArray(I,f+"."+I,!0,!0)?p[I]=[d[I]]:p[I]=d[I]}}}function nP(p,d){let{textNodeName:f}=d,w=Object.keys(p).length;return w===0||!(w!==1||!p[f]&&typeof p[f]!="boolean"&&p[f]!==0)}class oP{constructor(d){this.externalEntities={},this.options=(function(f){return Object.assign({},j,f)})(d)}parse(d,f){if(typeof d!="string"&&d.toString)d=d.toString();else if(typeof d!="string")throw new Error("XML data is accepted in String or Bytes[] form.");if(f){f===!0&&(f={});let b=a(d,f);if(b!==!0)throw Error(`${b.err.msg}:${b.err.line}:${b.err.col}`)}let w=new j0(this.options);w.addExternalEntities(this.externalEntities);let S=w.parseXml(d);return this.options.preserveOrder||S===void 0?S:eP(S,this.options)}addEntity(d,f){if(f.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(d.indexOf("&")!==-1||d.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(f==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[d]=f}static getMetaDataSymbol(){return be.getMetaDataSymbol()}}function sP(p,d){let f="";return d.format&&d.indentBy.length>0&&(f=`
`),og(p,d,"",f)}function og(p,d,f,w){let S="",b=!1;for(let C=0;C<p.length;C++){let I=p[C],x=iP(I);if(x===void 0)continue;let D="";if(D=f.length===0?x:`${f}.${x}`,x===d.textNodeName){let ae=I[x];aP(D,d)||(ae=d.tagValueProcessor(x,ae),ae=ig(ae,d)),b&&(S+=w),S+=ae,b=!1;continue}if(x===d.cdataPropName){b&&(S+=w),S+=`<![CDATA[${I[x][0][d.textNodeName]}]]>`,b=!1;continue}if(x===d.commentPropName){S+=w+`<!--${I[x][0][d.textNodeName]}-->`,b=!0;continue}if(x[0]==="?"){let ae=sg(I[":@"],d),pe=x==="?xml"?"":w,te=I[x][0][d.textNodeName];te=te.length!==0?" "+te:"",S+=pe+`<${x}${te}${ae}?>`,b=!0;continue}let k=w;k!==""&&(k+=d.indentBy);let $=w+`<${x}${sg(I[":@"],d)}`,Q=og(I[x],d,D,k);d.unpairedTags.indexOf(x)!==-1?d.suppressUnpairedNode?S+=$+">":S+=$+"/>":Q&&Q.length!==0||!d.suppressEmptyNode?Q&&Q.endsWith(">")?S+=$+`>${Q}${w}</${x}>`:(S+=$+">",Q&&w!==""&&(Q.includes("/>")||Q.includes("</"))?S+=w+d.indentBy+Q+w:S+=Q,S+=`</${x}>`):S+=$+"/>",b=!0}return S}function iP(p){let d=Object.keys(p);for(let f=0;f<d.length;f++){let w=d[f];if(p.hasOwnProperty(w)&&w!==":@")return w}}function sg(p,d){let f="";if(p&&!d.ignoreAttributes)for(let w in p){if(!p.hasOwnProperty(w))continue;let S=d.attributeValueProcessor(w,p[w]);S=ig(S,d),S===!0&&d.suppressBooleanAttributes?f+=` ${w.substr(d.attributeNamePrefix.length)}`:f+=` ${w.substr(d.attributeNamePrefix.length)}="${S}"`}return f}function aP(p,d){let f=(p=p.substr(0,p.length-d.textNodeName.length-1)).substr(p.lastIndexOf(".")+1);for(let w in d.stopNodes)if(d.stopNodes[w]===p||d.stopNodes[w]==="*."+f)return!0;return!1}function ig(p,d){if(p&&p.length>0&&d.processEntities)for(let f=0;f<d.entities.length;f++){let w=d.entities[f];p=p.replace(w.regex,w.val)}return p}let cP={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(p,d){return d},attributeValueProcessor:function(p,d){return d},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Or(p){this.options=Object.assign({},cP,p),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=eg(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=lP),this.processTextOrObjNode=uP,this.options.format?(this.indentate=dP,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function uP(p,d,f,w){let S=this.j2x(p,f+1,w.concat(d));return p[this.options.textNodeName]!==void 0&&Object.keys(p).length===1?this.buildTextValNode(p[this.options.textNodeName],d,S.attrStr,f):this.buildObjectNode(S.val,d,S.attrStr,f)}function dP(p){return this.options.indentBy.repeat(p)}function lP(p){return!(!p.startsWith(this.options.attributeNamePrefix)||p===this.options.textNodeName)&&p.substr(this.attrPrefixLen)}Or.prototype.build=function(p){return this.options.preserveOrder?sP(p,this.options):(Array.isArray(p)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(p={[this.options.arrayNodeName]:p}),this.j2x(p,0,[]).val)},Or.prototype.j2x=function(p,d,f){let w="",S="",b=f.join(".");for(let C in p)if(Object.prototype.hasOwnProperty.call(p,C))if(p[C]===void 0)this.isAttribute(C)&&(S+="");else if(p[C]===null)this.isAttribute(C)||C===this.options.cdataPropName?S+="":C[0]==="?"?S+=this.indentate(d)+"<"+C+"?"+this.tagEndChar:S+=this.indentate(d)+"<"+C+"/"+this.tagEndChar;else if(p[C]instanceof Date)S+=this.buildTextValNode(p[C],C,"",d);else if(typeof p[C]!="object"){let I=this.isAttribute(C);if(I&&!this.ignoreAttributesFn(I,b))w+=this.buildAttrPairStr(I,""+p[C]);else if(!I)if(C===this.options.textNodeName){let x=this.options.tagValueProcessor(C,""+p[C]);S+=this.replaceEntitiesValue(x)}else S+=this.buildTextValNode(p[C],C,"",d)}else if(Array.isArray(p[C])){let I=p[C].length,x="",D="";for(let k=0;k<I;k++){let $=p[C][k];if($!==void 0)if($===null)C[0]==="?"?S+=this.indentate(d)+"<"+C+"?"+this.tagEndChar:S+=this.indentate(d)+"<"+C+"/"+this.tagEndChar;else if(typeof $=="object")if(this.options.oneListGroup){let Q=this.j2x($,d+1,f.concat(C));x+=Q.val,this.options.attributesGroupName&&$.hasOwnProperty(this.options.attributesGroupName)&&(D+=Q.attrStr)}else x+=this.processTextOrObjNode($,C,d,f);else if(this.options.oneListGroup){let Q=this.options.tagValueProcessor(C,$);Q=this.replaceEntitiesValue(Q),x+=Q}else x+=this.buildTextValNode($,C,"",d)}this.options.oneListGroup&&(x=this.buildObjectNode(x,C,D,d)),S+=x}else if(this.options.attributesGroupName&&C===this.options.attributesGroupName){let I=Object.keys(p[C]),x=I.length;for(let D=0;D<x;D++)w+=this.buildAttrPairStr(I[D],""+p[C][I[D]])}else S+=this.processTextOrObjNode(p[C],C,d,f);return{attrStr:w,val:S}},Or.prototype.buildAttrPairStr=function(p,d){return d=this.options.attributeValueProcessor(p,""+d),d=this.replaceEntitiesValue(d),this.options.suppressBooleanAttributes&&d==="true"?" "+p:" "+p+'="'+d+'"'},Or.prototype.buildObjectNode=function(p,d,f,w){if(p==="")return d[0]==="?"?this.indentate(w)+"<"+d+f+"?"+this.tagEndChar:this.indentate(w)+"<"+d+f+this.closeTag(d)+this.tagEndChar;{let S="</"+d+this.tagEndChar,b="";return d[0]==="?"&&(b="?",S=""),!f&&f!==""||p.indexOf("<")!==-1?this.options.commentPropName!==!1&&d===this.options.commentPropName&&b.length===0?this.indentate(w)+`<!--${p}-->`+this.newLine:this.indentate(w)+"<"+d+f+b+this.tagEndChar+p+this.indentate(w)+S:this.indentate(w)+"<"+d+f+b+">"+p+S}},Or.prototype.closeTag=function(p){let d="";return this.options.unpairedTags.indexOf(p)!==-1?this.options.suppressUnpairedNode||(d="/"):d=this.options.suppressEmptyNode?"/":`></${p}`,d},Or.prototype.buildTextValNode=function(p,d,f,w){if(this.options.cdataPropName!==!1&&d===this.options.cdataPropName)return this.indentate(w)+`<![CDATA[${p}]]>`+this.newLine;if(this.options.commentPropName!==!1&&d===this.options.commentPropName)return this.indentate(w)+`<!--${p}-->`+this.newLine;if(d[0]==="?")return this.indentate(w)+"<"+d+f+"?"+this.tagEndChar;{let S=this.options.tagValueProcessor(d,p);return S=this.replaceEntitiesValue(S),S===""?this.indentate(w)+"<"+d+f+this.closeTag(d)+this.tagEndChar:this.indentate(w)+"<"+d+f+">"+S+"</"+d+this.tagEndChar}},Or.prototype.replaceEntitiesValue=function(p){if(p&&p.length>0&&this.options.processEntities)for(let d=0;d<this.options.entities.length;d++){let f=this.options.entities[d];p=p.replace(f.regex,f.val)}return p};let fP={validate:a};D_.exports=t})()});var $_=P(wp=>{"use strict";Object.defineProperty(wp,"__esModule",{value:!0});wp.parseXML=qk;var Uk=k_(),Ep=new Uk.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});Ep.addEntity("#xD","\r");Ep.addEntity("#10",`
`);function qk(e){return Ep.parse(e,!0)}});var rc=P(tc=>{"use strict";var Hk=$_();function jk(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Bk(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var ec=class{value;constructor(t){this.value=t}toString(){return Bk(""+this.value)}},_p=class e{name;children;attributes={};static of(t,r,n){let o=new e(t);return r!==void 0&&o.addChildNode(new ec(r)),n!==void 0&&o.withName(n),o}constructor(t,r=[]){this.name=t,this.children=r}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let o=e.of(r,t[r]).withName(n);this.c(o)}}l(t,r,n,o){t[r]!=null&&o().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,o){if(t[r]!=null){let s=o(),i=new e(n);s.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let o of Object.keys(n)){let s=n[o];s!=null&&(r+=` ${o}="${jk(""+s)}"`)}return r+=t?`>${this.children.map(o=>o.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(tc,"parseXML",{enumerable:!0,get:function(){return Hk.parseXML}});tc.XmlNode=_p;tc.XmlText=ec});var M_,F_,L_,Qr,nc=E(()=>{M_=_(rc());nt();ee();F_=_(B()),L_=_(Ce());Kr();mp();Qr=class extends je{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new Pn(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let o=F.of(t),s=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(s).find(u=>!!u.getMemberTraits().eventPayload)){let u={},m=Object.keys(s)[0];return s[m].isBlobSchema()?u[m]=r:u[m]=this.read(s[m],r),u}let a=(this.serdeContext?.utf8Encoder??L_.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=F.of(t);if(n.isUnitSchema())return;let o=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!o.sparse,i=!!o.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),u=[],m=c.getMergedTraits().xmlName??"member",l=i?r:(r[0]??r)[m],g=Array.isArray(l)?l:[l];for(let h of g)(h!=null||s)&&u.push(this.readSchema(c,h));return u}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),u=n.getValueSchema(),m;i?m=Array.isArray(r)?r:[r]:m=Array.isArray(r.entry)?r.entry:[r.entry];let l=c.getMergedTraits().xmlName??"key",g=u.getMergedTraits().xmlName??"value";for(let h of m){let y=h[l],A=h[g];(A!=null||s)&&(a[y]=this.readSchema(u,A))}return a}if(n.isStructSchema()){let c=n.isUnionSchema(),u;c&&(u=new Ao(r,a));for(let[m,l]of n.structIterator()){let g=l.getMergedTraits(),h=g.httpPayload?g.xmlName??l.getName():l.getMemberTraits().xmlName??m;c&&u.mark(h),r[h]!=null&&(a[m]=this.readSchema(l,r[h]))}return c&&u.writeUnknown(),a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r;try{r=(0,M_.parseXML)(t)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:t}),i}let n="#text",o=Object.keys(r)[0],s=r[o];return s[n]&&(s[o]=s[n],delete s[n]),(0,F_.getValueFromTextNode)(s)}return{}}}});var U_,q_,oc,H_=E(()=>{nt();ee();Ze();U_=_(B()),q_=_(ve());Kr();oc=class extends je{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let o=F.of(t);if(n&&!n.endsWith(".")&&(n+="."),o.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??q_.toBase64)(r)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):o.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,Et.v4)()));else if(o.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof le?r.string:String(r)));else if(o.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),at(o,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,U_.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else if(o.isDocumentSchema())Array.isArray(r)?this.write(79,r,n):r instanceof Date?this.write(4,r,n):r instanceof Uint8Array?this.write(21,r,n):r&&typeof r=="object"?this.write(143,r,n):(this.writeKey(n),this.writeValue(String(r)));else if(o.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let s=o.getValueSchema(),i=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let u=s.getMergedTraits(),m=this.getKey("member",u.xmlName,u.ec2QueryName),l=i?`${n}${a}`:`${n}${m}.${a}`;this.write(s,c,l),++a}}}else if(o.isMapSchema()){if(r&&typeof r=="object"){let s=o.getKeySchema(),i=o.getValueSchema(),a=o.getMergedTraits().xmlFlattened,c=1;for(let[u,m]of Object.entries(r)){if(m==null)continue;let l=s.getMergedTraits(),g=this.getKey("key",l.xmlName,l.ec2QueryName),h=a?`${n}${c}.${g}`:`${n}entry.${c}.${g}`,y=i.getMergedTraits(),A=this.getKey("value",y.xmlName,y.ec2QueryName),R=a?`${n}${c}.${A}`:`${n}entry.${c}.${A}`;this.write(s,u,h),this.write(i,m,R),++c}}}else if(o.isStructSchema()){if(r&&typeof r=="object"){let s=!1;for(let[i,a]of o.structIterator()){if(r[i]==null&&!a.isIdempotencyToken())continue;let c=a.getMergedTraits(),u=this.getKey(i,c.xmlName,c.ec2QueryName,"struct"),m=`${n}${u}`;this.write(a,r[i],m),s=!0}if(!s&&o.isUnionSchema()){let{$unknown:i}=r;if(Array.isArray(i)){let[a,c]=i,u=`${n}${a}`;this.write(15,c,u)}}}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r,n,o){let{ec2:s,capitalizeKeys:i}=this.settings;if(s&&n)return n;let a=r??t;return i&&o==="struct"?a[0].toUpperCase()+a.slice(1):a}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${Xt(t)}=`}writeValue(t){this.buffer+=Xt(t)}}});var Zr,bp=E(()=>{nt();ee();To();nc();H_();Zr=class extends Sr{options;serializer;deserializer;mixin=new wt;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new oc(r),this.deserializer=new Qr(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(Mt(t.input)==="unit"||!o.body)&&(o.body="");let s=t.name.split("#")[1]??t.name;return o.body=`Action=${s}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1)),o}async deserializeResponse(t,r,n){let o=this.deserializer,s=F.of(t.output),i={};if(n.statusCode>=300){let l=await St(n.body,r);l.byteLength>0&&Object.assign(i,await o.read(15,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let l in n.headers){let g=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=g}let a=t.name.split("#")[1]??t.name,c=s.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,u=await St(n.body,r);return u.byteLength>0&&Object.assign(i,await o.read(s,u,c)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,o,s){let i=this.loadQueryErrorCode(n,o)??"Unknown",a=this.loadQueryError(o),c=this.loadQueryErrorMessage(o);a.message=c,a.Error={Type:a.Type,Code:a.Code,Message:c};let{errorSchema:u,errorMetadata:m}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,a,s,this.mixin.findQueryCompatibleError),l=F.of(u),g=se.for(u[1]).getErrorCtor(u)??Error,h=new g(c),y={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[A,R]of l.structIterator()){let v=R.getMergedTraits().xmlName??A,O=a[v]??o[v];y[A]=this.deserializer.readSchema(R,O)}throw this.mixin.decorateServiceException(Object.assign(h,m,{$fault:l.getMergedTraits().error,message:c},y),o)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var sc,j_=E(()=>{bp();sc=class extends Zr{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1,ec2:!0};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var B_,z_,Tp,V_,ic,Ap=E(()=>{B_=_(rc()),z_=_(B());hp();Tp=(e,t)=>Ka(e,t).then(r=>{if(r.length){let n;try{n=(0,B_.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let o="#text",s=Object.keys(n)[0],i=n[s];return i[o]&&(i[s]=i[o],delete i[o]),(0,z_.getValueFromTextNode)(i)}return{}}),V_=async(e,t)=>{let r=await Tp(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},ic=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var tt,xp,ac,vo,Rp=E(()=>{tt=_(rc());nt();ee();Ze();xp=_(B()),ac=_(ve());Kr();vo=class extends je{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=F.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??ac.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let o=t.getMergedTraits(),s=t.isMemberSchema()&&!o.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():o.xmlName??t.getName();if(!s||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=tt.XmlNode.of(s),[a,c]=this.getXmlnsAttribute(t,n);for(let[m,l]of t.structIterator()){let g=r[m];if(g!=null||l.isIdempotencyToken()){if(l.getMergedTraits().xmlAttribute){i.addAttribute(l.getMergedTraits().xmlName??m,this.writeSimple(l,g));continue}if(l.isListSchema())this.writeList(l,g,i,c);else if(l.isMapSchema())this.writeMap(l,g,i,c);else if(l.isStructSchema())i.addChildNode(this.writeStruct(l,g,c));else{let h=tt.XmlNode.of(l.getMergedTraits().xmlName??l.getMemberName());this.writeSimpleInto(l,g,h,c),i.addChildNode(h)}}}let{$unknown:u}=r;if(u&&t.isUnionSchema()&&Array.isArray(u)&&Object.keys(r).length===1){let[m,l]=u,g=tt.XmlNode.of(m);if(typeof l!="string")if(r instanceof tt.XmlNode||r instanceof tt.XmlText)i.addChildNode(r);else throw new Error("@aws-sdk - $unknown union member in XML requires value of type string, @aws-sdk/xml-builder::XmlNode or XmlText.");this.writeSimpleInto(0,l,g,c),i.addChildNode(g)}return c&&i.addAttribute(a,c),i}writeList(t,r,n,o){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let s=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),c=!!a.sparse,u=!!s.xmlFlattened,[m,l]=this.getXmlnsAttribute(t,o),g=(h,y)=>{if(i.isListSchema())this.writeList(i,Array.isArray(y)?y:[y],h,l);else if(i.isMapSchema())this.writeMap(i,y,h,l);else if(i.isStructSchema()){let A=this.writeStruct(i,y,l);h.addChildNode(A.withName(u?s.xmlName??t.getMemberName():a.xmlName??"member"))}else{let A=tt.XmlNode.of(u?s.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,y,A,l),h.addChildNode(A)}};if(u)for(let h of r)(c||h!=null)&&g(n,h);else{let h=tt.XmlNode.of(s.xmlName??t.getMemberName());l&&h.addAttribute(m,l);for(let y of r)(c||y!=null)&&g(h,y);n.addChildNode(h)}}writeMap(t,r,n,o,s=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),u=a.getMergedTraits().xmlName??"key",m=t.getValueSchema(),l=m.getMergedTraits(),g=l.xmlName??"value",h=!!l.sparse,y=!!i.xmlFlattened,[A,R]=this.getXmlnsAttribute(t,o),v=(O,N,L)=>{let j=tt.XmlNode.of(u,N),[J,be]=this.getXmlnsAttribute(a,R);be&&j.addAttribute(J,be),O.addChildNode(j);let Y=tt.XmlNode.of(g);m.isListSchema()?this.writeList(m,L,Y,R):m.isMapSchema()?this.writeMap(m,L,Y,R,!0):m.isStructSchema()?Y=this.writeStruct(m,L,R):this.writeSimpleInto(m,L,Y,R),O.addChildNode(Y)};if(y){for(let[O,N]of Object.entries(r))if(h||N!=null){let L=tt.XmlNode.of(i.xmlName??t.getMemberName());v(L,O,N),n.addChildNode(L)}}else{let O;s||(O=tt.XmlNode.of(i.xmlName??t.getMemberName()),R&&O.addAttribute(A,R),n.addChildNode(O));for(let[N,L]of Object.entries(r))if(h||L!=null){let j=tt.XmlNode.of("entry");v(j,N,L),(s?n:O).addChildNode(j)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=F.of(t),o=null;if(r&&typeof r=="object")if(n.isBlobSchema())o=(this.serdeContext?.base64Encoder??ac.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(at(n,this.settings)){case 5:o=r.toISOString().replace(".000Z","Z");break;case 6:o=(0,xp.dateToUtcString)(r);break;case 7:o=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),o=(0,xp.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof le?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(o=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?o=(0,Et.v4)():o=String(r)),o===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return o}writeSimpleInto(t,r,n,o){let s=this.writeSimple(t,r),i=F.of(t),a=new tt.XmlText(s),[c,u]=this.getXmlnsAttribute(i,o);u&&n.addAttribute(c,u),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[o,s]=n.xmlNamespace??[];return s&&s!==r?[o?`xmlns:${o}`:"xmlns",s]:[void 0,void 0]}}});var Io,Cp=E(()=>{Kr();nc();Rp();Io=class extends je{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new vo(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Qr(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var cc,W_=E(()=>{nt();ee();To();Ap();Cp();cc=class extends In{codec;serializer;deserializer;mixin=new wt;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new Io(r),this.serializer=new Nn(this.codec.createSerializer(),r),this.deserializer=new On(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=F.of(t.input);if(!o.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);i&&(o.headers["content-type"]=i)}return typeof o.body=="string"&&o.headers["content-type"]===this.getDefaultContentType()&&!o.body.startsWith("<?xml ")&&!this.hasUnstructuredPayloadBinding(s)&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=ic(n,o)??"Unknown";if(o.Error&&typeof o.Error=="object")for(let y of Object.keys(o.Error))o[y]=o.Error[y],y.toLowerCase()==="message"&&(o.message=o.Error[y]);o.RequestId&&!s.requestId&&(s.requestId=o.RequestId);let{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s),u=F.of(a),m=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",l=se.for(a[1]).getErrorCtor(a)??Error,g=new l(m);await this.deserializeHttpMessage(a,r,n,o);let h={};for(let[y,A]of u.structIterator()){let R=A.getMergedTraits().xmlName??y,v=o.Error?.[R]??o[R];h[y]=this.codec.createDeserializer().readSchema(A,v)}throw this.mixin.decorateServiceException(Object.assign(g,c,{$fault:u.getMergedTraits().error,message:m},h),o)}getDefaultContentType(){return"application/xml"}hasUnstructuredPayloadBinding(t){for(let[,r]of t.structIterator())if(r.getMergedTraits().httpPayload)return!(r.isStructSchema()||r.isMapSchema()||r.isListSchema());return!1}}});var vp={};Ye(vp,{AwsEc2QueryProtocol:()=>sc,AwsJson1_0Protocol:()=>Qa,AwsJson1_1Protocol:()=>Za,AwsJsonRpcProtocol:()=>Xr,AwsQueryProtocol:()=>Zr,AwsRestJsonProtocol:()=>Jr,AwsRestXmlProtocol:()=>cc,AwsSmithyRpcV2CborProtocol:()=>Ga,JsonCodec:()=>Yr,JsonShapeDeserializer:()=>Ro,JsonShapeSerializer:()=>Co,XmlCodec:()=>Io,XmlShapeDeserializer:()=>Qr,XmlShapeSerializer:()=>vo,_toBool:()=>g_,_toNum:()=>y_,_toStr:()=>h_,awsExpectUnion:()=>O_,loadRestJsonErrorCode:()=>xo,loadRestXmlErrorCode:()=>ic,parseJsonBody:()=>Ns,parseJsonErrorBody:()=>T_,parseXmlBody:()=>Tp,parseXmlErrorBody:()=>V_});var Fn=E(()=>{m_();S_();C_();v_();Ja();I_();Xa();gp();Sp();N_();Ds();j_();bp();W_();Cp();nc();Rp();Ap()});var en={};Ye(en,{AWSSDKSigV4Signer:()=>_f,AwsEc2QueryProtocol:()=>sc,AwsJson1_0Protocol:()=>Qa,AwsJson1_1Protocol:()=>Za,AwsJsonRpcProtocol:()=>Xr,AwsQueryProtocol:()=>Zr,AwsRestJsonProtocol:()=>Jr,AwsRestXmlProtocol:()=>cc,AwsSdkSigV4ASigner:()=>Cs,AwsSdkSigV4Signer:()=>qe,AwsSmithyRpcV2CborProtocol:()=>Ga,JsonCodec:()=>Yr,JsonShapeDeserializer:()=>Ro,JsonShapeSerializer:()=>Co,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Hr,NODE_SIGV4A_CONFIG_OPTIONS:()=>lw,XmlCodec:()=>Io,XmlShapeDeserializer:()=>Qr,XmlShapeSerializer:()=>vo,_toBool:()=>g_,_toNum:()=>y_,_toStr:()=>h_,awsExpectUnion:()=>O_,emitWarningIfUnsupportedVersion:()=>Ur,getBearerTokenEnvKey:()=>Ia,loadRestJsonErrorCode:()=>xo,loadRestXmlErrorCode:()=>ic,parseJsonBody:()=>Ns,parseJsonErrorBody:()=>T_,parseXmlBody:()=>Tp,parseXmlErrorBody:()=>V_,resolveAWSSDKSigV4Config:()=>Fw,resolveAwsSdkSigV4AConfig:()=>dw,resolveAwsSdkSigV4Config:()=>_r,setCredentialFeature:()=>qr,setFeature:()=>KE,setTokenFeature:()=>XE,state:()=>va,validateSigningProperties:()=>Eo});var Ne=E(()=>{ct();qf();Fn()});var Ln=P(Po=>{"use strict";var zk=(Oe(),G(Fr)),Vk=yo(),Wk=ce(),rr=(Ne(),G(en)),X_=void 0;function Gk(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function Kk(e){let t=zk.normalizeProvider(e.userAgentAppId??X_),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let n=await t();if(!Gk(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var Yk=/\d{12}\.ddb/;async function Xk(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&rr.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?rr.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):rr.setFeature(e,"RETRY_MODE_STANDARD","E"):rr.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(Yk)&&rr.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":rr.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":rr.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":rr.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&rr.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))rr.setFeature(e,i,a)}}var G_="user-agent",Ip="x-amz-user-agent",K_=" ",Pp="/",Jk=/[^!$%&'*+\-.^_`|~\w]/g,Qk=/[^!$%&'*+\-.^_`|~\w#]/g,Y_="-",Zk=1024;function e1(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=Zk){t.length?t+=","+n:t+=n;continue}break}return t}var J_=e=>(t,r)=>async n=>{let{request:o}=n;if(!Wk.HttpRequest.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(uc)||[],a=(await e.defaultUserAgentProvider()).map(uc);await Xk(r,e,n);let c=r;a.push(`m/${e1(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let u=e?.customUserAgent?.map(uc)||[],m=await e.userAgentAppId();m&&a.push(uc(["app",`${m}`]));let l=Vk.getUserAgentPrefix(),g=(l?[l]:[]).concat([...a,...i,...u]).join(K_),h=[...a.filter(y=>y.startsWith("aws-sdk-")),...u].join(K_);return e.runtime!=="browser"?(h&&(s[Ip]=s[Ip]?`${s[G_]} ${h}`:h),s[G_]=g):s[Ip]=g,t({...n,request:o})},uc=e=>{let t=e[0].split(Pp).map(i=>i.replace(Jk,Y_)).join(Pp),r=e[1]?.replace(Qk,Y_),n=t.indexOf(Pp),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,a,c)=>{switch(c){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},Q_={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},t1=e=>({applyToStack:t=>{t.add(J_(e),Q_)}});Po.DEFAULT_UA_APP_ID=X_;Po.getUserAgentMiddlewareOptions=Q_;Po.getUserAgentPlugin=t1;Po.resolveUserAgentConfig=Kk;Po.userAgentMiddleware=J_});var Z_=P(Oo=>{"use strict";var r1=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},n1=(e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n};Oo.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Oo.SelectorType||(Oo.SelectorType={}));Oo.booleanSelector=r1;Oo.numberSelector=n1});var ot=P(De=>{"use strict";var tn=Z_(),dc=Xe(),o1=wr(),rb="AWS_USE_DUALSTACK_ENDPOINT",nb="use_dualstack_endpoint",s1=!1,i1={environmentVariableSelector:e=>tn.booleanSelector(e,rb,tn.SelectorType.ENV),configFileSelector:e=>tn.booleanSelector(e,nb,tn.SelectorType.CONFIG),default:!1},ob="AWS_USE_FIPS_ENDPOINT",sb="use_fips_endpoint",a1=!1,c1={environmentVariableSelector:e=>tn.booleanSelector(e,ob,tn.SelectorType.ENV),configFileSelector:e=>tn.booleanSelector(e,sb,tn.SelectorType.CONFIG),default:!1},u1=e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:o}=e;return Object.assign(e,{tls:t??!0,endpoint:dc.normalizeProvider(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:dc.normalizeProvider(o??!1)})},d1=async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},l1=e=>{let t=dc.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o,tls:s}=e;return Object.assign(e,{tls:s??!0,endpoint:r?dc.normalizeProvider(typeof r=="string"?o(r):r):()=>d1({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},ib="AWS_REGION",ab="region",f1={environmentVariableSelector:e=>e[ib],configFileSelector:e=>e[ab],default:()=>{throw new Error("Region is missing")}},p1={preferredFile:"credentials"},eb=new Set,m1=(e,t=o1.isValidHostLabel)=>{if(!eb.has(e)&&!t(e))if(e==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);else eb.add(e)},cb=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),h1=e=>cb(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,g1=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let n=typeof t=="function"?await t():t,o=h1(n);return m1(o),o},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return cb(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},tb=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,y1=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),S1=(e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws",E1=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},w1=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{let i=S1(e,{partitionHash:s}),a=e in o?e:s[i]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},u=tb(o[a]?.variants,c),m=tb(s[i]?.variants,c),l=y1(a,{regionHostname:u,partitionHostname:m});if(l===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let g=E1(l,{signingRegion:o[a]?.signingRegion,regionRegex:s[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:l,...g&&{signingRegion:g},...o[a]?.signingService&&{signingService:o[a].signingService}}};De.CONFIG_USE_DUALSTACK_ENDPOINT=nb;De.CONFIG_USE_FIPS_ENDPOINT=sb;De.DEFAULT_USE_DUALSTACK_ENDPOINT=s1;De.DEFAULT_USE_FIPS_ENDPOINT=a1;De.ENV_USE_DUALSTACK_ENDPOINT=rb;De.ENV_USE_FIPS_ENDPOINT=ob;De.NODE_REGION_CONFIG_FILE_OPTIONS=p1;De.NODE_REGION_CONFIG_OPTIONS=f1;De.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=i1;De.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=c1;De.REGION_ENV_NAME=ib;De.REGION_INI_NAME=ab;De.getRegionInfo=w1;De.resolveCustomEndpointsConfig=u1;De.resolveEndpointsConfig=l1;De.resolveRegionConfig=g1});var No=P(lc=>{"use strict";var _1=ce(),ub="content-length";function db(e){return t=>async r=>{let n=r.request;if(_1.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(ub)===-1)try{let i=e(o);n.headers={...n.headers,[ub]:String(i)}}catch{}}return t({...r,request:n})}}var lb={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},b1=e=>({applyToStack:t=>{t.add(db(e.bodyLengthChecker),lb)}});lc.contentLengthMiddleware=db;lc.contentLengthMiddlewareOptions=lb;lc.getContentLengthPlugin=b1});var Np=P(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.getHomeDir=void 0;var T1=require("os"),A1=require("path"),Op={},x1=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",R1=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${A1.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=x1();return Op[o]||(Op[o]=(0,T1.homedir)()),Op[o]};fc.getHomeDir=R1});var Dp=P(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.getSSOTokenFilepath=void 0;var C1=require("crypto"),v1=require("path"),I1=Np(),P1=e=>{let r=(0,C1.createHash)("sha1").update(e).digest("hex");return(0,v1.join)((0,I1.getHomeDir)(),".aws","sso","cache",`${r}.json`)};pc.getSSOTokenFilepath=P1});var fb=P(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.getSSOTokenFromFile=rn.tokenIntercept=void 0;var O1=require("fs/promises"),N1=Dp();rn.tokenIntercept={};var D1=async e=>{if(rn.tokenIntercept[e])return rn.tokenIntercept[e];let t=(0,N1.getSSOTokenFilepath)(e),r=await(0,O1.readFile)(t,"utf8");return JSON.parse(r)};rn.getSSOTokenFromFile=D1});var pb=P(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.readFile=ut.fileIntercept=ut.filePromises=void 0;var k1=require("node:fs/promises");ut.filePromises={};ut.fileIntercept={};var $1=(e,t)=>ut.fileIntercept[e]!==void 0?ut.fileIntercept[e]:((!ut.filePromises[e]||t?.ignoreCache)&&(ut.filePromises[e]=(0,k1.readFile)(e,"utf8")),ut.filePromises[e]);ut.readFile=$1});var nr=P(rt=>{"use strict";var ks=Np(),mb=Dp(),kp=fb(),mc=require("path"),hc=Nr(),Do=pb(),gb="AWS_PROFILE",yb="default",M1=e=>e.profile||process.env[gb]||yb,Un=".",F1=e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Un);return r===-1?!1:Object.values(hc.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Un),s=r.substring(0,o)===hc.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),L1="AWS_CONFIG_FILE",Sb=()=>process.env[L1]||mc.join(ks.getHomeDir(),".aws","config"),U1="AWS_SHARED_CREDENTIALS_FILE",q1=()=>process.env[U1]||mc.join(ks.getHomeDir(),".aws","credentials"),H1=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,j1=["__proto__","profile __proto__"],$p=e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),c=H1.exec(a);if(c){let[,u,,m]=c;Object.values(hc.IniSectionType).includes(u)&&(r=[u,m].join(Un))}else r=a;if(j1.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[c,u]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(u==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let m=n?[n,c].join(Un):c;t[r][m]=u}}}}return t},hb=()=>({}),Eb=async(e={})=>{let{filepath:t=q1(),configFilepath:r=Sb()}=e,n=ks.getHomeDir(),o="~/",s=t;t.startsWith(o)&&(s=mc.join(n,t.slice(2)));let i=r;r.startsWith(o)&&(i=mc.join(n,r.slice(2)));let a=await Promise.all([Do.readFile(i,{ignoreCache:e.ignoreCache}).then($p).then(F1).catch(hb),Do.readFile(s,{ignoreCache:e.ignoreCache}).then($p).catch(hb)]);return{configFile:a[0],credentialsFile:a[1]}},B1=e=>Object.entries(e).filter(([t])=>t.startsWith(hc.IniSectionType.SSO_SESSION+Un)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Un)+1)]:n}),{}),z1=()=>({}),V1=async(e={})=>Do.readFile(e.configFilepath??Sb()).then($p).then(B1).catch(z1),W1=(...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},G1=async e=>{let t=await Eb(e);return W1(t.configFile,t.credentialsFile)},K1={getFileRecord(){return Do.fileIntercept},interceptFile(e,t){Do.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return kp.tokenIntercept},interceptToken(e,t){kp.tokenIntercept[e]=t}};Object.defineProperty(rt,"getSSOTokenFromFile",{enumerable:!0,get:function(){return kp.getSSOTokenFromFile}});Object.defineProperty(rt,"readFile",{enumerable:!0,get:function(){return Do.readFile}});rt.CONFIG_PREFIX_SEPARATOR=Un;rt.DEFAULT_PROFILE=yb;rt.ENV_PROFILE=gb;rt.externalDataInterceptor=K1;rt.getProfileName=M1;rt.loadSharedConfigFiles=Eb;rt.loadSsoSessionData=V1;rt.parseKnownFiles=G1;Object.keys(ks).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(rt,e)&&Object.defineProperty(rt,e,{enumerable:!0,get:function(){return ks[e]}})});Object.keys(mb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(rt,e)&&Object.defineProperty(rt,e,{enumerable:!0,get:function(){return mb[e]}})})});var or=P(bb=>{"use strict";var $s=He(),wb=nr();function _b(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}var Y1=(e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new $s.CredentialsProviderError(r.message||`Not found in ENV: ${_b(e.toString())}`,{logger:t?.logger})}},X1=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=wb.getProfileName(r),{configFile:o,credentialsFile:s}=await wb.loadSharedConfigFiles(r),i=s[n]||{},a=o[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let m=e(c,t==="config"?o:s);if(m===void 0)throw new Error;return m}catch(u){throw new $s.CredentialsProviderError(u.message||`Not found in config files w/ profile [${n}]: ${_b(e.toString())}`,{logger:r.logger})}},J1=e=>typeof e=="function",Q1=e=>J1(e)?async()=>await e():$s.fromStatic(e),Z1=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:o,logger:s}=n,i={signingName:o,logger:s};return $s.memoize($s.chain(Y1(e,i),X1(t,n),Q1(r)))};bb.loadConfig=Z1});var Rb=P(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.getEndpointUrlConfig=void 0;var Tb=nr(),Ab="AWS_ENDPOINT_URL",xb="endpoint_url",e$=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[Ab,...r].join("_")];if(n)return n;let o=t[Ab];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(Tb.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(a=>a.toLowerCase()),i=o[[s.join("_"),xb].join(Tb.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[xb];if(n)return n},default:void 0});gc.getEndpointUrlConfig=e$});var Cb=P(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.getEndpointFromConfig=void 0;var t$=or(),r$=Rb(),n$=async e=>(0,t$.loadConfig)((0,r$.getEndpointUrlConfig)(e??""))();yc.getEndpointFromConfig=n$});var Ut=P(Cr=>{"use strict";var Ib=Cb(),vb=Zt(),o$=(Oe(),G(Fr)),Sc=Xe(),s$=Hd(),i$=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),l$(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!d$(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},a$=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,c$=/(\d+\.){3}\d+/,u$=/\.\./,d$=e=>a$.test(e)&&!c$.test(e)&&!u$.test(e),l$=e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},f$=(e,t,r,n=!1)=>{let o=async()=>{let s;return n?s=r.clientContextParams?.[e]??r[e]??r[t]:s=r[e]??r[t],typeof s=="function"?s():s};return e==="credentialScope"||t==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await o();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:i,hostname:a,port:c,path:u}=s;return`${i}//${a}${c?":"+c:""}${u}`}}return s}:o},Mp=e=>typeof e=="object"?"url"in e?vb.parseUrl(e.url):e:vb.parseUrl(e),Pb=async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await Ib.getEndpointFromConfig(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(Mp(i)),r.isCustomEndpoint=!0)}let o=await Ob(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},Ob=async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await f$(i.name,s,r,i.type!=="builtInParams")();break;case"operationContextParams":n[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await i$(n),n},Nb=({config:e,instructions:t})=>(r,n)=>async o=>{e.isCustomEndpoint&&o$.setFeature(n,"ENDPOINT_OVERRIDE","N");let s=await Pb(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let c=Sc.getSmithyContext(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...o})},Db={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:s$.serializerMiddlewareOption.name},p$=(e,t)=>({applyToStack:r=>{r.addRelativeTo(Nb({config:e,instructions:t}),Db)}}),m$=e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,s=r!=null?async()=>Mp(await Sc.normalizeProvider(r)()):void 0,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:Sc.normalizeProvider(n??!1),useFipsEndpoint:Sc.normalizeProvider(o??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=Ib.getEndpointFromConfig(e.serviceId)),c),a},h$=e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};Cr.endpointMiddleware=Nb;Cr.endpointMiddlewareOptions=Db;Cr.getEndpointFromInstructions=Pb;Cr.getEndpointPlugin=p$;Cr.resolveEndpointConfig=m$;Cr.resolveEndpointRequiredConfig=h$;Cr.resolveParams=Ob;Cr.toEndpointV1=Mp});var Lp=P(nn=>{"use strict";var g$=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],y$=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],S$=["TimeoutError","RequestTimeout","RequestTimeoutException"],E$=[500,502,503,504],w$=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],_$=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],kb=e=>e?.$retryable!==void 0,b$=e=>g$.includes(e.name),$b=e=>e.$metadata?.clockSkewCorrected,Mb=e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},T$=e=>e.$metadata?.httpStatusCode===429||y$.includes(e.name)||e.$retryable?.throttling==!0,Fp=(e,t=0)=>kb(e)||$b(e)||S$.includes(e.name)||w$.includes(e?.code||"")||_$.includes(e?.code||"")||E$.includes(e.$metadata?.httpStatusCode||0)||Mb(e)||e.cause!==void 0&&t<=10&&Fp(e.cause,t+1),A$=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!Fp(e)}return!1};nn.isBrowserNetworkError=Mb;nn.isClockSkewCorrectedError=$b;nn.isClockSkewError=b$;nn.isRetryableByTrait=kb;nn.isServerError=A$;nn.isThrottlingError=T$;nn.isTransientError=Fp});var qn=P(we=>{"use strict";var x$=Lp();we.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(we.RETRY_MODES||(we.RETRY_MODES={}));var Up=3,R$=we.RETRY_MODES.STANDARD,Ec=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),x$.isThrottlingError(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},Ms=100,Bp=20*1e3,Lb=500,qp=500,Ub=5,qb=10,Hb=1,C$="amz-sdk-invocation-id",v$="amz-sdk-request",I$=()=>{let e=Ms;return{computeNextBackoffDelay:n=>Math.floor(Math.min(Bp,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},Fb=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(Bp,e),getRetryCost:()=>r}),Fs=class{maxAttempts;mode=we.RETRY_MODES.STANDARD;capacity=qp;retryBackoffStrategy=I$();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return Fb({retryDelay:Ms,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?Lb:Ms);let s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(o);return this.capacity-=a,Fb({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(qp,this.capacity+(t.getRetryCost()??Hb))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Up}`),Up}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?qb:Ub}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}},Hp=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=we.RETRY_MODES.ADAPTIVE;constructor(t,r){this.maxAttemptsProvider=t;let{rateLimiter:n}=r??{};this.rateLimiter=n??new Ec,this.standardRetryStrategy=new Fs(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}},jp=class extends Fs{computeNextBackoffDelay;constructor(t,r=Ms){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};we.AdaptiveRetryStrategy=Hp;we.ConfiguredRetryStrategy=jp;we.DEFAULT_MAX_ATTEMPTS=Up;we.DEFAULT_RETRY_DELAY_BASE=Ms;we.DEFAULT_RETRY_MODE=R$;we.DefaultRateLimiter=Ec;we.INITIAL_RETRY_TOKENS=qp;we.INVOCATION_ID_HEADER=C$;we.MAXIMUM_RETRY_DELAY=Bp;we.NO_RETRY_INCREMENT=Hb;we.REQUEST_HEADER=v$;we.RETRY_COST=Ub;we.StandardRetryStrategy=Fs;we.THROTTLING_RETRY_DELAY_BASE=Lb;we.TIMEOUT_RETRY_COST=qb});var jb=P(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.isStreamingPayload=void 0;var P$=require("stream"),O$=e=>e?.body instanceof P$.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;wc.isStreamingPayload=O$});var qt=P(Re=>{"use strict";var Ee=qn(),ko=ce(),on=Lp(),zb=jl(),Bb=Xe(),N$=B(),D$=jb(),k$=(e,t)=>{let r=e,n=Ee.NO_RETRY_INCREMENT,o=Ee.RETRY_COST,s=Ee.TIMEOUT_RETRY_COST,i=e,a=l=>l.name==="TimeoutError"?s:o,c=l=>a(l)<=i;return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:l=>{if(!c(l))throw new Error("No retry token available");let g=a(l);return i-=g,g},releaseRetryTokens:l=>{i+=l??n,i=Math.min(i,r)}})},Vb=(e,t)=>Math.floor(Math.min(Ee.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),Wb=e=>e?on.isRetryableByTrait(e)||on.isClockSkewError(e)||on.isThrottlingError(e)||on.isTransientError(e):!1,Gb=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),_c=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=Ee.RETRY_MODES.STANDARD;constructor(t,r){this.maxAttemptsProvider=t,this.retryDecider=r?.retryDecider??Wb,this.delayDecider=r?.delayDecider??Vb,this.retryQuota=r?.retryQuota??k$(Ee.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=Ee.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let o,s=0,i=0,a=await this.getMaxAttempts(),{request:c}=r;for(ko.HttpRequest.isInstance(c)&&(c.headers[Ee.INVOCATION_ID_HEADER]=zb.v4());;)try{ko.HttpRequest.isInstance(c)&&(c.headers[Ee.REQUEST_HEADER]=`attempt=${s+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:u,output:m}=await t(r);return n?.afterRequest&&n.afterRequest(u),this.retryQuota.releaseRetryTokens(o),m.$metadata.attempts=s+1,m.$metadata.totalRetryDelay=i,{response:u,output:m}}catch(u){let m=Gb(u);if(s++,this.shouldRetry(m,s,a)){o=this.retryQuota.retrieveRetryTokens(m);let l=this.delayDecider(on.isThrottlingError(m)?Ee.THROTTLING_RETRY_DELAY_BASE:Ee.DEFAULT_RETRY_DELAY_BASE,s),g=$$(m.$response),h=Math.max(g||0,l);i+=h,await new Promise(y=>setTimeout(y,h));continue}throw m.$metadata||(m.$metadata={}),m.$metadata.attempts=s,m.$metadata.totalRetryDelay=i,m}}},$$=e=>{if(!ko.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},zp=class extends _c{rateLimiter;constructor(t,r){let{rateLimiter:n,...o}=r??{};super(t,o),this.rateLimiter=n??new Ee.DefaultRateLimiter,this.mode=Ee.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},Vp="AWS_MAX_ATTEMPTS",Wp="max_attempts",M$={environmentVariableSelector:e=>{let t=e[Vp];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Vp} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Wp];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Wp} mast be a number, got "${t}"`);return r},default:Ee.DEFAULT_MAX_ATTEMPTS},F$=e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,o=Bb.normalizeProvider(n??Ee.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await Bb.normalizeProvider(r)()===Ee.RETRY_MODES.ADAPTIVE?new Ee.AdaptiveRetryStrategy(o):new Ee.StandardRetryStrategy(o))})},Kb="AWS_RETRY_MODE",Yb="retry_mode",L$={environmentVariableSelector:e=>e[Kb],configFileSelector:e=>e[Yb],default:Ee.DEFAULT_RETRY_MODE},Xb=()=>e=>async t=>{let{request:r}=t;return ko.HttpRequest.isInstance(r)&&(delete r.headers[Ee.INVOCATION_ID_HEADER],delete r.headers[Ee.REQUEST_HEADER]),e(t)},Jb={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},U$=e=>({applyToStack:t=>{t.addRelativeTo(Xb(),Jb)}}),Qb=e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(q$(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,u=0,{request:m}=n,l=ko.HttpRequest.isInstance(m);for(l&&(m.headers[Ee.INVOCATION_ID_HEADER]=zb.v4());;)try{l&&(m.headers[Ee.REQUEST_HEADER]=`attempt=${c+1}; max=${s}`);let{response:g,output:h}=await t(n);return o.recordSuccess(i),h.$metadata.attempts=c+1,h.$metadata.totalRetryDelay=u,{response:g,output:h}}catch(g){let h=H$(g);if(a=Gb(g),l&&D$.isStreamingPayload(m))throw(r.logger instanceof N$.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await o.refreshRetryTokenForRetry(i,h)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=u,a}c=i.getRetryCount();let y=i.getRetryDelay();u+=y,await new Promise(A=>setTimeout(A,y))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},q$=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",H$=e=>{let t={error:e,errorType:j$(e)},r=eT(e.$response);return r&&(t.retryAfterHint=r),t},j$=e=>on.isThrottlingError(e)?"THROTTLING":on.isTransientError(e)?"TRANSIENT":on.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",Zb={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},B$=e=>({applyToStack:t=>{t.add(Qb(e),Zb)}}),eT=e=>{if(!ko.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};Re.AdaptiveRetryStrategy=zp;Re.CONFIG_MAX_ATTEMPTS=Wp;Re.CONFIG_RETRY_MODE=Yb;Re.ENV_MAX_ATTEMPTS=Vp;Re.ENV_RETRY_MODE=Kb;Re.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=M$;Re.NODE_RETRY_MODE_CONFIG_OPTIONS=L$;Re.StandardRetryStrategy=_c;Re.defaultDelayDecider=Vb;Re.defaultRetryDecider=Wb;Re.getOmitRetryHeadersPlugin=U$;Re.getRetryAfterHint=eT;Re.getRetryPlugin=B$;Re.omitRetryHeadersMiddleware=Xb;Re.omitRetryHeadersMiddlewareOptions=Jb;Re.resolveRetryConfig=F$;Re.retryMiddleware=Qb;Re.retryMiddlewareOptions=Zb});var Kp=P(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.resolveHttpAuthSchemeConfig=Ht.resolveStsAuthConfig=Ht.defaultSTSHttpAuthSchemeProvider=Ht.defaultSTSHttpAuthSchemeParametersProvider=void 0;var z$=(Ne(),G(en)),Gp=Xe(),V$=Yp(),W$=async(e,t,r)=>({operation:(0,Gp.getSmithyContext)(t).operation,region:await(0,Gp.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Ht.defaultSTSHttpAuthSchemeParametersProvider=W$;function G$(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function tT(e){return{schemeId:"smithy.api#noAuth"}}var K$=e=>{let t=[];switch(e.operation){case"AssumeRoleWithSAML":{t.push(tT(e));break}case"AssumeRoleWithWebIdentity":{t.push(tT(e));break}default:t.push(G$(e))}return t};Ht.defaultSTSHttpAuthSchemeProvider=K$;var Y$=e=>Object.assign(e,{stsClientCtor:V$.STSClient});Ht.resolveStsAuthConfig=Y$;var X$=e=>{let t=(0,Ht.resolveStsAuthConfig)(e),r=(0,z$.resolveAwsSdkSigV4Config)(t);return Object.assign(r,{authSchemePreference:(0,Gp.normalizeProvider)(e.authSchemePreference??[])})};Ht.resolveHttpAuthSchemeConfig=X$});var Xp=P($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.commonParams=$o.resolveClientEndpointParameters=void 0;var J$=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});$o.resolveClientEndpointParameters=J$;$o.commonParams={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var rT=P((AK,Q$)=>{Q$.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.992.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-sts","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"premove ./dist-types tsconfig.types.tsbuildinfo && tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn g:vitest run","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts --mode development","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs","test:watch":"yarn g:vitest watch"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.10","@aws-sdk/credential-provider-node":"^3.972.9","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.10","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.992.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.8","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.23.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.14","@smithy/middleware-retry":"^4.4.31","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.10","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.3","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.30","@smithy/util-defaults-mode-node":"^4.2.33","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var Jp=P(sn=>{"use strict";var Z$=(ct(),G(er)),eM=He(),nT="AWS_ACCESS_KEY_ID",oT="AWS_SECRET_ACCESS_KEY",sT="AWS_SESSION_TOKEN",iT="AWS_CREDENTIAL_EXPIRATION",aT="AWS_CREDENTIAL_SCOPE",cT="AWS_ACCOUNT_ID",tM=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[nT],r=process.env[oT],n=process.env[sT],o=process.env[iT],s=process.env[aT],i=process.env[cT];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...o&&{expiration:new Date(o)},...s&&{credentialScope:s},...i&&{accountId:i}};return Z$.setCredentialFeature(a,"CREDENTIALS_ENV_VARS","g"),a}throw new eM.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})};sn.ENV_ACCOUNT_ID=cT;sn.ENV_CREDENTIAL_SCOPE=aT;sn.ENV_EXPIRATION=iT;sn.ENV_KEY=nT;sn.ENV_SECRET=oT;sn.ENV_SESSION=sT;sn.fromEnv=tM});var Us=P(Be=>{"use strict";var sr=He(),rM=require("url"),nM=require("buffer"),oM=require("http"),rm=or(),sM=Zt();function Ls(e){return new Promise((t,r)=>{let n=oM.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new sr.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new sr.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new sr.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let i=[];o.on("data",a=>{i.push(a)}),o.on("end",()=>{t(nM.Buffer.concat(i)),n.destroy()})}),n.end()})}var fT=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",pT=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),mT=1e3,hT=0,nm=({maxRetries:e=hT,timeout:t=mT})=>({maxRetries:e,timeout:t}),Zp=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},bc="AWS_CONTAINER_CREDENTIALS_FULL_URI",Tc="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",em="AWS_CONTAINER_AUTHORIZATION_TOKEN",iM=(e={})=>{let{timeout:t,maxRetries:r}=nm(e);return()=>Zp(async()=>{let n=await lM({logger:e.logger}),o=JSON.parse(await aM(t,n));if(!fT(o))throw new sr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return pT(o)},r)},aM=async(e,t)=>(process.env[em]&&(t.headers={...t.headers,Authorization:process.env[em]}),(await Ls({...t,timeout:e})).toString()),cM="169.254.170.2",uM={localhost:!0,"127.0.0.1":!0},dM={"http:":!0,"https:":!0},lM=async({logger:e})=>{if(process.env[Tc])return{hostname:cM,path:process.env[Tc]};if(process.env[bc]){let t=rM.parse(process.env[bc]);if(!t.hostname||!(t.hostname in uM))throw new sr.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in dM))throw new sr.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new sr.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Tc} or ${bc} environment variable is set`,{tryNextLink:!1,logger:e})},tm=class e extends sr.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(t,r=!0){super(t,r),this.tryNextLink=r,Object.setPrototypeOf(this,e.prototype)}};Be.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(Be.Endpoint||(Be.Endpoint={}));var fM="AWS_EC2_METADATA_SERVICE_ENDPOINT",pM="ec2_metadata_service_endpoint",mM={environmentVariableSelector:e=>e[fM],configFileSelector:e=>e[pM],default:void 0},Mo;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(Mo||(Mo={}));var hM="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",gM="ec2_metadata_service_endpoint_mode",yM={environmentVariableSelector:e=>e[hM],configFileSelector:e=>e[gM],default:Mo.IPv4},gT=async()=>sM.parseUrl(await SM()||await EM()),SM=async()=>rm.loadConfig(mM)(),EM=async()=>{let e=await rm.loadConfig(yM)();switch(e){case Mo.IPv4:return Be.Endpoint.IPv4;case Mo.IPv6:return Be.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Mo)}`)}},wM=300,_M=300,bM="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",uT=(e,t)=>{let r=wM+Math.floor(Math.random()*_M),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+bM);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},TM=(e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=uT(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=uT(n,r);else throw s}return n=o,o}},yT="/latest/meta-data/iam/security-credentials/",AM="/latest/api/token",Qp="AWS_EC2_METADATA_V1_DISABLED",dT="ec2_metadata_v1_disabled",lT="x-aws-ec2-metadata-token",xM=(e={})=>TM(RM(e),{logger:e.logger}),RM=(e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=nm(e),i=async(a,c)=>{if(t||c.headers?.[lT]==null){let l=!1,g=!1,h=await rm.loadConfig({environmentVariableSelector:y=>{let A=y[Qp];if(g=!!A&&A!=="false",A===void 0)throw new sr.CredentialsProviderError(`${Qp} not set in env, checking config file next.`,{logger:e.logger});return g},configFileSelector:y=>{let A=y[dT];return l=!!A&&A!=="false",l},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||h){let y=[];throw e.ec2MetadataV1Disabled&&y.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),l&&y.push(`config file profile (${dT})`),g&&y.push(`process environment variable (${Qp})`),new tm(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${y.join(", ")}].`)}}let m=(await Zp(async()=>{let l;try{l=await vM(c)}catch(g){throw g.statusCode===401&&(t=!1),g}return l},a)).trim();return Zp(async()=>{let l;try{l=await IM(m,c,e)}catch(g){throw g.statusCode===401&&(t=!1),g}return l},a)};return async()=>{let a=await gT();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:o});{let c;try{c=(await CM({...a,timeout:o})).toString()}catch(u){if(u?.statusCode===400)throw Object.assign(u,{message:"EC2 Metadata token request returned error"});return(u.message==="TimeoutError"||[403,404,405].includes(u.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:o})}return i(s,{...a,headers:{[lT]:c},timeout:o})}}},CM=async e=>Ls({...e,path:AM,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),vM=async e=>(await Ls({...e,path:yT})).toString(),IM=async(e,t,r)=>{let n=JSON.parse((await Ls({...t,path:yT+e})).toString());if(!fT(n))throw new sr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return pT(n)};Be.DEFAULT_MAX_RETRIES=hT;Be.DEFAULT_TIMEOUT=mT;Be.ENV_CMDS_AUTH_TOKEN=em;Be.ENV_CMDS_FULL_URI=bc;Be.ENV_CMDS_RELATIVE_URI=Tc;Be.fromContainerMetadata=iM;Be.fromInstanceMetadata=xM;Be.getInstanceMetadataEndpoint=gT;Be.httpRequest=Ls;Be.providerConfigFromInit=nm});var ST=P(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.checkUrl=void 0;var PM=He(),OM="169.254.170.2",NM="169.254.170.23",DM="[fd00:ec2::23]",kM=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===OM||e.hostname===NM||e.hostname===DM)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=o=>{let s=parseInt(o,10);return 0<=s&&s<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new PM.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};Ac.checkUrl=kM});var ET=P(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.createGetRequest=LM;xc.getCredentials=UM;var om=He(),$M=ce(),MM=B(),FM=oa();function LM(e){return new $M.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function UM(e,t){let n=await(0,FM.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new om.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,MM.parseRfc3339DateTime)(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new om.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:o.Code,Message:o.Message})}throw new om.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var wT=P(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.retryWrapper=void 0;var qM=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(s=>setTimeout(s,r))}return await e()};Rc.retryWrapper=qM});var TT=P(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.fromHttp=void 0;var HM=(bs(),G(_s)),jM=(ct(),G(er)),BM=$r(),_T=He(),zM=HM.__importDefault(require("fs/promises")),VM=ST(),bT=ET(),WM=wT(),GM="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",KM="http://169.254.170.2",YM="AWS_CONTAINER_CREDENTIALS_FULL_URI",XM="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",JM="AWS_CONTAINER_AUTHORIZATION_TOKEN",QM=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[GM],n=e.awsContainerCredentialsFullUri??process.env[YM],o=e.awsContainerAuthorizationToken??process.env[JM],s=e.awsContainerAuthorizationTokenFile??process.env[XM],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),o&&s&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${KM}${r}`;else throw new _T.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,VM.checkUrl)(a,e.logger);let c=BM.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,WM.retryWrapper)(async()=>{let u=(0,bT.createGetRequest)(a);o?u.headers.Authorization=o:s&&(u.headers.Authorization=(await zM.default.readFile(s)).toString());try{let m=await c.handle(u);return(0,bT.getCredentials)(m.response).then(l=>(0,jM.setCredentialFeature)(l,"CREDENTIALS_HTTP","z"))}catch(m){throw new _T.CredentialsProviderError(String(m),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Cc.fromHttp=QM});var sm=P(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.fromHttp=void 0;var ZM=TT();Object.defineProperty(vc,"fromHttp",{enumerable:!0,get:function(){return ZM.fromHttp}})});function eF(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function tF(e){return{schemeId:"smithy.api#noAuth"}}var qs,AT,xT,RT,im=E(()=>{Ne();qs=_(Xe()),AT=async(e,t,r)=>({operation:(0,qs.getSmithyContext)(t).operation,region:await(0,qs.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});xT=e=>{let t=[];return e.operation==="CreateToken"?t.push(tF(e)):t.push(eF(e)),t},RT=e=>{let t=_r(e);return Object.assign(t,{authSchemePreference:(0,qs.normalizeProvider)(e.authSchemePreference??[])})}});var CT,vT,am=E(()=>{CT=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),vT={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Fo,Ic=E(()=>{Fo={name:"@aws-sdk/nested-clients",version:"3.990.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=20.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.10","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.10","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.990.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.8","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.23.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.14","@smithy/middleware-retry":"^4.4.31","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.10","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.3","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.30","@smithy/util-defaults-mode-node":"^4.2.33","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./signin.d.ts","./signin.js","./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/signin/runtimeConfig":"./dist-es/submodules/signin/runtimeConfig.browser","./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./package.json":"./package.json","./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"},"./signin":{types:"./dist-types/submodules/signin/index.d.ts",module:"./dist-es/submodules/signin/index.js",node:"./dist-cjs/submodules/signin/index.js",import:"./dist-es/submodules/signin/index.js",require:"./dist-cjs/submodules/signin/index.js"}}}});var Lo=P(Hn=>{"use strict";var IT=require("os"),cm=require("process"),nF=Ln(),PT={isCrtAvailable:!1},oF=()=>PT.isCrtAvailable?["md/crt-avail"]:null,OT=({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${IT.platform()}`,IT.release()],["lang/js"],["md/nodejs",`${cm.versions.node}`]],o=oF();o&&n.push(o),e&&n.push([`api/${e}`,t]),cm.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${cm.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},sF=OT,NT="AWS_SDK_UA_APP_ID",DT="sdk_ua_app_id",iF="sdk-ua-app-id",aF={environmentVariableSelector:e=>e[NT],configFileSelector:e=>e[DT]??e[iF],default:nF.DEFAULT_UA_APP_ID};Hn.NODE_APP_ID_CONFIG_OPTIONS=aF;Hn.UA_APP_ID_ENV_NAME=NT;Hn.UA_APP_ID_INI_NAME=DT;Hn.createDefaultUserAgentProvider=OT;Hn.crtAvailability=PT;Hn.defaultUserAgent=sF});var Uo=P(MT=>{"use strict";var um=so(),cF=Ce(),uF=require("buffer"),kT=require("crypto"),dm=class{algorithmIdentifier;secret;hash;constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(cF.toUint8Array($T(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?kT.createHmac(this.algorithmIdentifier,$T(this.secret)):kT.createHash(this.algorithmIdentifier)}};function $T(e,t){return uF.Buffer.isBuffer(e)?e:typeof e=="string"?um.fromString(e,t):ArrayBuffer.isView(e)?um.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):um.fromArrayBuffer(e)}MT.Hash=dm});var qo=P(FT=>{"use strict";var lm=require("node:fs"),dF=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof lm.ReadStream){if(e.path!=null)return lm.lstatSync(e.path).size;if(typeof e.fd=="number")return lm.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};FT.calculateBodyLength=dF});var Ho=P(HT=>{"use strict";var lF=ot(),LT=or(),fF=He(),pF="AWS_EXECUTION_ENV",UT="AWS_REGION",qT="AWS_DEFAULT_REGION",mF="AWS_EC2_METADATA_DISABLED",hF=["in-region","cross-region","mobile","standard","legacy"],gF="/latest/meta-data/placement/region",yF="AWS_DEFAULTS_MODE",SF="defaults_mode",EF={environmentVariableSelector:e=>e[yF],configFileSelector:e=>e[SF],default:"legacy"},wF=({region:e=LT.loadConfig(lF.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=LT.loadConfig(EF)}={})=>fF.memoize(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return _F(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${hF.join(", ")}, got ${r}`)}}),_F=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await bF();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},bF=async()=>{if(process.env[pF]&&(process.env[UT]||process.env[qT]))return process.env[UT]??process.env[qT];if(!process.env[mF])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>_(Us())),r=await e();return(await t({...r,path:gF})).toString()}catch{}};HT.resolveDefaultsModeConfig=wF});var JT,bt,jT,Hs,jo,Bo,vr,fm,pm,BT,zT,VT,QT,ZT,_t,WT,eA,GT,KT,YT,XT,TF,tA,rA=E(()=>{JT="required",bt="argv",jT="isSet",Hs="booleanEquals",jo="error",Bo="endpoint",vr="tree",fm="PartitionResult",pm="getAttr",BT={[JT]:!1,type:"string"},zT={[JT]:!0,default:!1,type:"boolean"},VT={ref:"Endpoint"},QT={fn:Hs,[bt]:[{ref:"UseFIPS"},!0]},ZT={fn:Hs,[bt]:[{ref:"UseDualStack"},!0]},_t={},WT={fn:pm,[bt]:[{ref:fm},"supportsFIPS"]},eA={ref:fm},GT={fn:Hs,[bt]:[!0,{fn:pm,[bt]:[eA,"supportsDualStack"]}]},KT=[QT],YT=[ZT],XT=[{ref:"Region"}],TF={version:"1.0",parameters:{Region:BT,UseDualStack:zT,UseFIPS:zT,Endpoint:BT},rules:[{conditions:[{fn:jT,[bt]:[VT]}],rules:[{conditions:KT,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:jo},{conditions:YT,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:jo},{endpoint:{url:VT,properties:_t,headers:_t},type:Bo}],type:vr},{conditions:[{fn:jT,[bt]:XT}],rules:[{conditions:[{fn:"aws.partition",[bt]:XT,assign:fm}],rules:[{conditions:[QT,ZT],rules:[{conditions:[{fn:Hs,[bt]:[!0,WT]},GT],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:_t,headers:_t},type:Bo}],type:vr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:jo}],type:vr},{conditions:KT,rules:[{conditions:[{fn:Hs,[bt]:[WT,!0]}],rules:[{conditions:[{fn:"stringEquals",[bt]:[{fn:pm,[bt]:[eA,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:_t,headers:_t},type:Bo},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:_t,headers:_t},type:Bo}],type:vr},{error:"FIPS is enabled but this partition does not support FIPS",type:jo}],type:vr},{conditions:YT,rules:[{conditions:[GT],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:_t,headers:_t},type:Bo}],type:vr},{error:"DualStack is enabled but this partition does not support DualStack",type:jo}],type:vr},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:_t,headers:_t},type:Bo}],type:vr}],type:vr},{error:"Invalid Configuration: Missing Region",type:jo}]},tA=TF});var nA,zo,AF,oA,sA=E(()=>{nA=_(yo()),zo=_(wr());rA();AF=new zo.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),oA=(e,t={})=>AF.get(e,()=>(0,zo.resolveEndpoint)(tA,{endpointParams:e,logger:t.logger}));zo.customEndpointFunctions.aws=nA.awsEndpointFunctions});var iA,Pe,Pc=E(()=>{iA=_(B()),Pe=class e extends iA.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var js,Bs,zs,Vs,Ws,Gs,Ks,Ys,Xs,Js,Qs,mm=E(()=>{Pc();js=class e extends Pe{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},Bs=class e extends Pe{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},zs=class e extends Pe{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Vs=class e extends Pe{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ws=class e extends Pe{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Gs=class e extends Pe{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ks=class e extends Pe{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},Ys=class e extends Pe{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Xs=class e extends Pe{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Js=class e extends Pe{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Qs=class e extends Pe{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var xF,RF,CF,vF,IF,PF,OF,NF,DF,kF,$F,MF,FF,LF,UF,qF,HF,jF,BF,zF,ir,VF,WF,GF,KF,YF,_e,XF,jt,JF,QF,Bt,ZF,aA,cA,eL,uA,tL,rL,nL,xe,dA,lA,Tt,fA,pA,mA,hA,gA,yA,SA,EA,wA,_A,bA,hm,oL,sL,iL,aL,TA,AA,xA,gm,Oc=E(()=>{ee();mm();Pc();xF="AccessDeniedException",RF="AuthorizationPendingException",CF="AccessToken",vF="ClientSecret",IF="CreateToken",PF="CreateTokenRequest",OF="CreateTokenResponse",NF="CodeVerifier",DF="ExpiredTokenException",kF="InvalidClientException",$F="InvalidGrantException",MF="InvalidRequestException",FF="InternalServerException",LF="InvalidScopeException",UF="IdToken",qF="RefreshToken",HF="SlowDownException",jF="UnauthorizedClientException",BF="UnsupportedGrantTypeException",zF="accessToken",ir="client",VF="clientId",WF="clientSecret",GF="codeVerifier",KF="code",YF="deviceCode",_e="error",XF="expiresIn",jt="error_description",JF="grantType",QF="http",Bt="httpError",ZF="idToken",aA="reason",cA="refreshToken",eL="redirectUri",uA="smithy.ts.sdk.synthetic.com.amazonaws.ssooidc",tL="scope",rL="server",nL="tokenType",xe="com.amazonaws.ssooidc",dA=se.for(uA),lA=[-3,uA,"SSOOIDCServiceException",0,[],[]];dA.registerError(lA,Pe);Tt=se.for(xe),fA=[-3,xe,xF,{[_e]:ir,[Bt]:400},[_e,aA,jt],[0,0,0]];Tt.registerError(fA,js);pA=[-3,xe,RF,{[_e]:ir,[Bt]:400},[_e,jt],[0,0]];Tt.registerError(pA,Bs);mA=[-3,xe,DF,{[_e]:ir,[Bt]:400},[_e,jt],[0,0]];Tt.registerError(mA,zs);hA=[-3,xe,FF,{[_e]:rL,[Bt]:500},[_e,jt],[0,0]];Tt.registerError(hA,Vs);gA=[-3,xe,kF,{[_e]:ir,[Bt]:401},[_e,jt],[0,0]];Tt.registerError(gA,Ws);yA=[-3,xe,$F,{[_e]:ir,[Bt]:400},[_e,jt],[0,0]];Tt.registerError(yA,Gs);SA=[-3,xe,MF,{[_e]:ir,[Bt]:400},[_e,aA,jt],[0,0,0]];Tt.registerError(SA,Ks);EA=[-3,xe,LF,{[_e]:ir,[Bt]:400},[_e,jt],[0,0]];Tt.registerError(EA,Ys);wA=[-3,xe,HF,{[_e]:ir,[Bt]:400},[_e,jt],[0,0]];Tt.registerError(wA,Xs);_A=[-3,xe,jF,{[_e]:ir,[Bt]:400},[_e,jt],[0,0]];Tt.registerError(_A,Js);bA=[-3,xe,BF,{[_e]:ir,[Bt]:400},[_e,jt],[0,0]];Tt.registerError(bA,Qs);hm=[dA,Tt],oL=[0,xe,CF,8,0],sL=[0,xe,vF,8,0],iL=[0,xe,NF,8,0],aL=[0,xe,UF,8,0],TA=[0,xe,qF,8,0],AA=[3,xe,PF,0,[VF,WF,JF,YF,KF,cA,tL,eL,GF],[0,[()=>sL,0],0,0,0,[()=>TA,0],64,0,[()=>iL,0]],3],xA=[3,xe,OF,0,[zF,nL,XF,cA,ZF],[[()=>oL,0],0,1,[()=>TA,0],[()=>aL,0]]],gm=[9,xe,IF,{[QF]:["POST","/token",200]},()=>AA,()=>xA]});var RA,CA,Nc,Dc,vA,IA=E(()=>{Ne();Fn();Oe();RA=_(B()),CA=_(Zt()),Nc=_(ve()),Dc=_(Ce());im();sA();Oc();vA=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Nc.fromBase64,base64Encoder:e?.base64Encoder??Nc.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??oA,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??xT,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new qe},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ft}],logger:e?.logger??new RA.NoOpLogger,protocol:e?.protocol??Jr,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.ssooidc",errorTypeRegistries:hm,version:"2019-06-10",serviceTarget:"AWSSSOOIDCService"},serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??CA.parseUrl,utf8Decoder:e?.utf8Decoder??Dc.fromUtf8,utf8Encoder:e?.utf8Encoder??Dc.toUtf8})});var kc,cn,PA,$c,an,Mc,Fc,OA,NA,DA,kA,$A=E(()=>{Ic();Ne();kc=_(Lo()),cn=_(ot()),PA=_(Uo()),$c=_(qt()),an=_(or()),Mc=_($r()),Fc=_(B()),OA=_(qo()),NA=_(Ho()),DA=_(qn());IA();kA=e=>{(0,Fc.emitWarningIfUnsupportedVersion)(process.version);let t=(0,NA.resolveDefaultsModeConfig)(e),r=()=>t().then(Fc.loadConfigsForDefaultMode),n=vA(e);Ur(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,an.loadConfig)(Hr,o),bodyLengthChecker:e?.bodyLengthChecker??OA.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,kc.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Fo.version}),maxAttempts:e?.maxAttempts??(0,an.loadConfig)($c.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,an.loadConfig)(cn.NODE_REGION_CONFIG_OPTIONS,{...cn.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Mc.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,an.loadConfig)({...$c.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||DA.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??PA.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Mc.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,an.loadConfig)(cn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,an.loadConfig)(cn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,an.loadConfig)(kc.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var FA=P(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.warning=void 0;Vo.stsRegionDefaultResolver=uL;var MA=ot(),cL=or();function uL(e={}){return(0,cL.loadConfig)({...MA.NODE_REGION_CONFIG_OPTIONS,async default(){return Vo.warning.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...MA.NODE_REGION_CONFIG_FILE_OPTIONS,...e})}Vo.warning={silence:!1}});var un=P(ar=>{"use strict";var LA=FA(),Zs=ot(),dL=e=>({setRegion(t){e.region=t},region(){return e.region}}),lL=e=>({region:e.region()});Object.defineProperty(ar,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return Zs.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty(ar,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return Zs.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty(ar,"REGION_ENV_NAME",{enumerable:!0,get:function(){return Zs.REGION_ENV_NAME}});Object.defineProperty(ar,"REGION_INI_NAME",{enumerable:!0,get:function(){return Zs.REGION_INI_NAME}});Object.defineProperty(ar,"resolveRegionConfig",{enumerable:!0,get:function(){return Zs.resolveRegionConfig}});ar.getAwsRegionExtensionConfiguration=dL;ar.resolveAwsRegionExtensionConfiguration=lL;Object.keys(LA).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ar,e)&&Object.defineProperty(ar,e,{enumerable:!0,get:function(){return LA[e]}})})});var UA,qA,HA=E(()=>{UA=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},qA=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Lc,Uc,qc,jA,BA=E(()=>{Lc=_(un()),Uc=_(ce()),qc=_(B());HA();jA=(e,t)=>{let r=Object.assign((0,Lc.getAwsRegionExtensionConfiguration)(e),(0,qc.getDefaultExtensionConfiguration)(e),(0,Uc.getHttpHandlerExtensionConfiguration)(e),UA(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Lc.resolveAwsRegionExtensionConfiguration)(r),(0,qc.resolveDefaultRuntimeConfig)(r),(0,Uc.resolveHttpHandlerRuntimeConfig)(r),qA(r))}});var Hc,zA,VA,jc,WA,GA,KA,Bc,ym,ei,Sm=E(()=>{Hc=_(to()),zA=_(ro()),VA=_(no()),jc=_(Ln()),WA=_(ot());Oe();ee();GA=_(No()),KA=_(Ut()),Bc=_(qt()),ym=_(B());im();am();$A();BA();ei=class extends ym.Client{config;constructor(...[t]){let r=kA(t||{});super(r),this.initConfig=r;let n=CT(r),o=(0,jc.resolveUserAgentConfig)(n),s=(0,Bc.resolveRetryConfig)(o),i=(0,WA.resolveRegionConfig)(s),a=(0,Hc.resolveHostHeaderConfig)(i),c=(0,KA.resolveEndpointConfig)(a),u=RT(c),m=jA(u,t?.extensions||[]);this.config=m,this.middlewareStack.use(Rn(this.config)),this.middlewareStack.use((0,jc.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Bc.getRetryPlugin)(this.config)),this.middlewareStack.use((0,GA.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Hc.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,zA.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,VA.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(An(this.config,{httpAuthSchemeParametersProvider:AT,identityProviderConfigProvider:async l=>new Er({"aws.auth#sigv4":l.credentials})})),this.middlewareStack.use(xn(this.config))}destroy(){super.destroy()}}});var YA,Em,ti,wm=E(()=>{YA=_(Ut()),Em=_(B());am();Oc();ti=class extends Em.Command.classBuilder().ep(vT).m(function(t,r,n,o){return[(0,YA.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").sc(gm).build(){}});var XA,fL,zc,JA=E(()=>{XA=_(B());wm();Sm();fL={CreateTokenCommand:ti},zc=class extends ei{};(0,XA.createAggregatedClient)(fL,zc)});var QA=E(()=>{wm()});var pL,mL,ZA=E(()=>{pL={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},mL={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"}});var ex=E(()=>{});var _m={};Ye(_m,{$Command:()=>Em.Command,AccessDeniedException:()=>js,AccessDeniedException$:()=>fA,AccessDeniedExceptionReason:()=>pL,AuthorizationPendingException:()=>Bs,AuthorizationPendingException$:()=>pA,CreateToken$:()=>gm,CreateTokenCommand:()=>ti,CreateTokenRequest$:()=>AA,CreateTokenResponse$:()=>xA,ExpiredTokenException:()=>zs,ExpiredTokenException$:()=>mA,InternalServerException:()=>Vs,InternalServerException$:()=>hA,InvalidClientException:()=>Ws,InvalidClientException$:()=>gA,InvalidGrantException:()=>Gs,InvalidGrantException$:()=>yA,InvalidRequestException:()=>Ks,InvalidRequestException$:()=>SA,InvalidRequestExceptionReason:()=>mL,InvalidScopeException:()=>Ys,InvalidScopeException$:()=>EA,SSOOIDC:()=>zc,SSOOIDCClient:()=>ei,SSOOIDCServiceException:()=>Pe,SSOOIDCServiceException$:()=>lA,SlowDownException:()=>Xs,SlowDownException$:()=>wA,UnauthorizedClientException:()=>Js,UnauthorizedClientException$:()=>_A,UnsupportedGrantTypeException:()=>Qs,UnsupportedGrantTypeException$:()=>bA,__Client:()=>ym.Client,errorTypeRegistries:()=>hm});var bm=E(()=>{Sm();JA();QA();Oc();ZA();mm();ex();Pc()});var ox=P(ni=>{"use strict";var hL=(ct(),G(er)),gL=(qf(),G(qw)),dt=He(),ri=nr(),yL=require("fs"),SL=({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new dt.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=gL.getBearerTokenEnvKey(t);if(!(r in process.env))throw new dt.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return hL.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},EL=300*1e3,Tm="To refresh this SSO session run 'aws sso login' with the corresponding profile.",wL=async(e,t={},r)=>{let{SSOOIDCClient:n}=await Promise.resolve().then(()=>(bm(),_m)),o=i=>t.clientConfig?.[i]??t.parentClientConfig?.[i]??r?.[i];return new n(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:o("logger"),userAgentAppId:o("userAgentAppId")}))},_L=async(e,t,r={},n)=>{let{CreateTokenCommand:o}=await Promise.resolve().then(()=>(bm(),_m));return(await wL(t,r,n)).send(new o({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},tx=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new dt.TokenProviderError(`Token is expired. ${Tm}`,!1)},jn=(e,t,r=!1)=>{if(typeof t>"u")throw new dt.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${Tm}`,!1)},{writeFile:bL}=yL.promises,TL=(e,t)=>{let r=ri.getSSOTokenFilepath(e),n=JSON.stringify(t,null,2);return bL(r,n)},rx=new Date(0),nx=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/token-providers - fromSso");let r=await ri.parseKnownFiles(e),n=ri.getProfileName({profile:e.profile??t?.profile}),o=r[n];if(o){if(!o.sso_session)throw new dt.TokenProviderError(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new dt.TokenProviderError(`Profile '${n}' could not be found in shared credentials file.`,!1);let s=o.sso_session,a=(await ri.loadSsoSessionData(e))[s];if(!a)throw new dt.TokenProviderError(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(let h of["sso_start_url","sso_region"])if(!a[h])throw new dt.TokenProviderError(`Sso session '${s}' is missing required property '${h}'.`,!1);a.sso_start_url;let c=a.sso_region,u;try{u=await ri.getSSOTokenFromFile(s)}catch{throw new dt.TokenProviderError(`The SSO session token associated with profile=${n} was not found or is invalid. ${Tm}`,!1)}jn("accessToken",u.accessToken),jn("expiresAt",u.expiresAt);let{accessToken:m,expiresAt:l}=u,g={token:m,expiration:new Date(l)};if(g.expiration.getTime()-Date.now()>EL)return g;if(Date.now()-rx.getTime()<30*1e3)return tx(g),g;jn("clientId",u.clientId,!0),jn("clientSecret",u.clientSecret,!0),jn("refreshToken",u.refreshToken,!0);try{rx.setTime(Date.now());let h=await _L(u,c,e,t);jn("accessToken",h.accessToken),jn("expiresIn",h.expiresIn);let y=new Date(Date.now()+h.expiresIn*1e3);try{await TL(s,{...u,accessToken:h.accessToken,expiresAt:y.toISOString(),refreshToken:h.refreshToken})}catch{}return{token:h.accessToken,expiration:y}}catch{return tx(g),g}},AL=({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new dt.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},xL=(e={})=>dt.memoize(dt.chain(nx(e),async()=>{throw new dt.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);ni.fromEnvSigningName=SL;ni.fromSso=nx;ni.fromStatic=AL;ni.nodeProvider=xL});var xm=P(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.resolveHttpAuthSchemeConfig=dn.defaultSSOHttpAuthSchemeProvider=dn.defaultSSOHttpAuthSchemeParametersProvider=void 0;var RL=(Ne(),G(en)),Am=Xe(),CL=async(e,t,r)=>({operation:(0,Am.getSmithyContext)(t).operation,region:await(0,Am.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});dn.defaultSSOHttpAuthSchemeParametersProvider=CL;function vL(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Vc(e){return{schemeId:"smithy.api#noAuth"}}var IL=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(Vc(e));break}case"ListAccountRoles":{t.push(Vc(e));break}case"ListAccounts":{t.push(Vc(e));break}case"Logout":{t.push(Vc(e));break}default:t.push(vL(e))}return t};dn.defaultSSOHttpAuthSchemeProvider=IL;var PL=e=>{let t=(0,RL.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Am.normalizeProvider)(e.authSchemePreference??[])})};dn.resolveHttpAuthSchemeConfig=PL});var sx=P((L8,OL)=>{OL.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.990.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.10","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.10","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.990.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.8","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.23.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.14","@smithy/middleware-retry":"^4.4.31","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.10","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.3","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.30","@smithy/util-defaults-mode-node":"^4.2.33","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var wx=P(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.ruleSet=void 0;var gx="required",xt="fn",Rt="argv",Ko="ref",ix=!0,ax="isSet",oi="booleanEquals",Wo="error",Go="endpoint",Ir="tree",Rm="PartitionResult",Cm="getAttr",cx={[gx]:!1,type:"string"},ux={[gx]:!0,default:!1,type:"boolean"},dx={[Ko]:"Endpoint"},yx={[xt]:oi,[Rt]:[{[Ko]:"UseFIPS"},!0]},Sx={[xt]:oi,[Rt]:[{[Ko]:"UseDualStack"},!0]},At={},lx={[xt]:Cm,[Rt]:[{[Ko]:Rm},"supportsFIPS"]},Ex={[Ko]:Rm},fx={[xt]:oi,[Rt]:[!0,{[xt]:Cm,[Rt]:[Ex,"supportsDualStack"]}]},px=[yx],mx=[Sx],hx=[{[Ko]:"Region"}],NL={version:"1.0",parameters:{Region:cx,UseDualStack:ux,UseFIPS:ux,Endpoint:cx},rules:[{conditions:[{[xt]:ax,[Rt]:[dx]}],rules:[{conditions:px,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Wo},{conditions:mx,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Wo},{endpoint:{url:dx,properties:At,headers:At},type:Go}],type:Ir},{conditions:[{[xt]:ax,[Rt]:hx}],rules:[{conditions:[{[xt]:"aws.partition",[Rt]:hx,assign:Rm}],rules:[{conditions:[yx,Sx],rules:[{conditions:[{[xt]:oi,[Rt]:[ix,lx]},fx],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:At,headers:At},type:Go}],type:Ir},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Wo}],type:Ir},{conditions:px,rules:[{conditions:[{[xt]:oi,[Rt]:[lx,ix]}],rules:[{conditions:[{[xt]:"stringEquals",[Rt]:[{[xt]:Cm,[Rt]:[Ex,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:At,headers:At},type:Go},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:At,headers:At},type:Go}],type:Ir},{error:"FIPS is enabled but this partition does not support FIPS",type:Wo}],type:Ir},{conditions:mx,rules:[{conditions:[fx],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:At,headers:At},type:Go}],type:Ir},{error:"DualStack is enabled but this partition does not support DualStack",type:Wo}],type:Ir},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:At,headers:At},type:Go}],type:Ir}],type:Ir},{error:"Invalid Configuration: Missing Region",type:Wo}]};Wc.ruleSet=NL});var _x=P(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.defaultEndpointResolver=void 0;var DL=yo(),vm=wr(),kL=wx(),$L=new vm.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),ML=(e,t={})=>$L.get(e,()=>(0,vm.resolveEndpoint)(kL.ruleSet,{endpointParams:e,logger:t.logger}));Gc.defaultEndpointResolver=ML;vm.customEndpointFunctions.aws=DL.awsEndpointFunctions});var Kc=P(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.SSOServiceException=Yo.__ServiceException=void 0;var bx=B();Object.defineProperty(Yo,"__ServiceException",{enumerable:!0,get:function(){return bx.ServiceException}});var Im=class e extends bx.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}};Yo.SSOServiceException=Im});var km=P(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.UnauthorizedException=cr.TooManyRequestsException=cr.ResourceNotFoundException=cr.InvalidRequestException=void 0;var Yc=Kc(),Pm=class e extends Yc.SSOServiceException{name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};cr.InvalidRequestException=Pm;var Om=class e extends Yc.SSOServiceException{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};cr.ResourceNotFoundException=Om;var Nm=class e extends Yc.SSOServiceException{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};cr.TooManyRequestsException=Nm;var Dm=class e extends Yc.SSOServiceException{name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};cr.UnauthorizedException=Dm});var $m=P(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.Logout$=U.ListAccounts$=U.ListAccountRoles$=U.GetRoleCredentials$=U.RoleInfo$=U.RoleCredentials$=U.LogoutRequest$=U.ListAccountsResponse$=U.ListAccountsRequest$=U.ListAccountRolesResponse$=U.ListAccountRolesRequest$=U.GetRoleCredentialsResponse$=U.GetRoleCredentialsRequest$=U.AccountInfo$=U.errorTypeRegistries=U.UnauthorizedException$=U.TooManyRequestsException$=U.ResourceNotFoundException$=U.InvalidRequestException$=U.SSOServiceException$=void 0;var FL="AccountInfo",LL="AccountListType",UL="AccessTokenType",qL="GetRoleCredentials",HL="GetRoleCredentialsRequest",jL="GetRoleCredentialsResponse",BL="InvalidRequestException",zL="Logout",VL="ListAccounts",WL="ListAccountsRequest",GL="ListAccountRolesRequest",KL="ListAccountRolesResponse",YL="ListAccountsResponse",XL="ListAccountRoles",JL="LogoutRequest",QL="RoleCredentials",ZL="RoleInfo",eU="RoleListType",tU="ResourceNotFoundException",rU="SecretAccessKeyType",nU="SessionTokenType",oU="TooManyRequestsException",sU="UnauthorizedException",Xc="accountId",iU="accessKeyId",aU="accountList",cU="accountName",Jc="accessToken",Tx="account_id",Qc="client",Zc="error",uU="emailAddress",dU="expiration",eu="http",tu="httpError",ru="httpHeader",Bn="httpQuery",nu="message",Ax="maxResults",xx="max_result",ou="nextToken",Rx="next_token",lU="roleCredentials",fU="roleList",Cx="roleName",pU="role_name",vx="smithy.ts.sdk.synthetic.com.amazonaws.sso",mU="secretAccessKey",hU="sessionToken",su="x-amz-sso_bearer_token",me="com.amazonaws.sso",Ix=(ee(),G(uo)),iu=km(),gU=Kc(),Px=Ix.TypeRegistry.for(vx);U.SSOServiceException$=[-3,vx,"SSOServiceException",0,[],[]];Px.registerError(U.SSOServiceException$,gU.SSOServiceException);var si=Ix.TypeRegistry.for(me);U.InvalidRequestException$=[-3,me,BL,{[Zc]:Qc,[tu]:400},[nu],[0]];si.registerError(U.InvalidRequestException$,iu.InvalidRequestException);U.ResourceNotFoundException$=[-3,me,tU,{[Zc]:Qc,[tu]:404},[nu],[0]];si.registerError(U.ResourceNotFoundException$,iu.ResourceNotFoundException);U.TooManyRequestsException$=[-3,me,oU,{[Zc]:Qc,[tu]:429},[nu],[0]];si.registerError(U.TooManyRequestsException$,iu.TooManyRequestsException);U.UnauthorizedException$=[-3,me,sU,{[Zc]:Qc,[tu]:401},[nu],[0]];si.registerError(U.UnauthorizedException$,iu.UnauthorizedException);U.errorTypeRegistries=[Px,si];var au=[0,me,UL,8,0],yU=[0,me,rU,8,0],SU=[0,me,nU,8,0];U.AccountInfo$=[3,me,FL,0,[Xc,cU,uU],[0,0,0]];U.GetRoleCredentialsRequest$=[3,me,HL,0,[Cx,Xc,Jc],[[0,{[Bn]:pU}],[0,{[Bn]:Tx}],[()=>au,{[ru]:su}]],3];U.GetRoleCredentialsResponse$=[3,me,jL,0,[lU],[[()=>U.RoleCredentials$,0]]];U.ListAccountRolesRequest$=[3,me,GL,0,[Jc,Xc,ou,Ax],[[()=>au,{[ru]:su}],[0,{[Bn]:Tx}],[0,{[Bn]:Rx}],[1,{[Bn]:xx}]],2];U.ListAccountRolesResponse$=[3,me,KL,0,[ou,fU],[0,()=>_U]];U.ListAccountsRequest$=[3,me,WL,0,[Jc,ou,Ax],[[()=>au,{[ru]:su}],[0,{[Bn]:Rx}],[1,{[Bn]:xx}]],1];U.ListAccountsResponse$=[3,me,YL,0,[ou,aU],[0,()=>wU]];U.LogoutRequest$=[3,me,JL,0,[Jc],[[()=>au,{[ru]:su}]],1];U.RoleCredentials$=[3,me,QL,0,[iU,mU,hU,dU],[0,[()=>yU,0],[()=>SU,0],1]];U.RoleInfo$=[3,me,ZL,0,[Cx,Xc],[0,0]];var EU="unit",wU=[1,me,LL,0,()=>U.AccountInfo$],_U=[1,me,eU,0,()=>U.RoleInfo$];U.GetRoleCredentials$=[9,me,qL,{[eu]:["GET","/federation/credentials",200]},()=>U.GetRoleCredentialsRequest$,()=>U.GetRoleCredentialsResponse$];U.ListAccountRoles$=[9,me,XL,{[eu]:["GET","/assignment/roles",200]},()=>U.ListAccountRolesRequest$,()=>U.ListAccountRolesResponse$];U.ListAccounts$=[9,me,VL,{[eu]:["GET","/assignment/accounts",200]},()=>U.ListAccountsRequest$,()=>U.ListAccountsResponse$];U.Logout$=[9,me,zL,{[eu]:["POST","/logout",200]},()=>U.LogoutRequest$,()=>EU]});var Dx=P(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.getRuntimeConfig=void 0;var bU=(Ne(),G(en)),TU=(Fn(),G(vp)),AU=(Oe(),G(Fr)),xU=B(),RU=Zt(),Ox=ve(),Nx=Ce(),CU=xm(),vU=_x(),IU=$m(),PU=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Ox.fromBase64,base64Encoder:e?.base64Encoder??Ox.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??vU.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??CU.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new bU.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new AU.NoAuthSigner}],logger:e?.logger??new xU.NoOpLogger,protocol:e?.protocol??TU.AwsRestJsonProtocol,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sso",errorTypeRegistries:IU.errorTypeRegistries,version:"2019-06-10",serviceTarget:"SWBPortalService"},serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??RU.parseUrl,utf8Decoder:e?.utf8Decoder??Nx.fromUtf8,utf8Encoder:e?.utf8Encoder??Nx.toUtf8});cu.getRuntimeConfig=PU});var Ux=P(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.getRuntimeConfig=void 0;var OU=(bs(),G(_s)),NU=OU.__importDefault(sx()),kx=(Ne(),G(en)),$x=Lo(),uu=ot(),DU=Uo(),Mx=qt(),zn=or(),Fx=$r(),Lx=B(),kU=qo(),$U=Ho(),MU=qn(),FU=Dx(),LU=e=>{(0,Lx.emitWarningIfUnsupportedVersion)(process.version);let t=(0,$U.resolveDefaultsModeConfig)(e),r=()=>t().then(Lx.loadConfigsForDefaultMode),n=(0,FU.getRuntimeConfig)(e);(0,kx.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,zn.loadConfig)(kx.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??kU.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,$x.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:NU.default.version}),maxAttempts:e?.maxAttempts??(0,zn.loadConfig)(Mx.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,zn.loadConfig)(uu.NODE_REGION_CONFIG_OPTIONS,{...uu.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Fx.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,zn.loadConfig)({...Mx.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||MU.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??DU.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Fx.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,zn.loadConfig)(uu.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,zn.loadConfig)(uu.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,zn.loadConfig)($x.NODE_APP_ID_CONFIG_OPTIONS,o)}};du.getRuntimeConfig=LU});var Yx=P(ze=>{"use strict";var qx=to(),UU=ro(),qU=no(),Hx=Ln(),HU=ot(),ii=(Oe(),G(Fr)),jU=(ee(),G(uo)),BU=No(),ui=Ut(),jx=qt(),ur=B(),Bx=xm(),zU=Ux(),zx=un(),Vx=ce(),Xo=$m(),Wx=km(),VU=Kc(),WU=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),mu={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},GU=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},KU=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),YU=(e,t)=>{let r=Object.assign(zx.getAwsRegionExtensionConfiguration(e),ur.getDefaultExtensionConfiguration(e),Vx.getHttpHandlerExtensionConfiguration(e),GU(e));return t.forEach(n=>n.configure(r)),Object.assign(e,zx.resolveAwsRegionExtensionConfiguration(r),ur.resolveDefaultRuntimeConfig(r),Vx.resolveHttpHandlerRuntimeConfig(r),KU(r))},Jo=class extends ur.Client{config;constructor(...[t]){let r=zU.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=WU(r),o=Hx.resolveUserAgentConfig(n),s=jx.resolveRetryConfig(o),i=HU.resolveRegionConfig(s),a=qx.resolveHostHeaderConfig(i),c=ui.resolveEndpointConfig(a),u=Bx.resolveHttpAuthSchemeConfig(c),m=YU(u,t?.extensions||[]);this.config=m,this.middlewareStack.use(jU.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(Hx.getUserAgentPlugin(this.config)),this.middlewareStack.use(jx.getRetryPlugin(this.config)),this.middlewareStack.use(BU.getContentLengthPlugin(this.config)),this.middlewareStack.use(qx.getHostHeaderPlugin(this.config)),this.middlewareStack.use(UU.getLoggerPlugin(this.config)),this.middlewareStack.use(qU.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(ii.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:Bx.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async l=>new ii.DefaultIdentityProviderConfig({"aws.auth#sigv4":l.credentials})})),this.middlewareStack.use(ii.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},lu=class extends ur.Command.classBuilder().ep(mu).m(function(t,r,n,o){return[ui.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(Xo.GetRoleCredentials$).build(){},ai=class extends ur.Command.classBuilder().ep(mu).m(function(t,r,n,o){return[ui.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").sc(Xo.ListAccountRoles$).build(){},ci=class extends ur.Command.classBuilder().ep(mu).m(function(t,r,n,o){return[ui.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").sc(Xo.ListAccounts$).build(){},fu=class extends ur.Command.classBuilder().ep(mu).m(function(t,r,n,o){return[ui.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").sc(Xo.Logout$).build(){},Gx=ii.createPaginator(Jo,ai,"nextToken","nextToken","maxResults"),Kx=ii.createPaginator(Jo,ci,"nextToken","nextToken","maxResults"),XU={GetRoleCredentialsCommand:lu,ListAccountRolesCommand:ai,ListAccountsCommand:ci,LogoutCommand:fu},JU={paginateListAccountRoles:Gx,paginateListAccounts:Kx},pu=class extends Jo{};ur.createAggregatedClient(XU,pu,{paginators:JU});Object.defineProperty(ze,"$Command",{enumerable:!0,get:function(){return ur.Command}});Object.defineProperty(ze,"__Client",{enumerable:!0,get:function(){return ur.Client}});Object.defineProperty(ze,"SSOServiceException",{enumerable:!0,get:function(){return VU.SSOServiceException}});ze.GetRoleCredentialsCommand=lu;ze.ListAccountRolesCommand=ai;ze.ListAccountsCommand=ci;ze.LogoutCommand=fu;ze.SSO=pu;ze.SSOClient=Jo;ze.paginateListAccountRoles=Gx;ze.paginateListAccounts=Kx;Object.keys(Xo).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ze,e)&&Object.defineProperty(ze,e,{enumerable:!0,get:function(){return Xo[e]}})});Object.keys(Wx).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ze,e)&&Object.defineProperty(ze,e,{enumerable:!0,get:function(){return Wx[e]}})})});var Jx=P(Mm=>{"use strict";var Xx=Yx();Object.defineProperty(Mm,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return Xx.GetRoleCredentialsCommand}});Object.defineProperty(Mm,"SSOClient",{enumerable:!0,get:function(){return Xx.SSOClient}})});var Fm=P(gu=>{"use strict";var zt=He(),hu=nr(),Qx=(ct(),G(er)),QU=ox(),eR=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),di=!1,Zx=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,clientConfig:i,parentClientConfig:a,callerClientConfig:c,profile:u,filepath:m,configFilepath:l,ignoreCache:g,logger:h})=>{let y,A="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let $t=await QU.fromSso({profile:u,filepath:m,configFilepath:l,ignoreCache:g})();y={accessToken:$t.token,expiresAt:new Date($t.expiration).toISOString()}}catch($t){throw new zt.CredentialsProviderError($t.message,{tryNextLink:di,logger:h})}else try{y=await hu.getSSOTokenFromFile(e)}catch{throw new zt.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${A}`,{tryNextLink:di,logger:h})}if(new Date(y.expiresAt).getTime()-Date.now()<=0)throw new zt.CredentialsProviderError(`The SSO session associated with this profile has expired. ${A}`,{tryNextLink:di,logger:h});let{accessToken:R}=y,{SSOClient:v,GetRoleCredentialsCommand:O}=await Promise.resolve().then(function(){return Jx()}),N=s||new v(Object.assign({},i??{},{logger:i?.logger??c?.logger??a?.logger,region:i?.region??n,userAgentAppId:i?.userAgentAppId??c?.userAgentAppId??a?.userAgentAppId})),L;try{L=await N.send(new O({accountId:r,roleName:o,accessToken:R}))}catch($t){throw new zt.CredentialsProviderError($t,{tryNextLink:di,logger:h})}let{roleCredentials:{accessKeyId:j,secretAccessKey:J,sessionToken:be,expiration:Y,credentialScope:W,accountId:Z}={}}=L;if(!j||!J||!be||!Y)throw new zt.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:di,logger:h});let Te={accessKeyId:j,secretAccessKey:J,sessionToken:be,expiration:new Date(Y),...W&&{credentialScope:W},...Z&&{accountId:Z}};return t?Qx.setCredentialFeature(Te,"CREDENTIALS_SSO","s"):Qx.setCredentialFeature(Te,"CREDENTIALS_SSO_LEGACY","u"),Te},tR=(e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:o,sso_role_name:s}=e;if(!r||!n||!o||!s)throw new zt.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},ZU=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e,{ssoClient:a}=e,c=hu.getProfileName({profile:e.profile??t?.profile});if(!r&&!n&&!o&&!s&&!i){let m=(await hu.parseKnownFiles(e))[c];if(!m)throw new zt.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!eR(m))throw new zt.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(m?.sso_session){let v=(await hu.loadSsoSessionData(e))[m.sso_session],O=` configurations in profile ${c} and sso-session ${m.sso_session}`;if(o&&o!==v.sso_region)throw new zt.CredentialsProviderError("Conflicting SSO region"+O,{tryNextLink:!1,logger:e.logger});if(r&&r!==v.sso_start_url)throw new zt.CredentialsProviderError("Conflicting SSO start_url"+O,{tryNextLink:!1,logger:e.logger});m.sso_region=v.sso_region,m.sso_start_url=v.sso_start_url}let{sso_start_url:l,sso_account_id:g,sso_region:h,sso_role_name:y,sso_session:A}=tR(m,e.logger);return Zx({ssoStartUrl:l,ssoSession:A,ssoAccountId:g,ssoRegion:h,ssoRoleName:y,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,callerClientConfig:e.callerClientConfig,profile:c,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!r||!n||!o||!s)throw new zt.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return Zx({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,callerClientConfig:e.callerClientConfig,profile:c,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};gu.fromSSO=ZU;gu.isSsoProfile=eR;gu.validateSsoProfile=tR});function eq(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"signin",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function tq(e){return{schemeId:"smithy.api#noAuth"}}var li,rR,nR,oR,Lm=E(()=>{Ne();li=_(Xe()),rR=async(e,t,r)=>({operation:(0,li.getSmithyContext)(t).operation,region:await(0,li.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});nR=e=>{let t=[];return e.operation==="CreateOAuth2Token"?t.push(tq(e)):t.push(eq(e)),t},oR=e=>{let t=_r(e);return Object.assign(t,{authSchemePreference:(0,li.normalizeProvider)(e.authSchemePreference??[])})}});var sR,iR,Um=E(()=>{sR=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"signin"}),iR={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var mR,We,aR,Vn,Qo,ln,Vt,Eu,qm,cR,uR,dR,Hm,jm,Ve,Bm,yu,Su,lR,fR,pR,rq,hR,gR=E(()=>{mR="required",We="argv",aR="isSet",Vn="booleanEquals",Qo="error",ln="endpoint",Vt="tree",Eu="PartitionResult",qm="stringEquals",cR={[mR]:!0,default:!1,type:"boolean"},uR={[mR]:!1,type:"string"},dR={ref:"Endpoint"},Hm={fn:Vn,[We]:[{ref:"UseFIPS"},!0]},jm={fn:Vn,[We]:[{ref:"UseDualStack"},!0]},Ve={},Bm={fn:"getAttr",[We]:[{ref:Eu},"name"]},yu={fn:Vn,[We]:[{ref:"UseFIPS"},!1]},Su={fn:Vn,[We]:[{ref:"UseDualStack"},!1]},lR={fn:"getAttr",[We]:[{ref:Eu},"supportsFIPS"]},fR={fn:Vn,[We]:[!0,{fn:"getAttr",[We]:[{ref:Eu},"supportsDualStack"]}]},pR=[{ref:"Region"}],rq={version:"1.0",parameters:{UseDualStack:cR,UseFIPS:cR,Endpoint:uR,Region:uR},rules:[{conditions:[{fn:aR,[We]:[dR]}],rules:[{conditions:[Hm],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Qo},{rules:[{conditions:[jm],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Qo},{endpoint:{url:dR,properties:Ve,headers:Ve},type:ln}],type:Vt}],type:Vt},{rules:[{conditions:[{fn:aR,[We]:pR}],rules:[{conditions:[{fn:"aws.partition",[We]:pR,assign:Eu}],rules:[{conditions:[{fn:qm,[We]:[Bm,"aws"]},yu,Su],endpoint:{url:"https://{Region}.signin.aws.amazon.com",properties:Ve,headers:Ve},type:ln},{conditions:[{fn:qm,[We]:[Bm,"aws-cn"]},yu,Su],endpoint:{url:"https://{Region}.signin.amazonaws.cn",properties:Ve,headers:Ve},type:ln},{conditions:[{fn:qm,[We]:[Bm,"aws-us-gov"]},yu,Su],endpoint:{url:"https://{Region}.signin.amazonaws-us-gov.com",properties:Ve,headers:Ve},type:ln},{conditions:[Hm,jm],rules:[{conditions:[{fn:Vn,[We]:[!0,lR]},fR],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ve,headers:Ve},type:ln}],type:Vt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Qo}],type:Vt},{conditions:[Hm,Su],rules:[{conditions:[{fn:Vn,[We]:[lR,!0]}],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ve,headers:Ve},type:ln}],type:Vt},{error:"FIPS is enabled but this partition does not support FIPS",type:Qo}],type:Vt},{conditions:[yu,jm],rules:[{conditions:[fR],rules:[{endpoint:{url:"https://signin.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ve,headers:Ve},type:ln}],type:Vt},{error:"DualStack is enabled but this partition does not support DualStack",type:Qo}],type:Vt},{endpoint:{url:"https://signin.{Region}.{PartitionResult#dnsSuffix}",properties:Ve,headers:Ve},type:ln}],type:Vt}],type:Vt},{error:"Invalid Configuration: Missing Region",type:Qo}],type:Vt}]},hR=rq});var yR,Zo,nq,SR,ER=E(()=>{yR=_(yo()),Zo=_(wr());gR();nq=new Zo.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),SR=(e,t={})=>nq.get(e,()=>(0,Zo.resolveEndpoint)(hR,{endpointParams:e,logger:t.logger}));Zo.customEndpointFunctions.aws=yR.awsEndpointFunctions});var wR,Wt,wu=E(()=>{wR=_(B()),Wt=class e extends wR.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var fi,pi,mi,hi,zm=E(()=>{wu();fi=class e extends Wt{name="AccessDeniedException";$fault="client";error;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},pi=class e extends Wt{name="InternalServerException";$fault="server";error;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},mi=class e extends Wt{name="TooManyRequestsError";$fault="client";error;constructor(t){super({name:"TooManyRequestsError",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},hi=class e extends Wt{name="ValidationException";$fault="client";error;constructor(t){super({name:"ValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}}});var oq,sq,iq,aq,cq,uq,dq,lq,fq,pq,mq,_R,bR,Vm,TR,AR,hq,fn,xR,RR,gq,Wm,CR,lt,bu,_u,vR,NR,IR,PR,yq,Sq,Eq,OR,Ct,DR,kR,gi,$R,MR,FR,LR,Gm,UR,qR,HR,jR,BR,zR,Km,Tu=E(()=>{ee();zm();wu();oq="AccessDeniedException",sq="AccessToken",iq="CreateOAuth2Token",aq="CreateOAuth2TokenRequest",cq="CreateOAuth2TokenRequestBody",uq="CreateOAuth2TokenResponseBody",dq="CreateOAuth2TokenResponse",lq="InternalServerException",fq="RefreshToken",pq="TooManyRequestsError",mq="ValidationException",_R="accessKeyId",bR="accessToken",Vm="client",TR="clientId",AR="codeVerifier",hq="code",fn="error",xR="expiresIn",RR="grantType",gq="http",Wm="httpError",CR="idToken",lt="jsonName",bu="message",_u="refreshToken",vR="redirectUri",NR="smithy.ts.sdk.synthetic.com.amazonaws.signin",IR="secretAccessKey",PR="sessionToken",yq="server",Sq="tokenInput",Eq="tokenOutput",OR="tokenType",Ct="com.amazonaws.signin",DR=se.for(NR),kR=[-3,NR,"SigninServiceException",0,[],[]];DR.registerError(kR,Wt);gi=se.for(Ct),$R=[-3,Ct,oq,{[fn]:Vm},[fn,bu],[0,0],2];gi.registerError($R,fi);MR=[-3,Ct,lq,{[fn]:yq,[Wm]:500},[fn,bu],[0,0],2];gi.registerError(MR,pi);FR=[-3,Ct,pq,{[fn]:Vm,[Wm]:429},[fn,bu],[0,0],2];gi.registerError(FR,mi);LR=[-3,Ct,mq,{[fn]:Vm,[Wm]:400},[fn,bu],[0,0],2];gi.registerError(LR,hi);Gm=[DR,gi],UR=[0,Ct,fq,8,0],qR=[3,Ct,sq,8,[_R,IR,PR],[[0,{[lt]:_R}],[0,{[lt]:IR}],[0,{[lt]:PR}]],3],HR=[3,Ct,aq,0,[Sq],[[()=>jR,16]],1],jR=[3,Ct,cq,0,[TR,RR,hq,vR,AR,_u],[[0,{[lt]:TR}],[0,{[lt]:RR}],0,[0,{[lt]:vR}],[0,{[lt]:AR}],[()=>UR,{[lt]:_u}]],2],BR=[3,Ct,dq,0,[Eq],[[()=>zR,16]],1],zR=[3,Ct,uq,0,[bR,OR,xR,_u,CR],[[()=>qR,{[lt]:bR}],[0,{[lt]:OR}],[1,{[lt]:xR}],[()=>UR,{[lt]:_u}],[0,{[lt]:CR}]],4],Km=[9,Ct,iq,{[gq]:["POST","/v1/token",200]},()=>HR,()=>BR]});var VR,WR,Au,xu,GR,KR=E(()=>{Ne();Fn();Oe();VR=_(B()),WR=_(Zt()),Au=_(ve()),xu=_(Ce());Lm();ER();Tu();GR=e=>({apiVersion:"2023-01-01",base64Decoder:e?.base64Decoder??Au.fromBase64,base64Encoder:e?.base64Encoder??Au.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??SR,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??nR,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new qe},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ft}],logger:e?.logger??new VR.NoOpLogger,protocol:e?.protocol??Jr,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.signin",errorTypeRegistries:Gm,version:"2023-01-01",serviceTarget:"Signin"},serviceId:e?.serviceId??"Signin",urlParser:e?.urlParser??WR.parseUrl,utf8Decoder:e?.utf8Decoder??xu.fromUtf8,utf8Encoder:e?.utf8Encoder??xu.toUtf8})});var Ru,mn,YR,Cu,pn,vu,Iu,XR,JR,QR,ZR,eC=E(()=>{Ic();Ne();Ru=_(Lo()),mn=_(ot()),YR=_(Uo()),Cu=_(qt()),pn=_(or()),vu=_($r()),Iu=_(B()),XR=_(qo()),JR=_(Ho()),QR=_(qn());KR();ZR=e=>{(0,Iu.emitWarningIfUnsupportedVersion)(process.version);let t=(0,JR.resolveDefaultsModeConfig)(e),r=()=>t().then(Iu.loadConfigsForDefaultMode),n=GR(e);Ur(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,pn.loadConfig)(Hr,o),bodyLengthChecker:e?.bodyLengthChecker??XR.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Ru.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Fo.version}),maxAttempts:e?.maxAttempts??(0,pn.loadConfig)(Cu.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,pn.loadConfig)(mn.NODE_REGION_CONFIG_OPTIONS,{...mn.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:vu.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,pn.loadConfig)({...Cu.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||QR.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??YR.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??vu.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,pn.loadConfig)(mn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,pn.loadConfig)(mn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,pn.loadConfig)(Ru.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var tC,rC,nC=E(()=>{tC=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},rC=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Pu,Ou,Nu,oC,sC=E(()=>{Pu=_(un()),Ou=_(ce()),Nu=_(B());nC();oC=(e,t)=>{let r=Object.assign((0,Pu.getAwsRegionExtensionConfiguration)(e),(0,Nu.getDefaultExtensionConfiguration)(e),(0,Ou.getHttpHandlerExtensionConfiguration)(e),tC(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Pu.resolveAwsRegionExtensionConfiguration)(r),(0,Nu.resolveDefaultRuntimeConfig)(r),(0,Ou.resolveHttpHandlerRuntimeConfig)(r),rC(r))}});var Du,iC,aC,ku,cC,uC,dC,$u,Ym,yi,Xm=E(()=>{Du=_(to()),iC=_(ro()),aC=_(no()),ku=_(Ln()),cC=_(ot());Oe();ee();uC=_(No()),dC=_(Ut()),$u=_(qt()),Ym=_(B());Lm();Um();eC();sC();yi=class extends Ym.Client{config;constructor(...[t]){let r=ZR(t||{});super(r),this.initConfig=r;let n=sR(r),o=(0,ku.resolveUserAgentConfig)(n),s=(0,$u.resolveRetryConfig)(o),i=(0,cC.resolveRegionConfig)(s),a=(0,Du.resolveHostHeaderConfig)(i),c=(0,dC.resolveEndpointConfig)(a),u=oR(c),m=oC(u,t?.extensions||[]);this.config=m,this.middlewareStack.use(Rn(this.config)),this.middlewareStack.use((0,ku.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,$u.getRetryPlugin)(this.config)),this.middlewareStack.use((0,uC.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Du.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,iC.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,aC.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(An(this.config,{httpAuthSchemeParametersProvider:rR,identityProviderConfigProvider:async l=>new Er({"aws.auth#sigv4":l.credentials})})),this.middlewareStack.use(xn(this.config))}destroy(){super.destroy()}}});var lC,Jm,Si,Qm=E(()=>{lC=_(Ut()),Jm=_(B());Um();Tu();Si=class extends Jm.Command.classBuilder().ep(iR).m(function(t,r,n,o){return[(0,lC.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Signin","CreateOAuth2Token",{}).n("SigninClient","CreateOAuth2TokenCommand").sc(Km).build(){}});var fC,wq,Mu,pC=E(()=>{fC=_(B());Qm();Xm();wq={CreateOAuth2TokenCommand:Si},Mu=class extends yi{};(0,fC.createAggregatedClient)(wq,Mu)});var mC=E(()=>{Qm()});var _q,hC=E(()=>{_q={AUTHCODE_EXPIRED:"AUTHCODE_EXPIRED",INSUFFICIENT_PERMISSIONS:"INSUFFICIENT_PERMISSIONS",INVALID_REQUEST:"INVALID_REQUEST",SERVER_ERROR:"server_error",TOKEN_EXPIRED:"TOKEN_EXPIRED",USER_CREDENTIALS_CHANGED:"USER_CREDENTIALS_CHANGED"}});var gC=E(()=>{});var yC={};Ye(yC,{$Command:()=>Jm.Command,AccessDeniedException:()=>fi,AccessDeniedException$:()=>$R,AccessToken$:()=>qR,CreateOAuth2Token$:()=>Km,CreateOAuth2TokenCommand:()=>Si,CreateOAuth2TokenRequest$:()=>HR,CreateOAuth2TokenRequestBody$:()=>jR,CreateOAuth2TokenResponse$:()=>BR,CreateOAuth2TokenResponseBody$:()=>zR,InternalServerException:()=>pi,InternalServerException$:()=>MR,OAuth2ErrorCode:()=>_q,Signin:()=>Mu,SigninClient:()=>yi,SigninServiceException:()=>Wt,SigninServiceException$:()=>kR,TooManyRequestsError:()=>mi,TooManyRequestsError$:()=>FR,ValidationException:()=>hi,ValidationException$:()=>LR,__Client:()=>Ym.Client,errorTypeRegistries:()=>Gm});var SC=E(()=>{Xm();pC();mC();Tu();hC();zm();gC();wu()});var wC=P(EC=>{"use strict";var bq=(ct(),G(er)),hn=He(),th=nr(),Tq=ce(),Fu=require("node:crypto"),Zm=require("node:fs"),Aq=require("node:os"),eh=require("node:path"),rh=class e{profileData;init;callerClientConfig;static REFRESH_THRESHOLD=300*1e3;constructor(t,r,n){this.profileData=t,this.init=r,this.callerClientConfig=n}async loadCredentials(){let t=await this.loadToken();if(!t)throw new hn.CredentialsProviderError(`Failed to load a token for session ${this.loginSession}, please re-authenticate using aws login`,{tryNextLink:!1,logger:this.logger});let r=t.accessToken,n=Date.now();return new Date(r.expiresAt).getTime()-n<=e.REFRESH_THRESHOLD?this.refresh(t):{accessKeyId:r.accessKeyId,secretAccessKey:r.secretAccessKey,sessionToken:r.sessionToken,accountId:r.accountId,expiration:new Date(r.expiresAt)}}get logger(){return this.init?.logger}get loginSession(){return this.profileData.login_session}async refresh(t){let{SigninClient:r,CreateOAuth2TokenCommand:n}=await Promise.resolve().then(()=>(SC(),yC)),{logger:o,userAgentAppId:s}=this.callerClientConfig??{},a=(l=>l?.metadata?.handlerProtocol==="h2")(this.callerClientConfig?.requestHandler)?void 0:this.callerClientConfig?.requestHandler,c=this.profileData.region??await this.callerClientConfig?.region?.()??process.env.AWS_REGION,u=new r({credentials:{accessKeyId:"",secretAccessKey:""},region:c,requestHandler:a,logger:o,userAgentAppId:s,...this.init?.clientConfig});this.createDPoPInterceptor(u.middlewareStack);let m={tokenInput:{clientId:t.clientId,refreshToken:t.refreshToken,grantType:"refresh_token"}};try{let l=await u.send(new n(m)),{accessKeyId:g,secretAccessKey:h,sessionToken:y}=l.tokenOutput?.accessToken??{},{refreshToken:A,expiresIn:R}=l.tokenOutput??{};if(!g||!h||!y||!A)throw new hn.CredentialsProviderError("Token refresh response missing required fields",{logger:this.logger,tryNextLink:!1});let v=(R??900)*1e3,O=new Date(Date.now()+v),N={...t,accessToken:{...t.accessToken,accessKeyId:g,secretAccessKey:h,sessionToken:y,expiresAt:O.toISOString()},refreshToken:A};await this.saveToken(N);let L=N.accessToken;return{accessKeyId:L.accessKeyId,secretAccessKey:L.secretAccessKey,sessionToken:L.sessionToken,accountId:L.accountId,expiration:O}}catch(l){if(l.name==="AccessDeniedException"){let g=l.error,h;switch(g){case"TOKEN_EXPIRED":h="Your session has expired. Please reauthenticate.";break;case"USER_CREDENTIALS_CHANGED":h="Unable to refresh credentials because of a change in your password. Please reauthenticate with your new password.";break;case"INSUFFICIENT_PERMISSIONS":h="Unable to refresh credentials due to insufficient permissions. You may be missing permission for the 'CreateOAuth2Token' action.";break;default:h=`Failed to refresh token: ${String(l)}. Please re-authenticate using \`aws login\``}throw new hn.CredentialsProviderError(h,{logger:this.logger,tryNextLink:!1})}throw new hn.CredentialsProviderError(`Failed to refresh token: ${String(l)}. Please re-authenticate using aws login`,{logger:this.logger})}}async loadToken(){let t=this.getTokenFilePath();try{let r;try{r=await th.readFile(t,{ignoreCache:this.init?.ignoreCache})}catch{r=await Zm.promises.readFile(t,"utf8")}let n=JSON.parse(r),o=["accessToken","clientId","refreshToken","dpopKey"].filter(s=>!n[s]);if(n.accessToken?.accountId||o.push("accountId"),o.length>0)throw new hn.CredentialsProviderError(`Token validation failed, missing fields: ${o.join(", ")}`,{logger:this.logger,tryNextLink:!1});return n}catch(r){throw new hn.CredentialsProviderError(`Failed to load token from ${t}: ${String(r)}`,{logger:this.logger,tryNextLink:!1})}}async saveToken(t){let r=this.getTokenFilePath(),n=eh.dirname(r);try{await Zm.promises.mkdir(n,{recursive:!0})}catch{}await Zm.promises.writeFile(r,JSON.stringify(t,null,2),"utf8")}getTokenFilePath(){let t=process.env.AWS_LOGIN_CACHE_DIRECTORY??eh.join(Aq.homedir(),".aws","login","cache"),r=Buffer.from(this.loginSession,"utf8"),n=Fu.createHash("sha256").update(r).digest("hex");return eh.join(t,`${n}.json`)}derToRawSignature(t){let r=2;if(t[r]!==2)throw new Error("Invalid DER signature");r++;let n=t[r++],o=t.subarray(r,r+n);if(r+=n,t[r]!==2)throw new Error("Invalid DER signature");r++;let s=t[r++],i=t.subarray(r,r+s);o=o[0]===0?o.subarray(1):o,i=i[0]===0?i.subarray(1):i;let a=Buffer.concat([Buffer.alloc(32-o.length),o]),c=Buffer.concat([Buffer.alloc(32-i.length),i]);return Buffer.concat([a,c])}createDPoPInterceptor(t){t.add(r=>async n=>{if(Tq.HttpRequest.isInstance(n.request)){let o=n.request,s=`${o.protocol}//${o.hostname}${o.port?`:${o.port}`:""}${o.path}`,i=await this.generateDpop(o.method,s);o.headers={...o.headers,DPoP:i}}return r(n)},{step:"finalizeRequest",name:"dpopInterceptor",override:!0})}async generateDpop(t="POST",r){let n=await this.loadToken();try{let o=Fu.createPrivateKey({key:n.dpopKey,format:"pem",type:"sec1"}),i=Fu.createPublicKey(o).export({format:"der",type:"spki"}),a=-1;for(let O=0;O<i.length;O++)if(i[O]===4){a=O;break}let c=i.slice(a+1,a+33),u=i.slice(a+33,a+65),m={alg:"ES256",typ:"dpop+jwt",jwk:{kty:"EC",crv:"P-256",x:c.toString("base64url"),y:u.toString("base64url")}},l={jti:crypto.randomUUID(),htm:t,htu:r,iat:Math.floor(Date.now()/1e3)},g=Buffer.from(JSON.stringify(m)).toString("base64url"),h=Buffer.from(JSON.stringify(l)).toString("base64url"),y=`${g}.${h}`,A=Fu.sign("sha256",Buffer.from(y),o),v=this.derToRawSignature(A).toString("base64url");return`${y}.${v}`}catch(o){throw new hn.CredentialsProviderError(`Failed to generate Dpop proof: ${o instanceof Error?o.message:String(o)}`,{logger:this.logger,tryNextLink:!1})}}},xq=e=>async({callerClientConfig:t}={})=>{e?.logger?.debug?.("@aws-sdk/credential-providers - fromLoginCredentials");let r=await th.parseKnownFiles(e||{}),n=th.getProfileName({profile:e?.profile??t?.profile}),o=r[n];if(!o?.login_session)throw new hn.CredentialsProviderError(`Profile ${n} does not contain login_session.`,{tryNextLink:!0,logger:e?.logger});let i=await new rh(o,e,t).loadCredentials();return bq.setCredentialFeature(i,"CREDENTIALS_LOGIN","AD")};EC.fromLoginCredentials=xq});function Rq(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Cq(e){return{schemeId:"smithy.api#noAuth"}}var Ei,_C,bC,vq,TC,nh=E(()=>{Ne();Ei=_(Xe());wi();_C=async(e,t,r)=>({operation:(0,Ei.getSmithyContext)(t).operation,region:await(0,Ei.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});bC=e=>{let t=[];return e.operation==="AssumeRoleWithWebIdentity"?t.push(Cq(e)):t.push(Rq(e)),t},vq=e=>Object.assign(e,{stsClientCtor:dr}),TC=e=>{let t=vq(e),r=_r(t);return Object.assign(r,{authSchemePreference:(0,Ei.normalizeProvider)(e.authSchemePreference??[])})}});var AC,Lu,Uu=E(()=>{AC=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Lu={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var $C,z,re,gn,ke,MC,FC,he,xC,lr,es,sh,RC,oh,LC,CC,$e,vC,UC,qC,Ge,ft,IC,HC,jC,PC,BC,OC,NC,DC,kC,Iq,zC,VC=E(()=>{$C="required",z="type",re="argv",gn="booleanEquals",ke="stringEquals",MC="sigv4",FC="us-east-1",he="endpoint",xC="https://sts.{Region}.{PartitionResult#dnsSuffix}",lr="tree",es="error",sh="getAttr",RC={[$C]:!1,[z]:"string"},oh={[$C]:!0,default:!1,[z]:"boolean"},LC={ref:"Endpoint"},CC={fn:"isSet",[re]:[{ref:"Region"}]},$e={ref:"Region"},vC={fn:"aws.partition",[re]:[$e],assign:"PartitionResult"},UC={ref:"UseFIPS"},qC={ref:"UseDualStack"},Ge={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:MC,signingName:"sts",signingRegion:FC}]},headers:{}},ft={},IC={conditions:[{fn:ke,[re]:[$e,"aws-global"]}],[he]:Ge,[z]:he},HC={fn:gn,[re]:[UC,!0]},jC={fn:gn,[re]:[qC,!0]},PC={fn:sh,[re]:[{ref:"PartitionResult"},"supportsFIPS"]},BC={ref:"PartitionResult"},OC={fn:gn,[re]:[!0,{fn:sh,[re]:[BC,"supportsDualStack"]}]},NC=[{fn:"isSet",[re]:[LC]}],DC=[HC],kC=[jC],Iq={version:"1.0",parameters:{Region:RC,UseDualStack:oh,UseFIPS:oh,Endpoint:RC,UseGlobalEndpoint:oh},rules:[{conditions:[{fn:gn,[re]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[re]:NC},CC,vC,{fn:gn,[re]:[UC,!1]},{fn:gn,[re]:[qC,!1]}],rules:[{conditions:[{fn:ke,[re]:[$e,"ap-northeast-1"]}],endpoint:Ge,[z]:he},{conditions:[{fn:ke,[re]:[$e,"ap-south-1"]}],endpoint:Ge,[z]:he},{conditions:[{fn:ke,[re]:[$e,"ap-southeast-1"]}],endpoint:Ge,[z]:he},{conditions:[{fn:ke,[re]:[$e,"ap-southeast-2"]}],endpoint:Ge,[z]:he},IC,{conditions:[{fn:ke,[re]:[$e,"ca-central-1"]}],endpoint:Ge,[z]:he},{conditions:[{fn:ke,[re]:[$e,"eu-central-1"]}],endpoint:Ge,[z]:he},{conditions:[{fn:ke,[re]:[$e,"eu-north-1"]}],endpoint:Ge,[z]:he},{conditions:[{fn:ke,[re]:[$e,"eu-west-1"]}],endpoint:Ge,[z]:he},{conditions:[{fn:ke,[re]:[$e,"eu-west-2"]}],endpoint:Ge,[z]:he},{conditions:[{fn:ke,[re]:[$e,"eu-west-3"]}],endpoint:Ge,[z]:he},{conditions:[{fn:ke,[re]:[$e,"sa-east-1"]}],endpoint:Ge,[z]:he},{conditions:[{fn:ke,[re]:[$e,FC]}],endpoint:Ge,[z]:he},{conditions:[{fn:ke,[re]:[$e,"us-east-2"]}],endpoint:Ge,[z]:he},{conditions:[{fn:ke,[re]:[$e,"us-west-1"]}],endpoint:Ge,[z]:he},{conditions:[{fn:ke,[re]:[$e,"us-west-2"]}],endpoint:Ge,[z]:he},{endpoint:{url:xC,properties:{authSchemes:[{name:MC,signingName:"sts",signingRegion:"{Region}"}]},headers:ft},[z]:he}],[z]:lr},{conditions:NC,rules:[{conditions:DC,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[z]:es},{conditions:kC,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[z]:es},{endpoint:{url:LC,properties:ft,headers:ft},[z]:he}],[z]:lr},{conditions:[CC],rules:[{conditions:[vC],rules:[{conditions:[HC,jC],rules:[{conditions:[{fn:gn,[re]:[!0,PC]},OC],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ft,headers:ft},[z]:he}],[z]:lr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[z]:es}],[z]:lr},{conditions:DC,rules:[{conditions:[{fn:gn,[re]:[PC,!0]}],rules:[{conditions:[{fn:ke,[re]:[{fn:sh,[re]:[BC,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:ft,headers:ft},[z]:he},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ft,headers:ft},[z]:he}],[z]:lr},{error:"FIPS is enabled but this partition does not support FIPS",[z]:es}],[z]:lr},{conditions:kC,rules:[{conditions:[OC],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ft,headers:ft},[z]:he}],[z]:lr},{error:"DualStack is enabled but this partition does not support DualStack",[z]:es}],[z]:lr},IC,{endpoint:{url:xC,properties:ft,headers:ft},[z]:he}],[z]:lr}],[z]:lr},{error:"Invalid Configuration: Missing Region",[z]:es}]},zC=Iq});var WC,ts,Pq,GC,KC=E(()=>{WC=_(yo()),ts=_(wr());VC();Pq=new ts.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),GC=(e,t={})=>Pq.get(e,()=>(0,ts.resolveEndpoint)(zC,{endpointParams:e,logger:t.logger}));ts.customEndpointFunctions.aws=WC.awsEndpointFunctions});var YC,st,qu=E(()=>{YC=_(B()),st=class e extends YC.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var _i,bi,Ti,Ai,xi,Ri,Ci,ih=E(()=>{qu();_i=class e extends st{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},bi=class e extends st{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ti=class e extends st{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ai=class e extends st{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},xi=class e extends st{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ri=class e extends st{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ci=class e extends st{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var Oq,Nq,Dq,kq,$q,Mq,ah,Fq,Lq,Uq,qq,ch,Hq,XC,jq,Bq,zq,Vq,Wq,Gq,Kq,Yq,JC,QC,Xq,Jq,Qq,Zq,eH,tH,ZC,rH,nH,ev,oH,tv,sH,iH,uh,aH,cH,uH,dH,lH,fH,pH,mH,hH,gH,Wn,Gn,yH,Kn,Yn,Xn,SH,rv,EH,ge,nv,ov,yn,sv,iv,av,cv,uv,dv,lv,dh,wH,_H,lh,fv,pv,mv,hv,fh,gv,yv,Sv,Ev,bH,TH,ph,mh,vi=E(()=>{ee();ih();qu();Oq="Arn",Nq="AccessKeyId",Dq="AssumeRole",kq="AssumedRoleId",$q="AssumeRoleRequest",Mq="AssumeRoleResponse",ah="AssumedRoleUser",Fq="AssumeRoleWithWebIdentity",Lq="AssumeRoleWithWebIdentityRequest",Uq="AssumeRoleWithWebIdentityResponse",qq="Audience",ch="Credentials",Hq="ContextAssertion",XC="DurationSeconds",jq="Expiration",Bq="ExternalId",zq="ExpiredTokenException",Vq="IDPCommunicationErrorException",Wq="IDPRejectedClaimException",Gq="InvalidIdentityTokenException",Kq="Key",Yq="MalformedPolicyDocumentException",JC="Policy",QC="PolicyArns",Xq="ProviderArn",Jq="ProvidedContexts",Qq="ProvidedContextsListType",Zq="ProvidedContext",eH="PolicyDescriptorType",tH="ProviderId",ZC="PackedPolicySize",rH="PackedPolicyTooLargeException",nH="Provider",ev="RoleArn",oH="RegionDisabledException",tv="RoleSessionName",sH="SecretAccessKey",iH="SubjectFromWebIdentityToken",uh="SourceIdentity",aH="SerialNumber",cH="SessionToken",uH="Tags",dH="TokenCode",lH="TransitiveTagKeys",fH="Tag",pH="Value",mH="WebIdentityToken",hH="arn",gH="accessKeySecretType",Wn="awsQueryError",Gn="client",yH="clientTokenType",Kn="error",Yn="httpError",Xn="message",SH="policyDescriptorListType",rv="smithy.ts.sdk.synthetic.com.amazonaws.sts",EH="tagListType",ge="com.amazonaws.sts",nv=se.for(rv),ov=[-3,rv,"STSServiceException",0,[],[]];nv.registerError(ov,st);yn=se.for(ge),sv=[-3,ge,zq,{[Wn]:["ExpiredTokenException",400],[Kn]:Gn,[Yn]:400},[Xn],[0]];yn.registerError(sv,_i);iv=[-3,ge,Vq,{[Wn]:["IDPCommunicationError",400],[Kn]:Gn,[Yn]:400},[Xn],[0]];yn.registerError(iv,Ci);av=[-3,ge,Wq,{[Wn]:["IDPRejectedClaim",403],[Kn]:Gn,[Yn]:403},[Xn],[0]];yn.registerError(av,xi);cv=[-3,ge,Gq,{[Wn]:["InvalidIdentityToken",400],[Kn]:Gn,[Yn]:400},[Xn],[0]];yn.registerError(cv,Ri);uv=[-3,ge,Yq,{[Wn]:["MalformedPolicyDocument",400],[Kn]:Gn,[Yn]:400},[Xn],[0]];yn.registerError(uv,bi);dv=[-3,ge,rH,{[Wn]:["PackedPolicyTooLarge",400],[Kn]:Gn,[Yn]:400},[Xn],[0]];yn.registerError(dv,Ti);lv=[-3,ge,oH,{[Wn]:["RegionDisabledException",403],[Kn]:Gn,[Yn]:403},[Xn],[0]];yn.registerError(lv,Ai);dh=[nv,yn],wH=[0,ge,gH,8,0],_H=[0,ge,yH,8,0],lh=[3,ge,ah,0,[kq,Oq],[0,0],2],fv=[3,ge,$q,0,[ev,tv,QC,JC,XC,uH,lH,Bq,aH,dH,uh,Jq],[0,0,()=>Ev,0,1,()=>TH,64,0,0,0,0,()=>bH],2],pv=[3,ge,Mq,0,[ch,ah,ZC,uh],[[()=>fh,0],()=>lh,1,0]],mv=[3,ge,Lq,0,[ev,tv,mH,tH,QC,JC,XC],[0,0,[()=>_H,0],0,()=>Ev,0,1],3],hv=[3,ge,Uq,0,[ch,iH,ah,ZC,nH,qq,uh],[[()=>fh,0],0,()=>lh,1,0,0,0]],fh=[3,ge,ch,0,[Nq,sH,cH,jq],[0,[()=>wH,0],0,4],4],gv=[3,ge,eH,0,[hH],[0]],yv=[3,ge,Zq,0,[Xq,Hq],[0,0]],Sv=[3,ge,fH,0,[Kq,pH],[0,0],2],Ev=[1,ge,SH,0,()=>gv],bH=[1,ge,Qq,0,()=>yv],TH=[1,ge,EH,0,()=>Sv],ph=[9,ge,Dq,0,()=>fv,()=>pv],mh=[9,ge,Fq,0,()=>mv,()=>hv]});var wv,_v,Hu,ju,bv,Tv=E(()=>{Ne();Fn();Oe();wv=_(B()),_v=_(Zt()),Hu=_(ve()),ju=_(Ce());nh();KC();vi();bv=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Hu.fromBase64,base64Encoder:e?.base64Encoder??Hu.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??GC,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??bC,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new qe},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ft}],logger:e?.logger??new wv.NoOpLogger,protocol:e?.protocol??Zr,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",errorTypeRegistries:dh,xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??_v.parseUrl,utf8Decoder:e?.utf8Decoder??ju.fromUtf8,utf8Encoder:e?.utf8Encoder??ju.toUtf8})});var Bu,En,Av,zu,Sn,Vu,Wu,xv,Rv,Cv,vv,Iv=E(()=>{Ic();Ne();Bu=_(Lo()),En=_(ot());Oe();Av=_(Uo()),zu=_(qt()),Sn=_(or()),Vu=_($r()),Wu=_(B()),xv=_(qo()),Rv=_(Ho()),Cv=_(qn());Tv();vv=e=>{(0,Wu.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Rv.resolveDefaultsModeConfig)(e),r=()=>t().then(Wu.loadConfigsForDefaultMode),n=bv(e);Ur(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Sn.loadConfig)(Hr,o),bodyLengthChecker:e?.bodyLengthChecker??xv.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Bu.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Fo.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new qe},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ft}],maxAttempts:e?.maxAttempts??(0,Sn.loadConfig)(zu.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Sn.loadConfig)(En.NODE_REGION_CONFIG_OPTIONS,{...En.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Vu.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Sn.loadConfig)({...zu.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Cv.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??Av.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Vu.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Sn.loadConfig)(En.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Sn.loadConfig)(En.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Sn.loadConfig)(Bu.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var Pv,Ov,Nv=E(()=>{Pv=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},Ov=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Gu,Ku,Yu,Dv,kv=E(()=>{Gu=_(un()),Ku=_(ce()),Yu=_(B());Nv();Dv=(e,t)=>{let r=Object.assign((0,Gu.getAwsRegionExtensionConfiguration)(e),(0,Yu.getDefaultExtensionConfiguration)(e),(0,Ku.getHttpHandlerExtensionConfiguration)(e),Pv(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Gu.resolveAwsRegionExtensionConfiguration)(r),(0,Yu.resolveDefaultRuntimeConfig)(r),(0,Ku.resolveHttpHandlerRuntimeConfig)(r),Ov(r))}});var Xu,$v,Mv,Ju,Fv,Lv,Uv,Qu,hh,dr,wi=E(()=>{Xu=_(to()),$v=_(ro()),Mv=_(no()),Ju=_(Ln()),Fv=_(ot());Oe();ee();Lv=_(No()),Uv=_(Ut()),Qu=_(qt()),hh=_(B());nh();Uu();Iv();kv();dr=class extends hh.Client{config;constructor(...[t]){let r=vv(t||{});super(r),this.initConfig=r;let n=AC(r),o=(0,Ju.resolveUserAgentConfig)(n),s=(0,Qu.resolveRetryConfig)(o),i=(0,Fv.resolveRegionConfig)(s),a=(0,Xu.resolveHostHeaderConfig)(i),c=(0,Uv.resolveEndpointConfig)(a),u=TC(c),m=Dv(u,t?.extensions||[]);this.config=m,this.middlewareStack.use(Rn(this.config)),this.middlewareStack.use((0,Ju.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Qu.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Lv.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Xu.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,$v.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Mv.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(An(this.config,{httpAuthSchemeParametersProvider:_C,identityProviderConfigProvider:async l=>new Er({"aws.auth#sigv4":l.credentials})})),this.middlewareStack.use(xn(this.config))}destroy(){super.destroy()}}});var qv,Hv,Jn,Zu=E(()=>{qv=_(Ut()),Hv=_(B());Uu();vi();Jn=class extends Hv.Command.classBuilder().ep(Lu).m(function(t,r,n,o){return[(0,qv.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(ph).build(){}});var jv,Bv,Qn,ed=E(()=>{jv=_(Ut()),Bv=_(B());Uu();vi();Qn=class extends Bv.Command.classBuilder().ep(Lu).m(function(t,r,n,o){return[(0,jv.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(mh).build(){}});var zv,AH,td,Vv=E(()=>{zv=_(B());Zu();ed();wi();AH={AssumeRoleCommand:Jn,AssumeRoleWithWebIdentityCommand:Qn},td=class extends dr{};(0,zv.createAggregatedClient)(AH,td)});var Wv=E(()=>{Zu();ed()});var Gv=E(()=>{});var Kv,Yv,Xv,Jv,Qv,Zv,eI=E(()=>{ct();Kv=_(un());Zu();ed();Yv=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},Xv=async(e,t,r,n={})=>{let o=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t,i="",a=o??s??(i=await(0,Kv.stsRegionDefaultResolver)(n)());return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (credential provider clientConfig)`,`${s} (contextual client)`,`${i} (STS default: AWS_REGION, profile region, or us-east-1)`),a},Jv=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:m=e?.parentClientConfig?.logger,profile:l=e?.parentClientConfig?.profile,region:g,requestHandler:h=e?.parentClientConfig?.requestHandler,credentialProviderLogger:y,userAgentAppId:A=e?.parentClientConfig?.userAgentAppId}=e,R=await Xv(g,e?.parentClientConfig?.region,y,{logger:m,profile:l}),v=!Zv(h);r=new t({...e,userAgentAppId:A,profile:l,credentialDefaultProvider:()=>async()=>n,region:R,requestHandler:v?h:void 0,logger:m})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new Jn(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let c=Yv(a),u={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...c&&{accountId:c}};return qr(u,"CREDENTIALS_STS_ASSUME_ROLE","i"),u}},Qv=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,profile:u=e?.parentClientConfig?.profile,region:m,requestHandler:l=e?.parentClientConfig?.requestHandler,credentialProviderLogger:g,userAgentAppId:h=e?.parentClientConfig?.userAgentAppId}=e,y=await Xv(m,e?.parentClientConfig?.region,g,{logger:c,profile:u}),A=!Zv(l);r=new t({...e,userAgentAppId:h,profile:u,region:y,requestHandler:A?l:void 0,logger:c})}let{Credentials:o,AssumedRoleUser:s}=await r.send(new Qn(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=Yv(s),a={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...i&&{accountId:i}};return i&&qr(a,"RESOLVED_ACCOUNT_ID","T"),qr(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},Zv=e=>e?.metadata?.handlerProtocol==="h2"});var tI,rI,nI,xH,oI=E(()=>{eI();wi();tI=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,rI=(e={},t)=>Jv(e,tI(dr,t)),nI=(e={},t)=>Qv(e,tI(dr,t)),xH=e=>t=>e({roleAssumer:rI(t),roleAssumerWithWebIdentity:nI(t),...t})});var gh={};Ye(gh,{AssumeRole$:()=>ph,AssumeRoleCommand:()=>Jn,AssumeRoleRequest$:()=>fv,AssumeRoleResponse$:()=>pv,AssumeRoleWithWebIdentity$:()=>mh,AssumeRoleWithWebIdentityCommand:()=>Qn,AssumeRoleWithWebIdentityRequest$:()=>mv,AssumeRoleWithWebIdentityResponse$:()=>hv,AssumedRoleUser$:()=>lh,Credentials$:()=>fh,ExpiredTokenException:()=>_i,ExpiredTokenException$:()=>sv,IDPCommunicationErrorException:()=>Ci,IDPCommunicationErrorException$:()=>iv,IDPRejectedClaimException:()=>xi,IDPRejectedClaimException$:()=>av,InvalidIdentityTokenException:()=>Ri,InvalidIdentityTokenException$:()=>cv,MalformedPolicyDocumentException:()=>bi,MalformedPolicyDocumentException$:()=>uv,PackedPolicyTooLargeException:()=>Ti,PackedPolicyTooLargeException$:()=>dv,PolicyDescriptorType$:()=>gv,ProvidedContext$:()=>yv,RegionDisabledException:()=>Ai,RegionDisabledException$:()=>lv,STS:()=>td,STSClient:()=>dr,STSServiceException:()=>st,STSServiceException$:()=>ov,Tag$:()=>Sv,__Client:()=>hh.Client,decorateDefaultCredentialProvider:()=>xH,errorTypeRegistries:()=>dh,getDefaultRoleAssumer:()=>rI,getDefaultRoleAssumerWithWebIdentity:()=>nI});var yh=E(()=>{wi();Vv();Wv();vi();ih();Gv();oI();qu()});var wh=P(sI=>{"use strict";var Eh=nr(),Sh=He(),RH=require("child_process"),CH=require("util"),vH=(ct(),G(er)),IH=(e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let s=new Date;if(new Date(t.Expiration)<s)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let o={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return vH.setCredentialFeature(o,"CREDENTIALS_PROCESS","w"),o},PH=async(e,t,r)=>{let n=t[e];if(t[e]){let o=n.credential_process;if(o!==void 0){let s=CH.promisify(Eh.externalDataInterceptor?.getTokenRecord?.().exec??RH.exec);try{let{stdout:i}=await s(o),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return IH(e,a,t)}catch(i){throw new Sh.CredentialsProviderError(i.message,{logger:r})}}else throw new Sh.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new Sh.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},OH=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await Eh.parseKnownFiles(e);return PH(Eh.getProfileName({profile:e.profile??t?.profile}),r,e.logger)};sI.fromProcess=OH});var _h=P(fr=>{"use strict";var NH=fr&&fr.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),DH=fr&&fr.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),kH=fr&&fr.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&NH(r,t,n[o]);return DH(r,t),r}})();Object.defineProperty(fr,"__esModule",{value:!0});fr.fromWebToken=void 0;var $H=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:o,providerId:s,policyArns:i,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:u}=e;if(!u){let{getDefaultRoleAssumerWithWebIdentity:m}=await Promise.resolve().then(()=>kH((yh(),G(gh))));u=m({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return u({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:s,PolicyArns:i,Policy:a,DurationSeconds:c})};fr.fromWebToken=$H});var aI=P(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.fromTokenFile=void 0;var MH=(ct(),G(er)),FH=He(),LH=nr(),UH=require("fs"),qH=_h(),iI="AWS_WEB_IDENTITY_TOKEN_FILE",HH="AWS_ROLE_ARN",jH="AWS_ROLE_SESSION_NAME",BH=(e={})=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=e?.webIdentityTokenFile??process.env[iI],n=e?.roleArn??process.env[HH],o=e?.roleSessionName??process.env[jH];if(!r||!n)throw new FH.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,qH.fromWebToken)({...e,webIdentityToken:LH.externalDataInterceptor?.getTokenRecord?.()[r]??(0,UH.readFileSync)(r,{encoding:"ascii"}),roleArn:n,roleSessionName:o})(t);return r===process.env[iI]&&(0,MH.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};rd.fromTokenFile=BH});var bh=P(Ii=>{"use strict";var cI=aI(),uI=_h();Object.keys(cI).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ii,e)&&Object.defineProperty(Ii,e,{enumerable:!0,get:function(){return cI[e]}})});Object.keys(uI).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ii,e)&&Object.defineProperty(Ii,e,{enumerable:!0,get:function(){return uI[e]}})})});var hI=P(mI=>{"use strict";var Ah=nr(),Pi=He(),Pr=(ct(),G(er)),zH=wC(),VH=(e,t,r)=>{let n={EcsContainer:async o=>{let{fromHttp:s}=await Promise.resolve().then(()=>_(sm())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>_(Us()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>Pi.chain(s(o??{}),i(o))().then(Th)},Ec2InstanceMetadata:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:s}=await Promise.resolve().then(()=>_(Us()));return async()=>s(o)().then(Th)},Environment:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:s}=await Promise.resolve().then(()=>_(Jp()));return async()=>s(o)().then(Th)}};if(e in n)return n[e];throw new Pi.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},Th=e=>Pr.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),WH=(e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(GH(e,{profile:t,logger:r})||KH(e,{profile:t,logger:r})),GH=(e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},KH=(e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},YH=async(e,t,r,n,o={},s)=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let i=t[e],{source_profile:a,region:c}=i;if(!r.roleAssumer){let{getDefaultRoleAssumer:m}=await Promise.resolve().then(()=>(yh(),gh));r.roleAssumer=m({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...n,...r?.parentClientConfig,region:c??r?.parentClientConfig?.region??n?.region}},r.clientPlugins)}if(a&&a in o)throw new Pi.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${Ah.getProfileName(r)}. Profiles visited: `+Object.keys(o).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${a?`source_profile=[${a}]`:`profile=[${e}]`}`);let u=a?s(a,t,r,n,{...o,[a]:!0},dI(t[a]??{})):(await VH(i.credential_source,e,r.logger)(r))();if(dI(i))return u.then(m=>Pr.setCredentialFeature(m,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let m={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:l}=i;if(l){if(!r.mfaCodeProvider)throw new Pi.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});m.SerialNumber=l,m.TokenCode=await r.mfaCodeProvider(l)}let g=await u;return r.roleAssumer(g,m).then(h=>Pr.setCredentialFeature(h,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},dI=e=>!e.role_arn&&!!e.credential_source,XH=e=>!!(e&&e.login_session),JH=async(e,t,r)=>{let n=await zH.fromLoginCredentials({...t,profile:e})({callerClientConfig:r});return Pr.setCredentialFeature(n,"CREDENTIALS_PROFILE_LOGIN","AC")},QH=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",ZH=async(e,t)=>Promise.resolve().then(()=>_(wh())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>Pr.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),ej=async(e,t,r={},n)=>{let{fromSSO:o}=await Promise.resolve().then(()=>_(Fm()));return o({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})({callerClientConfig:n}).then(s=>t.sso_session?Pr.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO","r"):Pr.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},tj=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),lI=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,fI=async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return Pr.setCredentialFeature(r,"CREDENTIALS_PROFILE","n")},rj=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,nj=async(e,t,r)=>Promise.resolve().then(()=>_(bh())).then(({fromTokenFile:n})=>n({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})({callerClientConfig:r}).then(o=>Pr.setCredentialFeature(o,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),pI=async(e,t,r,n,o={},s=!1)=>{let i=t[e];if(Object.keys(o).length>0&&lI(i))return fI(i,r);if(s||WH(i,{profile:e,logger:r.logger}))return YH(e,t,r,n,o,pI);if(lI(i))return fI(i,r);if(rj(i))return nj(i,r,n);if(QH(i))return ZH(r,e);if(tj(i))return await ej(e,i,r,n);if(XH(i))return JH(e,r,n);throw new Pi.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},oj=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await Ah.parseKnownFiles(e);return pI(Ah.getProfileName({profile:e.profile??t?.profile}),r,e,t)};mI.fromIni=oj});var EI=P(nd=>{"use strict";var xh=Jp(),Oi=He(),sj=nr(),gI="AWS_EC2_METADATA_DISABLED",ij=async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:o}=await Promise.resolve().then(()=>_(Us()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>_(sm()));return Oi.chain(s(e),n(e))}return process.env[gI]&&process.env[gI]!=="false"?async()=>{throw new Oi.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),o(e))};function aj(e,t){let r=cj(e),n,o,s,i=async a=>{if(a?.forceRefresh)return await r(a);if(s?.expiration&&s?.expiration?.getTime()<Date.now()&&(s=void 0),n)await n;else if(!s||t?.(s))if(s)o||(o=r(a).then(c=>{s=c}).finally(()=>{o=void 0}));else return n=r(a).then(c=>{s=c}).finally(()=>{n=void 0}),i(a);return s};return i}var cj=e=>async t=>{let r;for(let n of e)try{return await n(t)}catch(o){if(r=o,o?.tryNextLink)continue;throw o}throw r},yI=!1,uj=(e={})=>aj([async()=>{if(e.profile??process.env[sj.ENV_PROFILE])throw process.env[xh.ENV_KEY]&&process.env[xh.ENV_SECRET]&&(yI||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),yI=!0)),new Oi.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),xh.fromEnv(e)()},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e;if(!r&&!n&&!o&&!s&&!i)throw new Oi.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:a}=await Promise.resolve().then(()=>_(Fm()));return a(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>_(hI()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>_(wh()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>_(bh()));return r(e)(t)},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await ij(e))()),async()=>{throw new Oi.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}],SI),dj=e=>e?.expiration!==void 0,SI=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;nd.credentialsTreatedAsExpired=SI;nd.credentialsWillNeedRefresh=dj;nd.defaultProvider=uj});var II=P(Gt=>{"use strict";var rs=wr(),lj=Zt(),_I=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!_I(r))return!1;return!0}return!(!rs.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||rs.isIpAddress(e))},wI=":",fj="/",pj=e=>{let t=e.split(wI);if(t.length<6)return null;let[r,n,o,s,i,...a]=t;if(r!=="arn"||n===""||o===""||a.join(wI)==="")return null;let c=a.map(u=>u.split(fj)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:c}},mj=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"AWS European Sovereign Cloud (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],hj="1.1",bI={partitions:mj,version:hj},TI=bI,AI="",xI=e=>{let{partitions:t}=TI;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},RI=(e,t="")=>{TI=e,AI=t},gj=()=>{RI(bI,"")},yj=()=>AI,CI={isVirtualHostableS3Bucket:_I,parseArn:pj,partition:xI};rs.customEndpointFunctions.aws=CI;var Sj=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>vI(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},vI=e=>lj.parseUrl(e.url);Object.defineProperty(Gt,"EndpointError",{enumerable:!0,get:function(){return rs.EndpointError}});Object.defineProperty(Gt,"isIpAddress",{enumerable:!0,get:function(){return rs.isIpAddress}});Object.defineProperty(Gt,"resolveEndpoint",{enumerable:!0,get:function(){return rs.resolveEndpoint}});Gt.awsEndpointFunctions=CI;Gt.getUserAgentPrefix=yj;Gt.partition=xI;Gt.resolveDefaultAwsRegionalEndpointsConfig=Sj;Gt.setPartitionInfo=RI;Gt.toEndpointV1=vI;Gt.useDefaultPartitionInfo=gj});var JI=P(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.ruleSet=void 0;var HI="required",V="type",ne="fn",oe="argv",_n="ref",PI=!1,Rh=!0,wn="booleanEquals",Me="stringEquals",jI="sigv4",BI="sts",zI="us-east-1",ye="endpoint",OI="https://sts.{Region}.{PartitionResult#dnsSuffix}",pr="tree",ns="error",vh="getAttr",NI={[HI]:!1,[V]:"string"},Ch={[HI]:!0,default:!1,[V]:"boolean"},VI={[_n]:"Endpoint"},DI={[ne]:"isSet",[oe]:[{[_n]:"Region"}]},Fe={[_n]:"Region"},kI={[ne]:"aws.partition",[oe]:[Fe],assign:"PartitionResult"},WI={[_n]:"UseFIPS"},GI={[_n]:"UseDualStack"},Ke={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:jI,signingName:BI,signingRegion:zI}]},headers:{}},pt={},$I={conditions:[{[ne]:Me,[oe]:[Fe,"aws-global"]}],[ye]:Ke,[V]:ye},KI={[ne]:wn,[oe]:[WI,!0]},YI={[ne]:wn,[oe]:[GI,!0]},MI={[ne]:vh,[oe]:[{[_n]:"PartitionResult"},"supportsFIPS"]},XI={[_n]:"PartitionResult"},FI={[ne]:wn,[oe]:[!0,{[ne]:vh,[oe]:[XI,"supportsDualStack"]}]},LI=[{[ne]:"isSet",[oe]:[VI]}],UI=[KI],qI=[YI],Ej={version:"1.0",parameters:{Region:NI,UseDualStack:Ch,UseFIPS:Ch,Endpoint:NI,UseGlobalEndpoint:Ch},rules:[{conditions:[{[ne]:wn,[oe]:[{[_n]:"UseGlobalEndpoint"},Rh]},{[ne]:"not",[oe]:LI},DI,kI,{[ne]:wn,[oe]:[WI,PI]},{[ne]:wn,[oe]:[GI,PI]}],rules:[{conditions:[{[ne]:Me,[oe]:[Fe,"ap-northeast-1"]}],endpoint:Ke,[V]:ye},{conditions:[{[ne]:Me,[oe]:[Fe,"ap-south-1"]}],endpoint:Ke,[V]:ye},{conditions:[{[ne]:Me,[oe]:[Fe,"ap-southeast-1"]}],endpoint:Ke,[V]:ye},{conditions:[{[ne]:Me,[oe]:[Fe,"ap-southeast-2"]}],endpoint:Ke,[V]:ye},$I,{conditions:[{[ne]:Me,[oe]:[Fe,"ca-central-1"]}],endpoint:Ke,[V]:ye},{conditions:[{[ne]:Me,[oe]:[Fe,"eu-central-1"]}],endpoint:Ke,[V]:ye},{conditions:[{[ne]:Me,[oe]:[Fe,"eu-north-1"]}],endpoint:Ke,[V]:ye},{conditions:[{[ne]:Me,[oe]:[Fe,"eu-west-1"]}],endpoint:Ke,[V]:ye},{conditions:[{[ne]:Me,[oe]:[Fe,"eu-west-2"]}],endpoint:Ke,[V]:ye},{conditions:[{[ne]:Me,[oe]:[Fe,"eu-west-3"]}],endpoint:Ke,[V]:ye},{conditions:[{[ne]:Me,[oe]:[Fe,"sa-east-1"]}],endpoint:Ke,[V]:ye},{conditions:[{[ne]:Me,[oe]:[Fe,zI]}],endpoint:Ke,[V]:ye},{conditions:[{[ne]:Me,[oe]:[Fe,"us-east-2"]}],endpoint:Ke,[V]:ye},{conditions:[{[ne]:Me,[oe]:[Fe,"us-west-1"]}],endpoint:Ke,[V]:ye},{conditions:[{[ne]:Me,[oe]:[Fe,"us-west-2"]}],endpoint:Ke,[V]:ye},{endpoint:{url:OI,properties:{authSchemes:[{name:jI,signingName:BI,signingRegion:"{Region}"}]},headers:pt},[V]:ye}],[V]:pr},{conditions:LI,rules:[{conditions:UI,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[V]:ns},{conditions:qI,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[V]:ns},{endpoint:{url:VI,properties:pt,headers:pt},[V]:ye}],[V]:pr},{conditions:[DI],rules:[{conditions:[kI],rules:[{conditions:[KI,YI],rules:[{conditions:[{[ne]:wn,[oe]:[Rh,MI]},FI],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:pt,headers:pt},[V]:ye}],[V]:pr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[V]:ns}],[V]:pr},{conditions:UI,rules:[{conditions:[{[ne]:wn,[oe]:[MI,Rh]}],rules:[{conditions:[{[ne]:Me,[oe]:[{[ne]:vh,[oe]:[XI,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:pt,headers:pt},[V]:ye},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:pt,headers:pt},[V]:ye}],[V]:pr},{error:"FIPS is enabled but this partition does not support FIPS",[V]:ns}],[V]:pr},{conditions:qI,rules:[{conditions:[FI],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:pt,headers:pt},[V]:ye}],[V]:pr},{error:"DualStack is enabled but this partition does not support DualStack",[V]:ns}],[V]:pr},$I,{endpoint:{url:OI,properties:pt,headers:pt},[V]:ye}],[V]:pr}],[V]:pr},{error:"Invalid Configuration: Missing Region",[V]:ns}]};od.ruleSet=Ej});var QI=P(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.defaultEndpointResolver=void 0;var wj=II(),Ih=wr(),_j=JI(),bj=new Ih.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),Tj=(e,t={})=>bj.get(e,()=>(0,Ih.resolveEndpoint)(_j.ruleSet,{endpointParams:e,logger:t.logger}));sd.defaultEndpointResolver=Tj;Ih.customEndpointFunctions.aws=wj.awsEndpointFunctions});var id=P(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.STSServiceException=os.__ServiceException=void 0;var ZI=B();Object.defineProperty(os,"__ServiceException",{enumerable:!0,get:function(){return ZI.ServiceException}});var Ph=class e extends ZI.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}};os.STSServiceException=Ph});var Bh=P(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.SessionDurationEscalationException=fe.OutboundWebIdentityFederationDisabledException=fe.JWTPayloadSizeExceededException=fe.ExpiredTradeInTokenException=fe.InvalidAuthorizationMessageException=fe.IDPCommunicationErrorException=fe.InvalidIdentityTokenException=fe.IDPRejectedClaimException=fe.RegionDisabledException=fe.PackedPolicyTooLargeException=fe.MalformedPolicyDocumentException=fe.ExpiredTokenException=void 0;var vt=id(),Oh=class e extends vt.STSServiceException{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};fe.ExpiredTokenException=Oh;var Nh=class e extends vt.STSServiceException{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};fe.MalformedPolicyDocumentException=Nh;var Dh=class e extends vt.STSServiceException{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};fe.PackedPolicyTooLargeException=Dh;var kh=class e extends vt.STSServiceException{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};fe.RegionDisabledException=kh;var $h=class e extends vt.STSServiceException{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};fe.IDPRejectedClaimException=$h;var Mh=class e extends vt.STSServiceException{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};fe.InvalidIdentityTokenException=Mh;var Fh=class e extends vt.STSServiceException{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};fe.IDPCommunicationErrorException=Fh;var Lh=class e extends vt.STSServiceException{name="InvalidAuthorizationMessageException";$fault="client";constructor(t){super({name:"InvalidAuthorizationMessageException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};fe.InvalidAuthorizationMessageException=Lh;var Uh=class e extends vt.STSServiceException{name="ExpiredTradeInTokenException";$fault="client";constructor(t){super({name:"ExpiredTradeInTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};fe.ExpiredTradeInTokenException=Uh;var qh=class e extends vt.STSServiceException{name="JWTPayloadSizeExceededException";$fault="client";constructor(t){super({name:"JWTPayloadSizeExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};fe.JWTPayloadSizeExceededException=qh;var Hh=class e extends vt.STSServiceException{name="OutboundWebIdentityFederationDisabledException";$fault="client";constructor(t){super({name:"OutboundWebIdentityFederationDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};fe.OutboundWebIdentityFederationDisabledException=Hh;var jh=class e extends vt.STSServiceException{name="SessionDurationEscalationException";$fault="client";constructor(t){super({name:"SessionDurationEscalationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};fe.SessionDurationEscalationException=jh});var Yh=P(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.GetDelegatedAccessToken$=T.GetCallerIdentity$=T.GetAccessKeyInfo$=T.DecodeAuthorizationMessage$=T.AssumeRoot$=T.AssumeRoleWithWebIdentity$=T.AssumeRoleWithSAML$=T.AssumeRole$=T.Tag$=T.ProvidedContext$=T.PolicyDescriptorType$=T.GetWebIdentityTokenResponse$=T.GetWebIdentityTokenRequest$=T.GetSessionTokenResponse$=T.GetSessionTokenRequest$=T.GetFederationTokenResponse$=T.GetFederationTokenRequest$=T.GetDelegatedAccessTokenResponse$=T.GetDelegatedAccessTokenRequest$=T.GetCallerIdentityResponse$=T.GetCallerIdentityRequest$=T.GetAccessKeyInfoResponse$=T.GetAccessKeyInfoRequest$=T.FederatedUser$=T.DecodeAuthorizationMessageResponse$=T.DecodeAuthorizationMessageRequest$=T.Credentials$=T.AssumeRootResponse$=T.AssumeRootRequest$=T.AssumeRoleWithWebIdentityResponse$=T.AssumeRoleWithWebIdentityRequest$=T.AssumeRoleWithSAMLResponse$=T.AssumeRoleWithSAMLRequest$=T.AssumeRoleResponse$=T.AssumeRoleRequest$=T.AssumedRoleUser$=T.errorTypeRegistries=T.SessionDurationEscalationException$=T.RegionDisabledException$=T.PackedPolicyTooLargeException$=T.OutboundWebIdentityFederationDisabledException$=T.MalformedPolicyDocumentException$=T.JWTPayloadSizeExceededException$=T.InvalidIdentityTokenException$=T.InvalidAuthorizationMessageException$=T.IDPRejectedClaimException$=T.IDPCommunicationErrorException$=T.ExpiredTradeInTokenException$=T.ExpiredTokenException$=T.STSServiceException$=void 0;T.GetWebIdentityToken$=T.GetSessionToken$=T.GetFederationToken$=void 0;var zh="Arn",e0="AccessKeyId",Aj="AssumedPrincipal",xj="AssumeRole",Rj="AssumedRoleId",Cj="AssumeRoleRequest",vj="AssumeRoleResponse",Ij="AssumeRootRequest",Pj="AssumeRootResponse",ad="AssumedRoleUser",Oj="AssumeRoleWithSAML",Nj="AssumeRoleWithSAMLRequest",Dj="AssumeRoleWithSAMLResponse",kj="AssumeRoleWithWebIdentity",$j="AssumeRoleWithWebIdentityRequest",Mj="AssumeRoleWithWebIdentityResponse",Fj="AssumeRoot",t0="Account",Vh="Audience",bn="Credentials",Lj="ContextAssertion",Uj="DecodeAuthorizationMessage",qj="DecodeAuthorizationMessageRequest",Hj="DecodeAuthorizationMessageResponse",jj="DecodedMessage",Zn="DurationSeconds",r0="Expiration",Bj="ExternalId",zj="EncodedMessage",Vj="ExpiredTokenException",Wj="ExpiredTradeInTokenException",n0="FederatedUser",Gj="FederatedUserId",Kj="GetAccessKeyInfo",Yj="GetAccessKeyInfoRequest",Xj="GetAccessKeyInfoResponse",Jj="GetCallerIdentity",Qj="GetCallerIdentityRequest",Zj="GetCallerIdentityResponse",e2="GetDelegatedAccessToken",t2="GetDelegatedAccessTokenRequest",r2="GetDelegatedAccessTokenResponse",n2="GetFederationToken",o2="GetFederationTokenRequest",s2="GetFederationTokenResponse",i2="GetSessionToken",a2="GetSessionTokenRequest",c2="GetSessionTokenResponse",u2="GetWebIdentityToken",d2="GetWebIdentityTokenRequest",l2="GetWebIdentityTokenResponse",f2="Issuer",p2="InvalidAuthorizationMessageException",m2="IDPCommunicationErrorException",h2="IDPRejectedClaimException",g2="InvalidIdentityTokenException",y2="JWTPayloadSizeExceededException",S2="Key",E2="MalformedPolicyDocumentException",w2="Name",_2="NameQualifier",b2="OutboundWebIdentityFederationDisabledException",cd="Policy",ud="PolicyArns",T2="PrincipalArn",A2="ProviderArn",x2="ProvidedContexts",R2="ProvidedContextsListType",C2="ProvidedContext",v2="PolicyDescriptorType",I2="ProviderId",Ni="PackedPolicySize",P2="PackedPolicyTooLargeException",O2="Provider",Wh="RoleArn",N2="RegionDisabledException",o0="RoleSessionName",D2="Subject",k2="SigningAlgorithm",$2="SecretAccessKey",M2="SAMLAssertion",F2="SAMLAssertionType",L2="SessionDurationEscalationException",U2="SubjectFromWebIdentityToken",Di="SourceIdentity",s0="SerialNumber",q2="SubjectType",H2="SessionToken",Gh="Tags",i0="TokenCode",j2="TradeInToken",B2="TargetPrincipal",z2="TaskPolicyArn",V2="TransitiveTagKeys",W2="Tag",G2="UserId",K2="Value",a0="WebIdentityToken",Y2="arn",X2="accessKeySecretType",It="awsQueryError",Pt="client",J2="clientTokenType",Ot="error",Nt="httpError",Dt="message",Q2="policyDescriptorListType",c0="smithy.ts.sdk.synthetic.com.amazonaws.sts",Z2="tradeInTokenType",eB="tagListType",tB="webIdentityTokenType",M="com.amazonaws.sts",u0=(ee(),G(uo)),kt=Bh(),rB=id(),d0=u0.TypeRegistry.for(c0);T.STSServiceException$=[-3,c0,"STSServiceException",0,[],[]];d0.registerError(T.STSServiceException$,rB.STSServiceException);var mt=u0.TypeRegistry.for(M);T.ExpiredTokenException$=[-3,M,Vj,{[It]:["ExpiredTokenException",400],[Ot]:Pt,[Nt]:400},[Dt],[0]];mt.registerError(T.ExpiredTokenException$,kt.ExpiredTokenException);T.ExpiredTradeInTokenException$=[-3,M,Wj,{[It]:["ExpiredTradeInTokenException",400],[Ot]:Pt,[Nt]:400},[Dt],[0]];mt.registerError(T.ExpiredTradeInTokenException$,kt.ExpiredTradeInTokenException);T.IDPCommunicationErrorException$=[-3,M,m2,{[It]:["IDPCommunicationError",400],[Ot]:Pt,[Nt]:400},[Dt],[0]];mt.registerError(T.IDPCommunicationErrorException$,kt.IDPCommunicationErrorException);T.IDPRejectedClaimException$=[-3,M,h2,{[It]:["IDPRejectedClaim",403],[Ot]:Pt,[Nt]:403},[Dt],[0]];mt.registerError(T.IDPRejectedClaimException$,kt.IDPRejectedClaimException);T.InvalidAuthorizationMessageException$=[-3,M,p2,{[It]:["InvalidAuthorizationMessageException",400],[Ot]:Pt,[Nt]:400},[Dt],[0]];mt.registerError(T.InvalidAuthorizationMessageException$,kt.InvalidAuthorizationMessageException);T.InvalidIdentityTokenException$=[-3,M,g2,{[It]:["InvalidIdentityToken",400],[Ot]:Pt,[Nt]:400},[Dt],[0]];mt.registerError(T.InvalidIdentityTokenException$,kt.InvalidIdentityTokenException);T.JWTPayloadSizeExceededException$=[-3,M,y2,{[It]:["JWTPayloadSizeExceededException",400],[Ot]:Pt,[Nt]:400},[Dt],[0]];mt.registerError(T.JWTPayloadSizeExceededException$,kt.JWTPayloadSizeExceededException);T.MalformedPolicyDocumentException$=[-3,M,E2,{[It]:["MalformedPolicyDocument",400],[Ot]:Pt,[Nt]:400},[Dt],[0]];mt.registerError(T.MalformedPolicyDocumentException$,kt.MalformedPolicyDocumentException);T.OutboundWebIdentityFederationDisabledException$=[-3,M,b2,{[It]:["OutboundWebIdentityFederationDisabledException",403],[Ot]:Pt,[Nt]:403},[Dt],[0]];mt.registerError(T.OutboundWebIdentityFederationDisabledException$,kt.OutboundWebIdentityFederationDisabledException);T.PackedPolicyTooLargeException$=[-3,M,P2,{[It]:["PackedPolicyTooLarge",400],[Ot]:Pt,[Nt]:400},[Dt],[0]];mt.registerError(T.PackedPolicyTooLargeException$,kt.PackedPolicyTooLargeException);T.RegionDisabledException$=[-3,M,N2,{[It]:["RegionDisabledException",403],[Ot]:Pt,[Nt]:403},[Dt],[0]];mt.registerError(T.RegionDisabledException$,kt.RegionDisabledException);T.SessionDurationEscalationException$=[-3,M,L2,{[It]:["SessionDurationEscalationException",403],[Ot]:Pt,[Nt]:403},[Dt],[0]];mt.registerError(T.SessionDurationEscalationException$,kt.SessionDurationEscalationException);T.errorTypeRegistries=[d0,mt];var nB=[0,M,X2,8,0],oB=[0,M,J2,8,0],sB=[0,M,F2,8,0],iB=[0,M,Z2,8,0],aB=[0,M,tB,8,0];T.AssumedRoleUser$=[3,M,ad,0,[Rj,zh],[0,0],2];T.AssumeRoleRequest$=[3,M,Cj,0,[Wh,o0,ud,cd,Zn,Gh,V2,Bj,s0,i0,Di,x2],[0,0,()=>dd,0,1,()=>Kh,64,0,0,0,0,()=>cB],2];T.AssumeRoleResponse$=[3,M,vj,0,[bn,ad,Ni,Di],[[()=>T.Credentials$,0],()=>T.AssumedRoleUser$,1,0]];T.AssumeRoleWithSAMLRequest$=[3,M,Nj,0,[Wh,T2,M2,ud,cd,Zn],[0,0,[()=>sB,0],()=>dd,0,1],3];T.AssumeRoleWithSAMLResponse$=[3,M,Dj,0,[bn,ad,Ni,D2,q2,f2,Vh,_2,Di],[[()=>T.Credentials$,0],()=>T.AssumedRoleUser$,1,0,0,0,0,0,0]];T.AssumeRoleWithWebIdentityRequest$=[3,M,$j,0,[Wh,o0,a0,I2,ud,cd,Zn],[0,0,[()=>oB,0],0,()=>dd,0,1],3];T.AssumeRoleWithWebIdentityResponse$=[3,M,Mj,0,[bn,U2,ad,Ni,O2,Vh,Di],[[()=>T.Credentials$,0],0,()=>T.AssumedRoleUser$,1,0,0,0]];T.AssumeRootRequest$=[3,M,Ij,0,[B2,z2,Zn],[0,()=>T.PolicyDescriptorType$,1],2];T.AssumeRootResponse$=[3,M,Pj,0,[bn,Di],[[()=>T.Credentials$,0],0]];T.Credentials$=[3,M,bn,0,[e0,$2,H2,r0],[0,[()=>nB,0],0,4],4];T.DecodeAuthorizationMessageRequest$=[3,M,qj,0,[zj],[0],1];T.DecodeAuthorizationMessageResponse$=[3,M,Hj,0,[jj],[0]];T.FederatedUser$=[3,M,n0,0,[Gj,zh],[0,0],2];T.GetAccessKeyInfoRequest$=[3,M,Yj,0,[e0],[0],1];T.GetAccessKeyInfoResponse$=[3,M,Xj,0,[t0],[0]];T.GetCallerIdentityRequest$=[3,M,Qj,0,[],[]];T.GetCallerIdentityResponse$=[3,M,Zj,0,[G2,t0,zh],[0,0,0]];T.GetDelegatedAccessTokenRequest$=[3,M,t2,0,[j2],[[()=>iB,0]],1];T.GetDelegatedAccessTokenResponse$=[3,M,r2,0,[bn,Ni,Aj],[[()=>T.Credentials$,0],1,0]];T.GetFederationTokenRequest$=[3,M,o2,0,[w2,cd,ud,Zn,Gh],[0,0,()=>dd,1,()=>Kh],1];T.GetFederationTokenResponse$=[3,M,s2,0,[bn,n0,Ni],[[()=>T.Credentials$,0],()=>T.FederatedUser$,1]];T.GetSessionTokenRequest$=[3,M,a2,0,[Zn,s0,i0],[1,0,0]];T.GetSessionTokenResponse$=[3,M,c2,0,[bn],[[()=>T.Credentials$,0]]];T.GetWebIdentityTokenRequest$=[3,M,d2,0,[Vh,k2,Zn,Gh],[64,0,1,()=>Kh],2];T.GetWebIdentityTokenResponse$=[3,M,l2,0,[a0,r0],[[()=>aB,0],4]];T.PolicyDescriptorType$=[3,M,v2,0,[Y2],[0]];T.ProvidedContext$=[3,M,C2,0,[A2,Lj],[0,0]];T.Tag$=[3,M,W2,0,[S2,K2],[0,0],2];var dd=[1,M,Q2,0,()=>T.PolicyDescriptorType$],cB=[1,M,R2,0,()=>T.ProvidedContext$],Kh=[1,M,eB,0,()=>T.Tag$];T.AssumeRole$=[9,M,xj,0,()=>T.AssumeRoleRequest$,()=>T.AssumeRoleResponse$];T.AssumeRoleWithSAML$=[9,M,Oj,0,()=>T.AssumeRoleWithSAMLRequest$,()=>T.AssumeRoleWithSAMLResponse$];T.AssumeRoleWithWebIdentity$=[9,M,kj,0,()=>T.AssumeRoleWithWebIdentityRequest$,()=>T.AssumeRoleWithWebIdentityResponse$];T.AssumeRoot$=[9,M,Fj,0,()=>T.AssumeRootRequest$,()=>T.AssumeRootResponse$];T.DecodeAuthorizationMessage$=[9,M,Uj,0,()=>T.DecodeAuthorizationMessageRequest$,()=>T.DecodeAuthorizationMessageResponse$];T.GetAccessKeyInfo$=[9,M,Kj,0,()=>T.GetAccessKeyInfoRequest$,()=>T.GetAccessKeyInfoResponse$];T.GetCallerIdentity$=[9,M,Jj,0,()=>T.GetCallerIdentityRequest$,()=>T.GetCallerIdentityResponse$];T.GetDelegatedAccessToken$=[9,M,e2,0,()=>T.GetDelegatedAccessTokenRequest$,()=>T.GetDelegatedAccessTokenResponse$];T.GetFederationToken$=[9,M,n2,0,()=>T.GetFederationTokenRequest$,()=>T.GetFederationTokenResponse$];T.GetSessionToken$=[9,M,i2,0,()=>T.GetSessionTokenRequest$,()=>T.GetSessionTokenResponse$];T.GetWebIdentityToken$=[9,M,u2,0,()=>T.GetWebIdentityTokenRequest$,()=>T.GetWebIdentityTokenResponse$]});var p0=P(ld=>{"use strict";Object.defineProperty(ld,"__esModule",{value:!0});ld.getRuntimeConfig=void 0;var uB=(Ne(),G(en)),dB=(Fn(),G(vp)),lB=(Oe(),G(Fr)),fB=B(),pB=Zt(),l0=ve(),f0=Ce(),mB=Kp(),hB=QI(),gB=Yh(),yB=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??l0.fromBase64,base64Encoder:e?.base64Encoder??l0.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??hB.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??mB.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new uB.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new lB.NoAuthSigner}],logger:e?.logger??new fB.NoOpLogger,protocol:e?.protocol??dB.AwsQueryProtocol,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",errorTypeRegistries:gB.errorTypeRegistries,xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??pB.parseUrl,utf8Decoder:e?.utf8Decoder??f0.fromUtf8,utf8Encoder:e?.utf8Encoder??f0.toUtf8});ld.getRuntimeConfig=yB});var E0=P(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});pd.getRuntimeConfig=void 0;var SB=(bs(),G(_s)),EB=SB.__importDefault(rT()),Xh=(Ne(),G(en)),m0=EI(),h0=Lo(),fd=ot(),wB=(Oe(),G(Fr)),_B=Uo(),g0=qt(),eo=or(),y0=$r(),S0=B(),bB=qo(),TB=Ho(),AB=qn(),xB=p0(),RB=e=>{(0,S0.emitWarningIfUnsupportedVersion)(process.version);let t=(0,TB.resolveDefaultsModeConfig)(e),r=()=>t().then(S0.loadConfigsForDefaultMode),n=(0,xB.getRuntimeConfig)(e);(0,Xh.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,eo.loadConfig)(Xh.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??bB.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??m0.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,h0.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:EB.default.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await(0,m0.defaultProvider)(i?.__config||{})()),signer:new Xh.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new wB.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,eo.loadConfig)(g0.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,eo.loadConfig)(fd.NODE_REGION_CONFIG_OPTIONS,{...fd.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:y0.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,eo.loadConfig)({...g0.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||AB.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??_B.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??y0.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,eo.loadConfig)(fd.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,eo.loadConfig)(fd.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,eo.loadConfig)(h0.NODE_APP_ID_CONFIG_OPTIONS,o)}};pd.getRuntimeConfig=RB});var w0=P(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.resolveHttpAuthRuntimeConfig=ss.getHttpAuthExtensionConfiguration=void 0;var CB=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}};ss.getHttpAuthExtensionConfiguration=CB;var vB=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()});ss.resolveHttpAuthRuntimeConfig=vB});var x0=P(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});md.resolveRuntimeExtensions=void 0;var _0=un(),b0=ce(),T0=B(),A0=w0(),IB=(e,t)=>{let r=Object.assign((0,_0.getAwsRegionExtensionConfiguration)(e),(0,T0.getDefaultExtensionConfiguration)(e),(0,b0.getHttpHandlerExtensionConfiguration)(e),(0,A0.getHttpAuthExtensionConfiguration)(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,_0.resolveAwsRegionExtensionConfiguration)(r),(0,T0.resolveDefaultRuntimeConfig)(r),(0,b0.resolveHttpHandlerRuntimeConfig)(r),(0,A0.resolveHttpAuthRuntimeConfig)(r))};md.resolveRuntimeExtensions=IB});var Yp=P(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.STSClient=is.__Client=void 0;var R0=to(),PB=ro(),OB=no(),C0=Ln(),NB=ot(),Jh=(Oe(),G(Fr)),DB=(ee(),G(uo)),kB=No(),$B=Ut(),v0=qt(),P0=B();Object.defineProperty(is,"__Client",{enumerable:!0,get:function(){return P0.Client}});var I0=Kp(),MB=Xp(),FB=E0(),LB=x0(),Qh=class extends P0.Client{config;constructor(...[t]){let r=(0,FB.getRuntimeConfig)(t||{});super(r),this.initConfig=r;let n=(0,MB.resolveClientEndpointParameters)(r),o=(0,C0.resolveUserAgentConfig)(n),s=(0,v0.resolveRetryConfig)(o),i=(0,NB.resolveRegionConfig)(s),a=(0,R0.resolveHostHeaderConfig)(i),c=(0,$B.resolveEndpointConfig)(a),u=(0,I0.resolveHttpAuthSchemeConfig)(c),m=(0,LB.resolveRuntimeExtensions)(u,t?.extensions||[]);this.config=m,this.middlewareStack.use((0,DB.getSchemaSerdePlugin)(this.config)),this.middlewareStack.use((0,C0.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,v0.getRetryPlugin)(this.config)),this.middlewareStack.use((0,kB.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,R0.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,PB.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,OB.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Jh.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:I0.defaultSTSHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async l=>new Jh.DefaultIdentityProviderConfig({"aws.auth#sigv4":l.credentials})})),this.middlewareStack.use((0,Jh.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};is.STSClient=Qh});var L0=P(Se=>{"use strict";var ki=Yp(),gt=B(),Kt=Ut(),Yt=Xp(),ht=Yh(),O0=Bh(),Zh=(ct(),G(er)),UB=un(),qB=id(),$i=class extends gt.Command.classBuilder().ep(Yt.commonParams).m(function(t,r,n,o){return[Kt.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(ht.AssumeRole$).build(){},hd=class extends gt.Command.classBuilder().ep(Yt.commonParams).m(function(t,r,n,o){return[Kt.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithSAML",{}).n("STSClient","AssumeRoleWithSAMLCommand").sc(ht.AssumeRoleWithSAML$).build(){},Mi=class extends gt.Command.classBuilder().ep(Yt.commonParams).m(function(t,r,n,o){return[Kt.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(ht.AssumeRoleWithWebIdentity$).build(){},gd=class extends gt.Command.classBuilder().ep(Yt.commonParams).m(function(t,r,n,o){return[Kt.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoot",{}).n("STSClient","AssumeRootCommand").sc(ht.AssumeRoot$).build(){},yd=class extends gt.Command.classBuilder().ep(Yt.commonParams).m(function(t,r,n,o){return[Kt.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","DecodeAuthorizationMessage",{}).n("STSClient","DecodeAuthorizationMessageCommand").sc(ht.DecodeAuthorizationMessage$).build(){},Sd=class extends gt.Command.classBuilder().ep(Yt.commonParams).m(function(t,r,n,o){return[Kt.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetAccessKeyInfo",{}).n("STSClient","GetAccessKeyInfoCommand").sc(ht.GetAccessKeyInfo$).build(){},Ed=class extends gt.Command.classBuilder().ep(Yt.commonParams).m(function(t,r,n,o){return[Kt.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetCallerIdentity",{}).n("STSClient","GetCallerIdentityCommand").sc(ht.GetCallerIdentity$).build(){},wd=class extends gt.Command.classBuilder().ep(Yt.commonParams).m(function(t,r,n,o){return[Kt.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetDelegatedAccessToken",{}).n("STSClient","GetDelegatedAccessTokenCommand").sc(ht.GetDelegatedAccessToken$).build(){},_d=class extends gt.Command.classBuilder().ep(Yt.commonParams).m(function(t,r,n,o){return[Kt.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetFederationToken",{}).n("STSClient","GetFederationTokenCommand").sc(ht.GetFederationToken$).build(){},bd=class extends gt.Command.classBuilder().ep(Yt.commonParams).m(function(t,r,n,o){return[Kt.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetSessionToken",{}).n("STSClient","GetSessionTokenCommand").sc(ht.GetSessionToken$).build(){},Td=class extends gt.Command.classBuilder().ep(Yt.commonParams).m(function(t,r,n,o){return[Kt.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetWebIdentityToken",{}).n("STSClient","GetWebIdentityTokenCommand").sc(ht.GetWebIdentityToken$).build(){},HB={AssumeRoleCommand:$i,AssumeRoleWithSAMLCommand:hd,AssumeRoleWithWebIdentityCommand:Mi,AssumeRootCommand:gd,DecodeAuthorizationMessageCommand:yd,GetAccessKeyInfoCommand:Sd,GetCallerIdentityCommand:Ed,GetDelegatedAccessTokenCommand:wd,GetFederationTokenCommand:_d,GetSessionTokenCommand:bd,GetWebIdentityTokenCommand:Td},Ad=class extends ki.STSClient{};gt.createAggregatedClient(HB,Ad);var N0=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},D0=async(e,t,r,n={})=>{let o=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t,i="",a=o??s??(i=await UB.stsRegionDefaultResolver(n)());return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (credential provider clientConfig)`,`${s} (contextual client)`,`${i} (STS default: AWS_REGION, profile region, or us-east-1)`),a},jB=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:m=e?.parentClientConfig?.logger,profile:l=e?.parentClientConfig?.profile,region:g,requestHandler:h=e?.parentClientConfig?.requestHandler,credentialProviderLogger:y,userAgentAppId:A=e?.parentClientConfig?.userAgentAppId}=e,R=await D0(g,e?.parentClientConfig?.region,y,{logger:m,profile:l}),v=!k0(h);r=new t({...e,userAgentAppId:A,profile:l,credentialDefaultProvider:()=>async()=>n,region:R,requestHandler:v?h:void 0,logger:m})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new $i(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let c=N0(a),u={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...c&&{accountId:c}};return Zh.setCredentialFeature(u,"CREDENTIALS_STS_ASSUME_ROLE","i"),u}},BB=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,profile:u=e?.parentClientConfig?.profile,region:m,requestHandler:l=e?.parentClientConfig?.requestHandler,credentialProviderLogger:g,userAgentAppId:h=e?.parentClientConfig?.userAgentAppId}=e,y=await D0(m,e?.parentClientConfig?.region,g,{logger:c,profile:u}),A=!k0(l);r=new t({...e,userAgentAppId:h,profile:u,region:y,requestHandler:A?l:void 0,logger:c})}let{Credentials:o,AssumedRoleUser:s}=await r.send(new Mi(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=N0(s),a={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...i&&{accountId:i}};return i&&Zh.setCredentialFeature(a,"RESOLVED_ACCOUNT_ID","T"),Zh.setCredentialFeature(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},k0=e=>e?.metadata?.handlerProtocol==="h2",$0=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,M0=(e={},t)=>jB(e,$0(ki.STSClient,t)),F0=(e={},t)=>BB(e,$0(ki.STSClient,t)),zB=e=>t=>e({roleAssumer:M0(t),roleAssumerWithWebIdentity:F0(t),...t});Object.defineProperty(Se,"$Command",{enumerable:!0,get:function(){return gt.Command}});Object.defineProperty(Se,"STSServiceException",{enumerable:!0,get:function(){return qB.STSServiceException}});Se.AssumeRoleCommand=$i;Se.AssumeRoleWithSAMLCommand=hd;Se.AssumeRoleWithWebIdentityCommand=Mi;Se.AssumeRootCommand=gd;Se.DecodeAuthorizationMessageCommand=yd;Se.GetAccessKeyInfoCommand=Sd;Se.GetCallerIdentityCommand=Ed;Se.GetDelegatedAccessTokenCommand=wd;Se.GetFederationTokenCommand=_d;Se.GetSessionTokenCommand=bd;Se.GetWebIdentityTokenCommand=Td;Se.STS=Ad;Se.decorateDefaultCredentialProvider=zB;Se.getDefaultRoleAssumer=M0;Se.getDefaultRoleAssumerWithWebIdentity=F0;Object.keys(ki).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Se,e)&&Object.defineProperty(Se,e,{enumerable:!0,get:function(){return ki[e]}})});Object.keys(ht).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Se,e)&&Object.defineProperty(Se,e,{enumerable:!0,get:function(){return ht[e]}})});Object.keys(O0).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Se,e)&&Object.defineProperty(Se,e,{enumerable:!0,get:function(){return O0[e]}})})});var GB={};Ye(GB,{handler:()=>WB});module.exports=G(GB);var xd=_(L0()),VB=new xd.STSClient,WB=async()=>VB.send(new xd.GetCallerIdentityCommand);0&&(module.exports={handler});
